"use strict";var wh=Object.create;var wr=Object.defineProperty;var Sh=Object.getOwnPropertyDescriptor;var Eh=Object.getOwnPropertyNames;var xh=Object.getPrototypeOf,Th=Object.prototype.hasOwnProperty;var kh=(t,e,n)=>e in t?wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var i=(t,e)=>wr(t,"name",{value:e,configurable:!0});var Z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ih=(t,e)=>{for(var n in e)wr(t,n,{get:e[n],enumerable:!0})},Ph=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Eh(e))!Th.call(t,s)&&s!==n&&wr(t,s,{get:()=>e[s],enumerable:!(r=Sh(e,s))||r.enumerable});return t};var Dt=(t,e,n)=>(n=t!=null?wh(xh(t)):{},Ph(e||!t||!t.__esModule?wr(n,"default",{value:t,enumerable:!0}):n,t));var Vt=(t,e,n)=>kh(t,typeof e!="symbol"?e+"":e,n);var id=Z(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.bytePairEncode=It.BinaryMap=It.binaryMapKey=void 0;var Vh=i((t,e,n)=>{let r=n-e,s=16777215>>>Math.max(0,(3-r)*8),u=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&s,o=16777215>>>Math.min(31,Math.max(0,(6-r)*8)),a=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&o;return u+16777216*a},"binaryMapKey");It.binaryMapKey=Vh;var Pr=class Pr{constructor(){this.nested=new Map,this.final=new Map}get(e,n=0,r=e.length){var o;let s=r<6+n,u=(0,It.binaryMapKey)(e,n,r);return s?this.final.get(u):(o=this.nested.get(u))==null?void 0:o.get(e,6+n,r)}set(e,n){let r=(0,It.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(r,n);return}let u=this.nested.get(r);if(u instanceof Pr)u.set(e.subarray(6),n);else{let o=new Pr;o.set(e.subarray(6),n),this.nested.set(r,o)}}};i(Pr,"BinaryMap");var ws=Pr;It.BinaryMap=ws;var kt=new Int32Array(128),Qe=new Int32Array(128);function Hh(t,e,n){var l;if(n===1)return[e.get(t)];let r=2147483647,s=-1;for(;kt.length<n*2;)Qe=new Int32Array(Qe.length*2),kt=new Int32Array(kt.length*2);for(let c=0;c<n-1;c++){let m=(l=e.get(t,c,c+2))!=null?l:2147483647;m<r&&(r=m,s=c),Qe[c]=c,kt[c]=m}Qe[n-1]=n-1,kt[n-1]=2147483647,Qe[n]=n,kt[n]=2147483647;let u=n+1;function o(c,m=0){if(c+m+2<u){let g=e.get(t,Qe[c],Qe[c+m+2]);if(g!==void 0)return g}return 2147483647}for(i(o,"getRank");r!==2147483647;){kt[Qe[s]]=o(s,1),s>0&&(kt[Qe[s-1]]=o(s-1,1));for(let c=s+1;c<u-1;c++)Qe[c]=Qe[c+1];u--,s=-1,r=2147483647;for(let c=0;c<u-1;c++){let m=kt[Qe[c]];kt[Qe[c]]<r&&(r=m,s=c)}}let a=[];for(let c=0;c<u-1;c++)a.push(e.get(t,Qe[c],Qe[c+1]));return a}i(Hh,"bytePairEncode");It.bytePairEncode=Hh});var od=Z(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.makeTextEncoder=void 0;var xs=class xs{constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let n=this.encoder.encode(e);return this.length=n.length,n}};i(xs,"UniversalTextEncoder");var Ss=xs,Ts=class Ts{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}};i(Ts,"NodeTextEncoder");var Es=Ts,Gh=i(()=>typeof Buffer<"u"?new Es:new Ss,"makeTextEncoder");_i.makeTextEncoder=Gh});var sd=Z(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.LRUCache=void 0;var Ps=class Ps{constructor(e){this.size=e,this.nodes=new Map}get(e){let n=this.nodes.get(e);if(n)return this.moveToHead(n),n.value}set(e,n){let r=this.nodes.get(e);if(r)r.value=n,this.moveToHead(r);else{let s=new Is(e,n);this.nodes.set(e,s),this.addNode(s),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};i(Ps,"LRUCache");var ks=Ps;yi.LRUCache=ks;var Rs=class Rs{constructor(e,n){this.key=e,this.value=n}};i(Rs,"Node");var Is=Rs});var Ls=Z(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.TikTokenizer=void 0;var Zh=require("fs"),Qh=require("util"),bi=id(),Jh=od(),Kh=sd();function Xh(t){let e=new Map;try{let r=Zh.readFileSync(t,"utf-8");return n(r),e}catch(r){throw new Error(`Failed to load from BPE encoder file stream: ${r}`)}function n(r){for(let s of r.split(/[\r\n]+/)){if(s.trim()==="")continue;let u=s.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let o=new Uint8Array(Buffer.from(u[0],"base64")),a=parseInt(u[1]);if(!isNaN(a))e.set(o,a);else throw new Error(`Can't parse ${u[1]} to integer`)}}i(n,"processBpeRanks")}i(Xh,"loadTikTokenBpe");function Yh(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i(Yh,"escapeRegExp");var Cs=class Cs{constructor(e,n,r,s=8192){this.textEncoder=(0,Jh.makeTextEncoder)(),this.textDecoder=new Qh.TextDecoder("utf-8"),this.cache=new Kh.LRUCache(s);let u=typeof e=="string"?Xh(e):e;this.init(u,n,r)}init(e,n,r){this.encoder=new bi.BinaryMap;for(let[s,u]of e)this.encoder.set(s,u);this.regex=new RegExp(r,"gu"),this.specialTokensRegex=new RegExp(Array.from(n.keys()).map(s=>Yh(s)).join("|")),this.specialTokensEncoder=n,this.decoder=new Map;for(let[s,u]of e)this.decoder.set(u,s);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[s,u]of n)this.specialTokensDecoder.set(u,s)}findNextSpecialToken(e,n,r){let s=n,u=null;if(r&&this.specialTokensRegex)for(;u=e.slice(s).match(this.specialTokensRegex),!(!u||r&&r.includes(u[0]));)s+=u.index+1;let o=u?s+u.index:e.length;return[u,o]}encode(e,n){let r=[],s=0;for(;;){let u,o;if([u,o]=this.findNextSpecialToken(e,s,n),o>s&&this.encodeByIndex(e,r,s,o),u){if(s=s+this.encodeSpecialToken(r,u),s>=e.length)break}else break}return r}encodeSpecialToken(e,n){var s;let r=(s=this.specialTokensEncoder)==null?void 0:s.get(n[0]);return e.push(r),n.index+n[0].length}encodeByIndex(e,n,r,s){let u,o=e.substring(r,s);for(this.regex.lastIndex=0;u=this.regex.exec(o);){let a=this.cache.get(u[0]);if(a)for(let l of a)n.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)n.push(c),this.cache.set(u[0],[c]);else{let m=(0,bi.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let g of m)n.push(g);this.cache.set(u[0],m)}}}}encodeTrimSuffixByIndex(e,n,r,s,u,o,a){let l,c=e.substring(r,s);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let m=l[0],g=this.cache.get(m);if(g)if(o+g.length<=u)o+=g.length,a+=m.length,n.push(...g);else{let _=u-o;o+=_,a+=m.length,n.push(...g.slice(0,_));break}else{let _=this.textEncoder.encode(m),w=this.encoder.get(_,0,_.length);if(w!==void 0)if(this.cache.set(m,[w]),o+1<=u)o++,a+=m.length,n.push(w);else break;else{let x=(0,bi.bytePairEncode)(_,this.encoder,this.textEncoder.length);if(this.cache.set(m,x),o+x.length<=u){o+=x.length,a+=m.length;for(let T of x)n.push(T)}else{let T=u-o;o+=T,a+=m.length;for(let O=0;O<T;O++)n.push(x[O]);break}}}if(o>=u)break}return{tokenCount:o,encodeLength:a}}encodeTrimSuffix(e,n,r){let s=[],u=0,o=0,a=0;for(;;){let c,m;if([c,m]=this.findNextSpecialToken(e,u,r),m>u){let{tokenCount:g,encodeLength:_}=this.encodeTrimSuffixByIndex(e,s,u,m,n,o,a);if(o=g,a=_,o>=n)break}if(c!==null){if(o++,o<=n&&(u=u+this.encodeSpecialToken(s,c),a+=c[0].length,u>=e.length)||o>=n)break}else break}let l=a===e.length?e:e.slice(0,a);return{tokenIds:s,text:l}}encodeTrimPrefix(e,n,r){let s=[],u=0,o=0,a=0,l=new Map;for(l.set(o,a);;){let _,w;if([_,w]=this.findNextSpecialToken(e,u,r),w>u){let x,T=e.substring(u,w);for(this.regex.lastIndex=0;x=this.regex.exec(T);){let O=x[0],R=this.cache.get(O);if(R)o+=R.length,a+=O.length,s.push(...R),l.set(o,a);else{let H=this.textEncoder.encode(O),q=this.encoder.get(H);if(q!==void 0)this.cache.set(O,[q]),o++,a+=O.length,s.push(q),l.set(o,a);else{let Q=(0,bi.bytePairEncode)(H,this.encoder,this.textEncoder.length);this.cache.set(O,Q),o+=Q.length,a+=O.length;for(let W of Q)s.push(W);l.set(o,a)}}}}if(_!==null){if(u=u+this.encodeSpecialToken(s,_),o++,a+=_[0].length,l.set(o,a),u>=e.length)break}else break}if(o<=n)return{tokenIds:s,text:e};let c=o-n,m=0,g=0;for(let[_,w]of l)if(_>=c){m=_,g=w;break}if(m>n){let _=this.encode(e,r),w=_.slice(_.length-n);return{tokenIds:w,text:this.decode(w)}}return{tokenIds:s.slice(m),text:e.slice(g)}}decode(e){var r,s;let n=[];for(let u of e){let o=[],a=(r=this.decoder)==null?void 0:r.get(u);if(a!==void 0)o=Array.from(a);else{let l=(s=this.specialTokensDecoder)==null?void 0:s.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);o=Array.from(c.subarray(0,this.textEncoder.length))}}n.push(...o)}return this.textDecoder.decode(new Uint8Array(n))}};i(Cs,"TikTokenizer");var Ms=Cs;vi.TikTokenizer=Ms});var hd=Z(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.createTokenizer=Ne.createByEncoderName=Ne.createByModelName=Ne.getRegexByModel=Ne.getRegexByEncoder=Ne.getSpecialTokensByModel=Ne.getSpecialTokensByEncoder=Ne.MODEL_TO_ENCODING=void 0;var Si=require("fs"),Ns=require("path"),e_=Ls(),t_=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Ne.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var wi="<|endoftext|>",ad="<|fim_prefix|>",ud="<|fim_middle|>",ld="<|fim_suffix|>",cd="<|endofprompt|>",Rr="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",dd="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",n_=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],fd=n_.join("|");function As(t){let e="";if(Ne.MODEL_TO_ENCODING.has(t))e=Ne.MODEL_TO_ENCODING.get(t);else for(let[n,r]of t_)if(t.startsWith(n)){e=r;break}return e}i(As,"getEncoderFromModelName");async function r_(t,e){let n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let r=await n.text();Si.writeFileSync(e,r)}i(r_,"fetchAndSaveFile");function Os(t){let e=new Map([[wi,50256]]);switch(t){case"o200k_base":e=new Map([[wi,199999],[cd,200018]]);break;case"cl100k_base":e=new Map([[wi,100257],[ad,100258],[ud,100259],[ld,100260],[cd,100276]]);break;case"p50k_edit":e=new Map([[wi,50256],[ad,50281],[ud,50282],[ld,50283]]);break;default:break}return e}i(Os,"getSpecialTokensByEncoder");Ne.getSpecialTokensByEncoder=Os;function i_(t){let e=As(t);return Os(e)}i(i_,"getSpecialTokensByModel");Ne.getSpecialTokensByModel=i_;function md(t){switch(t){case"o200k_base":return fd;case"cl100k_base":return dd;default:break}return Rr}i(md,"getRegexByEncoder");Ne.getRegexByEncoder=md;function o_(t){let e=As(t);return md(e)}i(o_,"getRegexByModel");Ne.getRegexByModel=o_;async function s_(t,e=null){return pd(As(t),e)}i(s_,"createByModelName");Ne.createByModelName=s_;async function pd(t,e=null){let n,r,s=Os(t);switch(t){case"o200k_base":n=fd,r="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":n=dd,r="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":n=Rr,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":n=Rr,r="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":n=Rr,r="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":n=Rr,r="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(s=new Map([...s,...e]));let u=Ns.basename(r),o=Ns.resolve(__dirname,"..","model");Si.existsSync(o)||Si.mkdirSync(o,{recursive:!0});let a=Ns.resolve(o,u);return Si.existsSync(a)||(console.log(`Downloading file from ${r}`),await r_(r,a),console.log(`Saved file to ${a}`)),gd(a,s,n)}i(pd,"createByEncoderName");Ne.createByEncoderName=pd;function gd(t,e,n,r=8192){return new e_.TikTokenizer(t,e,n,r)}i(gd,"createTokenizer");Ne.createTokenizer=gd});var _d=Z(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.createTokenizer=Ae.createByEncoderName=Ae.createByModelName=Ae.getSpecialTokensByModel=Ae.getSpecialTokensByEncoder=Ae.getRegexByModel=Ae.getRegexByEncoder=Ae.MODEL_TO_ENCODING=Ae.TikTokenizer=void 0;var a_=Ls();Object.defineProperty(Ae,"TikTokenizer",{enumerable:!0,get:i(function(){return a_.TikTokenizer},"get")});var Gt=hd();Object.defineProperty(Ae,"MODEL_TO_ENCODING",{enumerable:!0,get:i(function(){return Gt.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ae,"getRegexByEncoder",{enumerable:!0,get:i(function(){return Gt.getRegexByEncoder},"get")});Object.defineProperty(Ae,"getRegexByModel",{enumerable:!0,get:i(function(){return Gt.getRegexByModel},"get")});Object.defineProperty(Ae,"getSpecialTokensByEncoder",{enumerable:!0,get:i(function(){return Gt.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ae,"getSpecialTokensByModel",{enumerable:!0,get:i(function(){return Gt.getSpecialTokensByModel},"get")});Object.defineProperty(Ae,"createByModelName",{enumerable:!0,get:i(function(){return Gt.createByModelName},"get")});Object.defineProperty(Ae,"createByEncoderName",{enumerable:!0,get:i(function(){return Gt.createByEncoderName},"get")});Object.defineProperty(Ae,"createTokenizer",{enumerable:!0,get:i(function(){return Gt.createTokenizer},"get")})});var Rd=Z((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((o,a)=>{throw a},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(o){return Module.locateFile?Module.locateFile(o,scriptDirectory):scriptDirectory+o}i(locateFile,"locateFile");function logExceptionOnExit(o){o instanceof ExitStatus||err("exiting due to exception: "+o)}if(i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((o,a)=>(o=isFileURI(o)?new URL(o):nodePath.normalize(o),fs.readFileSync(o,a?void 0:"utf8")),"read_"),readBinary=i(o=>{var a=read_(o,!0);return a.buffer||(a=new Uint8Array(a)),a},"readBinary"),readAsync=i((o,a,l)=>{o=isFileURI(o)?new URL(o):nodePath.normalize(o),fs.readFile(o,function(c,m){c?l(c):a(m.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((o,a)=>{if(keepRuntimeAlive())throw process.exitCode=o,a;logExceptionOnExit(a),process.exit(o)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.send(null),a.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(o=>{var a=new XMLHttpRequest;return a.open("GET",o,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)},"readBinary")),readAsync=i((o,a,l)=>{var c=new XMLHttpRequest;c.open("GET",o,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?a(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=i(o=>document.title=o,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(o,a,l){for(var c=a+l,m=a;o[m]&&!(m>=c);)++m;if(m-a>16&&o.buffer&&UTF8Decoder)return UTF8Decoder.decode(o.subarray(a,m));for(var g="";a<m;){var _=o[a++];if(128&_){var w=63&o[a++];if((224&_)!=192){var x=63&o[a++];if((_=(240&_)==224?(15&_)<<12|w<<6|x:(7&_)<<18|w<<12|x<<6|63&o[a++])<65536)g+=String.fromCharCode(_);else{var T=_-65536;g+=String.fromCharCode(55296|T>>10,56320|1023&T)}}else g+=String.fromCharCode((31&_)<<6|w)}else g+=String.fromCharCode(_)}return g}i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(o,a){return o?UTF8ArrayToString(HEAPU8,o,a):""}i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(o,a,l,c){if(!(c>0))return 0;for(var m=l,g=l+c-1,_=0;_<o.length;++_){var w=o.charCodeAt(_);if(w>=55296&&w<=57343&&(w=65536+((1023&w)<<10)|1023&o.charCodeAt(++_)),w<=127){if(l>=g)break;a[l++]=w}else if(w<=2047){if(l+1>=g)break;a[l++]=192|w>>6,a[l++]=128|63&w}else if(w<=65535){if(l+2>=g)break;a[l++]=224|w>>12,a[l++]=128|w>>6&63,a[l++]=128|63&w}else{if(l+3>=g)break;a[l++]=240|w>>18,a[l++]=128|w>>12&63,a[l++]=128|w>>6&63,a[l++]=128|63&w}}return a[l]=0,l-m}i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(o,a,l){return stringToUTF8Array(o,HEAPU8,a,l)}i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(o){for(var a=0,l=0;l<o.length;++l){var c=o.charCodeAt(l);c<=127?a++:c<=2047?a+=2:c>=55296&&c<=57343?(a+=4,++l):a+=3}return a}i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(o){buffer=o,Module.HEAP8=HEAP8=new Int8Array(o),Module.HEAP16=HEAP16=new Int16Array(o),Module.HEAP32=HEAP32=new Int32Array(o),Module.HEAPU8=HEAPU8=new Uint8Array(o),Module.HEAPU16=HEAPU16=new Uint16Array(o),Module.HEAPU32=HEAPU32=new Uint32Array(o),Module.HEAPF32=HEAPF32=new Float32Array(o),Module.HEAPF64=HEAPF64=new Float64Array(o)}i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}i(postRun,"postRun");function addOnPreRun(o){__ATPRERUN__.unshift(o)}i(addOnPreRun,"addOnPreRun");function addOnInit(o){__ATINIT__.unshift(o)}i(addOnInit,"addOnInit");function addOnPostRun(o){__ATPOSTRUN__.unshift(o)}i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(o){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}i(addRunDependency,"addRunDependency");function removeRunDependency(o){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var a=dependenciesFulfilled;dependenciesFulfilled=null,a()}}i(removeRunDependency,"removeRunDependency");function abort(o){throw Module.onAbort&&Module.onAbort(o),err(o="Aborted("+o+")"),ABORT=!0,EXITSTATUS=1,o+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(o)}i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(o){return o.startsWith(dataURIPrefix)}i(isDataURI,"isDataURI");function isFileURI(o){return o.startsWith("file://")}i(isFileURI,"isFileURI");function getBinary(o){try{if(o==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(o);throw"both async and sync fetching of the wasm failed"}catch(a){abort(a)}}i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(o){if(!o.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return o.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(o,a){readAsync(wasmBinaryFile,function(l){o(new Uint8Array(l))},a)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}i(getBinaryPromise,"getBinaryPromise");function createWasm(){var o={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function a(m,g){var _=m.exports;_=relocateExports(_,1024);var w=getDylinkMetadata(g);w.neededDynlibs&&(dynamicLibraries=w.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(_,"main"),Module.asm=_,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}i(a,"t");function l(m){a(m.instance,m.module)}i(l,"r");function c(m){return getBinaryPromise().then(function(g){return WebAssembly.instantiate(g,o)}).then(function(g){return g}).then(m,function(g){err("failed to asynchronously prepare wasm: "+g),abort(g)})}if(i(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(o,a)}catch(m){return err("Module.instantiateWasm callback failed with error: "+m),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(m){return WebAssembly.instantiateStreaming(m,o).then(l,function(g){return err("wasm streaming compile failed: "+g),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(o){this.name="ExitStatus",this.message="Program terminated with exit("+o+")",this.status=o}i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:i(function(o,a){var l=GOT[a];return l||(l=GOT[a]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(a)||(l.required=!0),l},"get")};function callRuntimeCallbacks(o){for(;o.length>0;)o.shift()(Module)}i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(o){var a=0,l=0;function c(){for(var X=0,D=1;;){var te=o[a++];if(X+=(127&te)*D,D*=128,!(128&te))break}return X}i(c,"_");function m(){var X=c();return UTF8ArrayToString(o,(a+=X)-X,X)}i(m,"n");function g(X,D){if(X)throw new Error(D)}i(g,"s");var _="dylink.0";if(o instanceof WebAssembly.Module){var w=WebAssembly.Module.customSections(o,_);w.length===0&&(_="dylink",w=WebAssembly.Module.customSections(o,_)),g(w.length===0,"need dylink section"),l=(o=new Uint8Array(w[0])).length}else{g(new Uint32Array(new Uint8Array(o.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),g(o[8]!==0,"need the dylink section to be first"),a=9;var x=c();l=a+x,_=m()}var T={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(_=="dylink"){T.memorySize=c(),T.memoryAlign=c(),T.tableSize=c(),T.tableAlign=c();for(var O=c(),R=0;R<O;++R){var H=m();T.neededDynlibs.push(H)}}else for(g(_!=="dylink.0");a<l;){var q=o[a++],Q=c();if(q===1)T.memorySize=c(),T.memoryAlign=c(),T.tableSize=c(),T.tableAlign=c();else if(q===2)for(O=c(),R=0;R<O;++R)H=m(),T.neededDynlibs.push(H);else if(q===3)for(var W=c();W--;){var Y=m();256&c()&&T.tlsExports.add(Y)}else if(q===4)for(W=c();W--;)m(),Y=m(),(3&c())==1&&T.weakImports.add(Y);else a+=Q}return T}i(getDylinkMetadata,"getDylinkMetadata");function getValue(o,a="i8"){switch(a.endsWith("*")&&(a="*"),a){case"i1":case"i8":return HEAP8[o>>0];case"i16":return HEAP16[o>>1];case"i32":case"i64":return HEAP32[o>>2];case"float":return HEAPF32[o>>2];case"double":return HEAPF64[o>>3];case"*":return HEAPU32[o>>2];default:abort("invalid type for getValue: "+a)}return null}i(getValue,"getValue");function asmjsMangle(o){return o.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(o)?o:"_"+o}i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(o,a){for(var l in o)if(o.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=o[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=o[l]),l=="__main_argc_argv"&&(Module._main=o[l])}}i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(o,a,l){var c=Module["dynCall_"+o];return l&&l.length?c.apply(null,[a].concat(l)):c.call(null,a)}i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(o){var a=wasmTableMirror[o];return a||(o>=wasmTableMirror.length&&(wasmTableMirror.length=o+1),wasmTableMirror[o]=a=wasmTable.get(o)),a}i(getWasmTableEntry,"getWasmTableEntry");function dynCall(o,a,l){return o.includes("j")?dynCallLegacy(o,a,l):getWasmTableEntry(a).apply(null,l)}i(dynCall,"dynCall");function createInvokeFunction(o){return function(){var a=stackSave();try{return dynCall(o,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(a),l!==l+0)throw l;_setThrew(1,0)}}}i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(o,a){return HEAPU8.fill(0,o,o+a),o}i(zeroMemory,"zeroMemory");function getMemory(o){if(runtimeInitialized)return zeroMemory(_malloc(o),o);var a=___heap_base,l=a+o+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,a}i(getMemory,"getMemory");function isInternalSym(o){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(o)}i(isInternalSym,"isInternalSym");function uleb128Encode(o,a){o<128?a.push(o):a.push(o%128|128,o>>7)}i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(o){for(var a={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:o[0]=="v"?[]:[a[o[0]]]},c=1;c<o.length;++c)l.parameters.push(a[o[c]]),o[c]==="j"&&l.parameters.push("i32");return l}i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(o,a){var l=o.slice(0,1),c=o.slice(1),m={i:127,p:127,j:126,f:125,d:124};a.push(96),uleb128Encode(c.length,a);for(var g=0;g<c.length;++g)a.push(m[c[g]]);l=="v"?a.push(0):a.push(1,m[l])}i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(o,a){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(a),o);var l=[1];generateFuncType(a,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var m=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(m,{e:{f:o}}).exports.f}i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(o,a){if(functionsInTableMap)for(var l=o;l<o+a;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(o){throw o instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":o}return wasmTable.length-1}i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(o,a){wasmTable.set(o,a),wasmTableMirror[o]=wasmTable.get(o)}i(setWasmTableEntry,"setWasmTableEntry");function addFunction(o,a){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(o))return functionsInTableMap.get(o);var l=getEmptyTableSlot();try{setWasmTableEntry(l,o)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(o,a))}return functionsInTableMap.set(o,l),l}i(addFunction,"addFunction");function updateGOT(o,a){for(var l in o)if(!isInternalSym(l)){var c=o[l];l.startsWith("orig$")&&(l=l.split("$")[1],a=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(a||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}i(updateGOT,"updateGOT");function relocateExports(o,a,l){var c={};for(var m in o){var g=o[m];typeof g=="object"&&(g=g.value),typeof g=="number"&&(g+=a),c[m]=g}return updateGOT(c,l),c}i(relocateExports,"relocateExports");function resolveGlobalSymbol(o,a){var l;return a&&(l=asmLibraryArg["orig$"+o]),l||(l=asmLibraryArg[o])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(o)]),!l&&o.startsWith("invoke_")&&(l=createInvokeFunction(o.split("_")[1])),l}i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(o,a){return Math.ceil(o/a)*a}i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(o){var a=resolveGlobalSymbol(o,!1);return a||(a=moduleExports[o]),a}i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:i(function(o,a){switch(a){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(a in asmLibraryArg)return asmLibraryArg[a];var l;return a in o||(o[a]=function(){return l||(l=resolveSymbol(a)),l.apply(null,arguments)}),o[a]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(o){return postInstantiation(o.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(o,a){return o.then(function(){return loadDynamicLibrary(a,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(o){loadDynamicLibrary(o,flags)}),loadModule())}i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(o,a,l){a=a||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[o];if(c)return a.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,o)),a.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!a.loadAsync||Promise.resolve(!0);function m(w){if(a.fs&&a.fs.findObject(w)){var x=a.fs.readFile(w,{encoding:"binary"});return x instanceof Uint8Array||(x=new Uint8Array(x)),a.loadAsync?Promise.resolve(x):x}if(w=locateFile(w),a.loadAsync)return new Promise(function(T,O){readAsync(w,R=>T(new Uint8Array(R)),O)});if(!readBinary)throw new Error(w+": file not found, and synchronous loading of external files is not available");return readBinary(w)}i(m,"n");function g(){if(typeof preloadedWasm<"u"&&preloadedWasm[o]){var w=preloadedWasm[o];return a.loadAsync?Promise.resolve(w):w}return a.loadAsync?m(o).then(function(x){return loadWebAssemblyModule(x,a,l)}):loadWebAssemblyModule(m(o),a,l)}i(g,"s");function _(w){c.global&&mergeLibSymbols(w,o),c.module=w}return i(_,"a"),c={refcount:a.nodelete?1/0:1,name:o,module:"loading",global:a.global},LDSO.loadedLibsByName[o]=c,l&&(LDSO.loadedLibsByHandle[l]=c),a.loadAsync?g().then(function(w){return _(w),!0}):(_(g()),!0)}i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var o in GOT)if(GOT[o].value==0){var a=resolveGlobalSymbol(o,!0);if(!a&&!GOT[o].required)continue;if(typeof a=="function")GOT[o].value=addFunction(a,a.sig);else{if(typeof a!="number")throw new Error("bad export type for `"+o+"`: "+typeof a);GOT[o].value=a}}}i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(o,a){return o.then(function(){return loadDynamicLibrary(a,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}i(preloadDylibs,"preloadDylibs");function setValue(o,a,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[o>>0]=a;break;case"i16":HEAP16[o>>1]=a;break;case"i32":HEAP32[o>>2]=a;break;case"i64":tempI64=[a>>>0,(tempDouble=a,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1];break;case"float":HEAPF32[o>>2]=a;break;case"double":HEAPF64[o>>3]=a;break;case"*":HEAPU32[o>>2]=a;break;default:abort("invalid type for setValue: "+l)}}i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(o,a,l){HEAPU8.copyWithin(o,a,a+l)}i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(o){try{return wasmMemory.grow(o-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(o){var a=HEAPU8.length;o>>>=0;var l=getHeapMax();if(o>l)return!1;for(var c=1;c<=4;c*=2){var m=a*(1+.2/c);if(m=Math.min(m,o+100663296),emscripten_realloc_buffer(Math.min(l,(g=Math.max(o,m))+((_=65536)-g%_)%_)))return!0}var g,_;return!1}i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var o=process.hrtime();return 1e3*o[0]+o[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:i(function(o,a,l){if(PATH.isAbs(a))return a;var c;if(o===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(o).path,a.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,a)},"calculateAt"),doStat:i(function(o,a,l){try{var c=o(a)}catch(w){if(w&&w.node&&PATH.normalize(a)!==PATH.normalize(FS.getPath(w.node)))return-54;throw w}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var m=c.atime.getTime(),g=c.mtime.getTime(),_=c.ctime.getTime();return tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=m%1e3*1e3,tempI64=[Math.floor(g/1e3)>>>0,(tempDouble=Math.floor(g/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=g%1e3*1e3,tempI64=[Math.floor(_/1e3)>>>0,(tempDouble=Math.floor(_/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=_%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:i(function(o,a,l,c,m){if(!FS.isFile(a.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var g=HEAPU8.slice(o,o+l);FS.msync(a,g,m,l,c)},"doMsync"),varargs:void 0,get:i(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:i(function(o){return UTF8ToString(o)},"getStr"),getStreamFromFD:i(function(o){var a=FS.getStream(o);if(!a)throw new FS.ErrnoError(8);return a},"getStreamFromFD")};function _proc_exit(o){EXITSTATUS=o,keepRuntimeAlive()||(Module.onExit&&Module.onExit(o),ABORT=!0),quit_(o,new ExitStatus(o))}i(_proc_exit,"_proc_exit");function exitJS(o,a){EXITSTATUS=o,_proc_exit(o)}i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(o){try{var a=SYSCALLS.getStreamFromFD(o);return FS.close(a),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}i(_fd_close,"_fd_close");function convertI32PairToI53Checked(o,a){return a+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*a:NaN}i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(o,a,l,c,m){try{var g=convertI32PairToI53Checked(a,l);if(isNaN(g))return 61;var _=SYSCALLS.getStreamFromFD(o);return FS.llseek(_,g,c),tempI64=[_.position>>>0,(tempDouble=_.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[m>>2]=tempI64[0],HEAP32[m+4>>2]=tempI64[1],_.getdents&&g===0&&c===0&&(_.getdents=null),0}catch(w){if(typeof FS>"u"||!(w instanceof FS.ErrnoError))throw w;return w.errno}}i(_fd_seek,"_fd_seek");function doWritev(o,a,l,c){for(var m=0,g=0;g<l;g++){var _=HEAPU32[a>>2],w=HEAPU32[a+4>>2];a+=8;var x=FS.write(o,HEAP8,_,w,c);if(x<0)return-1;m+=x,c!==void 0&&(c+=x)}return m}i(doWritev,"doWritev");function _fd_write(o,a,l,c){try{var m=doWritev(SYSCALLS.getStreamFromFD(o),a,l);return HEAPU32[c>>2]=m,0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}i(_fd_write,"_fd_write");function _tree_sitter_log_callback(o,a){if(currentLogCallback){let l=UTF8ToString(a);currentLogCallback(l,o!==0)}}i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(o,a,l,c,m){var g=currentParseCallback(a,{row:l,column:c});typeof g=="string"?(setValue(m,g.length,"i32"),stringToUTF16(g,o,10240)):setValue(m,0,"i32")}i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(o){if(o instanceof ExitStatus||o=="unwind")return EXITSTATUS;quit_(1,o)}i(handleException,"handleException");function allocateUTF8OnStack(o){var a=lengthBytesUTF8(o)+1,l=stackAlloc(a);return stringToUTF8Array(o,HEAP8,l,a),l}i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(o,a,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=a,m=(l-=2)<2*o.length?l/2:o.length,g=0;g<m;++g){var _=o.charCodeAt(g);HEAP16[a>>1]=_,a+=2}return HEAP16[a>>1]=0,a-c}i(stringToUTF16,"stringToUTF16");function AsciiToString(o){for(var a="";;){var l=HEAPU8[o++>>0];if(!l)return a;a+=String.fromCharCode(l)}}i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(o){var a=Module._main;if(a){(o=o||[]).unshift(thisProgram);var l=o.length,c=stackAlloc(4*(l+1)),m=c>>2;o.forEach(_=>{HEAP32[m++]=allocateUTF8OnStack(_)}),HEAP32[m]=0;try{var g=a(l,c);return exitJS(g,!0),g}catch(_){return handleException(_)}}}i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(function o(){calledRun||run(),calledRun||(dependenciesFulfilled=o)},"e");var dylibsLoaded=!1;function run(o){function a(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(o),postRun()))}i(a,"t"),o=o||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),a()},1)):a()))}if(i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let t=class t{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(a){let l;if(a){if(a.constructor!==Language)throw new Error("Argument must be a Language");{l=a[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,a=null;return this.language=a,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(a,l,c){if(typeof a=="string")currentParseCallback=i((x,T,O)=>a.slice(x,O),"currentParseCallback");else{if(typeof a!="function")throw new Error("Argument must be a string or a function");currentParseCallback=a}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let m=0,g=0;if(c&&c.includedRanges){m=c.includedRanges.length,g=C._calloc(m,SIZE_OF_RANGE);let x=g;for(let T=0;T<m;T++)marshalRange(x,c.includedRanges[T]),x+=SIZE_OF_RANGE}let _=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,g,m);if(!_)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let w=new Tree(INTERNAL,_,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,w}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(a){C._ts_parser_set_timeout_micros(this[0],a)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(a){if(a){if(typeof a!="function")throw new Error("Logger callback must be a function")}else a=null;return this.logCallback=a,this}getLogger(){return this.logCallback}};i(t,"ParserImpl");let ParserImpl=t,e=class e{constructor(a,l,c,m){assertInternal(a),this[0]=l,this.language=c,this.textCallback=m}copy(){let a=C._ts_tree_copy(this[0]);return new e(INTERNAL,a,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(a){marshalEdit(a),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(a){if(a.constructor!==e)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],a[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=new Array(l);if(l>0){let g=c;for(let _=0;_<l;_++)m[_]=unmarshalRange(g),g+=SIZE_OF_RANGE;C._free(c)}return m}};i(e,"Tree");let Tree=e,n=class n{constructor(a,l){assertInternal(a),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(a){return this.id===a.id}child(a){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}namedChild(a){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldId(a){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldName(a){let l=this.tree.language.fields.indexOf(a);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(a),a>0){let c=l;for(let m=0;m<a;m++)this._children[m]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(a),a>0){let c=l;for(let m=0;m<a;m++)this._namedChildren[m]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(a,l,c){Array.isArray(a)||(a=[a]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let m=[],g=this.tree.language.types;for(let O=0,R=g.length;O<R;O++)a.includes(g[O])&&m.push(O);let _=C._malloc(SIZE_OF_INT*m.length);for(let O=0,R=m.length;O<R;O++)setValue(_+O*SIZE_OF_INT,m[O],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],_,m.length,l.row,l.column,c.row,c.column);let w=getValue(TRANSFER_BUFFER,"i32"),x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),T=new Array(w);if(w>0){let O=x;for(let R=0;R<w;R++)T[R]=unmarshalNode(this.tree,O),O+=SIZE_OF_NODE}return C._free(x),C._free(_),T}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(a,l=a){if(typeof a!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,a,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(a,l=a){if(typeof a!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,a,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(a,l=a){if(!isPoint(a)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,a),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(a,l=a){if(!isPoint(a)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,a),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let a=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(a);return C._free(a),l}};i(n,"Node");let Node=n,r=class r{constructor(a,l){assertInternal(a),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(a){marshalNode(a),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let a=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,a,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoNextSibling(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoParent(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}};i(r,"TreeCursor");let TreeCursor=r,s=class s{constructor(a,l){assertInternal(a),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,m=this.types.length;c<m;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,m=this.fields.length;c<m;c++){let g=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=g!==0?UTF8ToString(g):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(a){let l=this.fields.indexOf(a);return l!==-1?l:null}fieldNameForId(a){return this.fields[a]||null}idForNodeType(a,l){let c=lengthBytesUTF8(a),m=C._malloc(c+1);stringToUTF8(a,m,c+1);let g=C._ts_language_symbol_for_name(this[0],m,c,l);return C._free(m),g||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(a){let l=C._ts_language_symbol_name(this[0],a);return l?UTF8ToString(l):null}nodeTypeIsNamed(a){return!!C._ts_language_type_is_named_wasm(this[0],a)}nodeTypeIsVisible(a){return!!C._ts_language_type_is_visible_wasm(this[0],a)}query(a){let l=lengthBytesUTF8(a),c=C._malloc(l+1);stringToUTF8(a,c,l+1);let m=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!m){let W=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),Y=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,X=a.substr(Y,100).split(`
`)[0],D,te=X.match(QUERY_WORD_REGEX)[0];switch(W){case 2:D=new RangeError(`Bad node name '${te}'`);break;case 3:D=new RangeError(`Bad field name '${te}'`);break;case 4:D=new RangeError(`Bad capture name @${te}`);break;case 5:D=new TypeError(`Bad pattern structure at offset ${Y}: '${X}'...`),te="";break;default:D=new SyntaxError(`Bad syntax at offset ${Y}: '${X}'...`),te=""}throw D.index=Y,D.length=te.length,C._free(c),D}let g=C._ts_query_string_count(m),_=C._ts_query_capture_count(m),w=C._ts_query_pattern_count(m),x=new Array(_),T=new Array(g);for(let W=0;W<_;W++){let Y=C._ts_query_capture_name_for_id(m,W,TRANSFER_BUFFER),X=getValue(TRANSFER_BUFFER,"i32");x[W]=UTF8ToString(Y,X)}for(let W=0;W<g;W++){let Y=C._ts_query_string_value_for_id(m,W,TRANSFER_BUFFER),X=getValue(TRANSFER_BUFFER,"i32");T[W]=UTF8ToString(Y,X)}let O=new Array(w),R=new Array(w),H=new Array(w),q=new Array(w),Q=new Array(w);for(let W=0;W<w;W++){let Y=C._ts_query_predicates_for_pattern(m,W,TRANSFER_BUFFER),X=getValue(TRANSFER_BUFFER,"i32");q[W]=[],Q[W]=[];let D=[],te=Y;for(let Le=0;Le<X;Le++){let je=getValue(te,"i32");te+=SIZE_OF_INT;let we=getValue(te,"i32");if(te+=SIZE_OF_INT,je===PREDICATE_STEP_TYPE_CAPTURE)D.push({type:"capture",name:x[we]});else if(je===PREDICATE_STEP_TYPE_STRING)D.push({type:"string",value:T[we]});else if(D.length>0){if(D[0].type!=="string")throw new Error("Predicates must begin with a literal value");let j=D[0].value,I=!0;switch(j){case"not-eq?":I=!1;case"eq?":if(D.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(D.length-1));if(D[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${D[1].value}"`);if(D[2].type==="capture"){let M=D[1].name,A=D[2].name;Q[W].push(function(B){let G,$;for(let ne of B)ne.name===M&&(G=ne.node),ne.name===A&&($=ne.node);return G===void 0||$===void 0||G.text===$.text===I})}else{let M=D[1].name,A=D[2].value;Q[W].push(function(B){for(let G of B)if(G.name===M)return G.node.text===A===I;return!0})}break;case"not-match?":I=!1;case"match?":if(D.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${D.length-1}.`);if(D[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${D[1].value}".`);if(D[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${D[2].value}.`);let F=D[1].name,V=new RegExp(D[2].value);Q[W].push(function(M){for(let A of M)if(A.name===F)return V.test(A.node.text)===I;return!0});break;case"set!":if(D.length<2||D.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${D.length-1}.`);if(D.some(M=>M.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');O[W]||(O[W]={}),O[W][D[1].value]=D[2]?D[2].value:null;break;case"is?":case"is-not?":if(D.length<2||D.length>3)throw new Error(`Wrong number of arguments to \`#${j}\` predicate. Expected 1 or 2. Got ${D.length-1}.`);if(D.some(M=>M.type!=="string"))throw new Error(`Arguments to \`#${j}\` predicate must be a strings.".`);let k=j==="is?"?R:H;k[W]||(k[W]={}),k[W][D[1].value]=D[2]?D[2].value:null;break;default:q[W].push({operator:j,operands:D.slice(1)})}D.length=0}}Object.freeze(O[W]),Object.freeze(R[W]),Object.freeze(H[W])}return C._free(c),new Query(INTERNAL,m,x,Q,q,Object.freeze(O),Object.freeze(R),Object.freeze(H))}static load(a){let l;if(a instanceof Uint8Array)l=Promise.resolve(a);else{let m=a;if(typeof process<"u"&&process.versions&&process.versions.node){let g=require("fs");l=Promise.resolve(g.readFileSync(m))}else l=fetch(m).then(g=>g.arrayBuffer().then(_=>{if(g.ok)return new Uint8Array(_);{let w=new TextDecoder("utf-8").decode(_);throw new Error(`Language.load failed with status ${g.status}.

${w}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(m=>c(m,{loadAsync:!0})).then(m=>{let g=Object.keys(m),_=g.find(x=>LANGUAGE_FUNCTION_REGEX.test(x)&&!x.includes("external_scanner_"));_||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(g,null,2)}`);let w=m[_]();return new s(INTERNAL,w)})}};i(s,"Language");let Language=s,u=class u{constructor(a,l,c,m,g,_,w,x){assertInternal(a),this[0]=l,this.captureNames=c,this.textPredicates=m,this.predicates=g,this.setProperties=_,this.assertedProperties=w,this.refutedProperties=x,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(a,l,c,m){l||(l=ZERO_POINT),c||(c=ZERO_POINT),m||(m={});let g=m.matchLimit;if(g===void 0)g=0;else if(typeof g!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_matches_wasm(this[0],a.tree[0],l.row,l.column,c.row,c.column,g);let _=getValue(TRANSFER_BUFFER,"i32"),w=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),T=new Array(_);this.exceededMatchLimit=!!x;let O=0,R=w;for(let H=0;H<_;H++){let q=getValue(R,"i32");R+=SIZE_OF_INT;let Q=getValue(R,"i32");R+=SIZE_OF_INT;let W=new Array(Q);if(R=unmarshalCaptures(this,a.tree,R,W),this.textPredicates[q].every(Y=>Y(W))){T[O++]={pattern:q,captures:W};let Y=this.setProperties[q];Y&&(T[H].setProperties=Y);let X=this.assertedProperties[q];X&&(T[H].assertedProperties=X);let D=this.refutedProperties[q];D&&(T[H].refutedProperties=D)}}return T.length=O,C._free(w),T}captures(a,l,c,m){l||(l=ZERO_POINT),c||(c=ZERO_POINT),m||(m={});let g=m.matchLimit;if(g===void 0)g=0;else if(typeof g!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_captures_wasm(this[0],a.tree[0],l.row,l.column,c.row,c.column,g);let _=getValue(TRANSFER_BUFFER,"i32"),w=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),T=[];this.exceededMatchLimit=!!x;let O=[],R=w;for(let H=0;H<_;H++){let q=getValue(R,"i32");R+=SIZE_OF_INT;let Q=getValue(R,"i32");R+=SIZE_OF_INT;let W=getValue(R,"i32");if(R+=SIZE_OF_INT,O.length=Q,R=unmarshalCaptures(this,a.tree,R,O),this.textPredicates[q].every(Y=>Y(O))){let Y=O[W],X=this.setProperties[q];X&&(Y.setProperties=X);let D=this.assertedProperties[q];D&&(Y.assertedProperties=D);let te=this.refutedProperties[q];te&&(Y.refutedProperties=te),T.push(Y)}}return C._free(w),T}predicatesForPattern(a){return this.predicates[a]}didExceedMatchLimit(){return this.exceededMatchLimit}};i(u,"Query");let Query=u;function getText(o,a,l){let c=l-a,m=o.textCallback(a,null,l);for(a+=m.length;a<l;){let g=o.textCallback(a,null,l);if(!(g&&g.length>0))break;a+=g.length,m+=g}return a>l&&(m=m.slice(0,c)),m}i(getText,"getText");function unmarshalCaptures(o,a,l,c){for(let m=0,g=c.length;m<g;m++){let _=getValue(l,"i32"),w=unmarshalNode(a,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[m]={name:o.captureNames[_],node:w}}return l}i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(o){if(o!==INTERNAL)throw new Error("Illegal constructor")}i(assertInternal,"assertInternal");function isPoint(o){return o&&typeof o.row=="number"&&typeof o.column=="number"}i(isPoint,"isPoint");function marshalNode(o){let a=TRANSFER_BUFFER;setValue(a,o.id,"i32"),a+=SIZE_OF_INT,setValue(a,o.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,o.startPosition.row,"i32"),a+=SIZE_OF_INT,setValue(a,o.startPosition.column,"i32"),a+=SIZE_OF_INT,setValue(a,o[0],"i32")}i(marshalNode,"marshalNode");function unmarshalNode(o,a=TRANSFER_BUFFER){let l=getValue(a,"i32");if(l===0)return null;let c=getValue(a+=SIZE_OF_INT,"i32"),m=getValue(a+=SIZE_OF_INT,"i32"),g=getValue(a+=SIZE_OF_INT,"i32"),_=getValue(a+=SIZE_OF_INT,"i32"),w=new Node(INTERNAL,o);return w.id=l,w.startIndex=c,w.startPosition={row:m,column:g},w[0]=_,w}i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(o,a=TRANSFER_BUFFER){setValue(a+0*SIZE_OF_INT,o[0],"i32"),setValue(a+1*SIZE_OF_INT,o[1],"i32"),setValue(a+2*SIZE_OF_INT,o[2],"i32")}i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(o){o[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),o[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),o[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(o,a){setValue(o,a.row,"i32"),setValue(o+SIZE_OF_INT,a.column,"i32")}i(marshalPoint,"marshalPoint");function unmarshalPoint(o){return{row:getValue(o,"i32"),column:getValue(o+SIZE_OF_INT,"i32")}}i(unmarshalPoint,"unmarshalPoint");function marshalRange(o,a){marshalPoint(o,a.startPosition),marshalPoint(o+=SIZE_OF_POINT,a.endPosition),setValue(o+=SIZE_OF_POINT,a.startIndex,"i32"),setValue(o+=SIZE_OF_INT,a.endIndex,"i32"),o+=SIZE_OF_INT}i(marshalRange,"marshalRange");function unmarshalRange(o){let a={};return a.startPosition=unmarshalPoint(o),o+=SIZE_OF_POINT,a.endPosition=unmarshalPoint(o),o+=SIZE_OF_POINT,a.startIndex=getValue(o,"i32"),o+=SIZE_OF_INT,a.endIndex=getValue(o,"i32"),a}i(unmarshalRange,"unmarshalRange");function marshalEdit(o){let a=TRANSFER_BUFFER;marshalPoint(a,o.startPosition),a+=SIZE_OF_POINT,marshalPoint(a,o.oldEndPosition),a+=SIZE_OF_POINT,marshalPoint(a,o.newEndPosition),a+=SIZE_OF_POINT,setValue(a,o.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,o.oldEndIndex,"i32"),a+=SIZE_OF_INT,setValue(a,o.newEndIndex,"i32"),a+=SIZE_OF_INT}i(marshalEdit,"marshalEdit");for(let o of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,o,{value:ParserImpl.prototype[o],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var Dd=Z(na=>{var Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");na.encode=function(t){if(0<=t&&t<Od.length)return Od[t];throw new TypeError("Must be between 0 and 63: "+t)};na.decode=function(t){var e=65,n=90,r=97,s=122,u=48,o=57,a=43,l=47,c=26,m=52;return e<=t&&t<=n?t-e:r<=t&&t<=s?t-r+c:u<=t&&t<=o?t-u+m:t==a?62:t==l?63:-1}});var oa=Z(ia=>{var Fd=Dd(),ra=5,jd=1<<ra,qd=jd-1,Ud=jd;function A_(t){return t<0?(-t<<1)+1:(t<<1)+0}i(A_,"toVLQSigned");function O_(t){var e=(t&1)===1,n=t>>1;return e?-n:n}i(O_,"fromVLQSigned");ia.encode=i(function(e){var n="",r,s=A_(e);do r=s&qd,s>>>=ra,s>0&&(r|=Ud),n+=Fd.encode(r);while(s>0);return n},"base64VLQ_encode");ia.decode=i(function(e,n,r){var s=e.length,u=0,o=0,a,l;do{if(n>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(l=Fd.decode(e.charCodeAt(n++)),l===-1)throw new Error("Invalid base64 digit: "+e.charAt(n-1));a=!!(l&Ud),l&=qd,u=u+(l<<o),o+=ra}while(a);r.value=O_(u),r.rest=n},"base64VLQ_decode")});var Wn=Z(Ve=>{function D_(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}i(D_,"getArg");Ve.getArg=D_;var Wd=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,F_=/^data:.+\,.+$/;function Or(t){var e=t.match(Wd);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}i(Or,"urlParse");Ve.urlParse=Or;function qn(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}i(qn,"urlGenerate");Ve.urlGenerate=qn;function sa(t){var e=t,n=Or(t);if(n){if(!n.path)return t;e=n.path}for(var r=Ve.isAbsolute(e),s=e.split(/\/+/),u,o=0,a=s.length-1;a>=0;a--)u=s[a],u==="."?s.splice(a,1):u===".."?o++:o>0&&(u===""?(s.splice(a+1,o),o=0):(s.splice(a,2),o--));return e=s.join("/"),e===""&&(e=r?"/":"."),n?(n.path=e,qn(n)):e}i(sa,"normalize");Ve.normalize=sa;function Bd(t,e){t===""&&(t="."),e===""&&(e=".");var n=Or(e),r=Or(t);if(r&&(t=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),qn(n);if(n||e.match(F_))return e;if(r&&!r.host&&!r.path)return r.host=e,qn(r);var s=e.charAt(0)==="/"?e:sa(t.replace(/\/+$/,"")+"/"+e);return r?(r.path=s,qn(r)):s}i(Bd,"join");Ve.join=Bd;Ve.isAbsolute=function(t){return t.charAt(0)==="/"||Wd.test(t)};function j_(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var n=0;e.indexOf(t+"/")!==0;){var r=t.lastIndexOf("/");if(r<0||(t=t.slice(0,r),t.match(/^([^\/]+:\/)?\/*$/)))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)}i(j_,"relative");Ve.relative=j_;var zd=function(){var t=Object.create(null);return!("__proto__"in t)}();function $d(t){return t}i($d,"identity");function q_(t){return Vd(t)?"$"+t:t}i(q_,"toSetString");Ve.toSetString=zd?$d:q_;function U_(t){return Vd(t)?t.slice(1):t}i(U_,"fromSetString");Ve.fromSetString=zd?$d:U_;function Vd(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}i(Vd,"isProtoString");function W_(t,e,n){var r=Un(t.source,e.source);return r!==0||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0||n)||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=t.generatedLine-e.generatedLine,r!==0)?r:Un(t.name,e.name)}i(W_,"compareByOriginalPositions");Ve.compareByOriginalPositions=W_;function B_(t,e,n){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0||n)||(r=Un(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:Un(t.name,e.name)}i(B_,"compareByGeneratedPositionsDeflated");Ve.compareByGeneratedPositionsDeflated=B_;function Un(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}i(Un,"strcmp");function z_(t,e){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=Un(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Un(t.name,e.name)}i(z_,"compareByGeneratedPositionsInflated");Ve.compareByGeneratedPositionsInflated=z_;function $_(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}i($_,"parseSourceMapInput");Ve.parseSourceMapInput=$_;function V_(t,e,n){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),n){var r=Or(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var s=r.path.lastIndexOf("/");s>=0&&(r.path=r.path.substring(0,s+1))}e=Bd(qn(r),e)}return sa(e)}i(V_,"computeSourceURL");Ve.computeSourceURL=V_});var la=Z(Hd=>{var aa=Wn(),ua=Object.prototype.hasOwnProperty,_n=typeof Map<"u";function qt(){this._array=[],this._set=_n?new Map:Object.create(null)}i(qt,"ArraySet");qt.fromArray=i(function(e,n){for(var r=new qt,s=0,u=e.length;s<u;s++)r.add(e[s],n);return r},"ArraySet_fromArray");qt.prototype.size=i(function(){return _n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");qt.prototype.add=i(function(e,n){var r=_n?e:aa.toSetString(e),s=_n?this.has(e):ua.call(this._set,r),u=this._array.length;(!s||n)&&this._array.push(e),s||(_n?this._set.set(e,u):this._set[r]=u)},"ArraySet_add");qt.prototype.has=i(function(e){if(_n)return this._set.has(e);var n=aa.toSetString(e);return ua.call(this._set,n)},"ArraySet_has");qt.prototype.indexOf=i(function(e){if(_n){var n=this._set.get(e);if(n>=0)return n}else{var r=aa.toSetString(e);if(ua.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},"ArraySet_indexOf");qt.prototype.at=i(function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},"ArraySet_at");qt.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray");Hd.ArraySet=qt});var Qd=Z(Zd=>{var Gd=Wn();function H_(t,e){var n=t.generatedLine,r=e.generatedLine,s=t.generatedColumn,u=e.generatedColumn;return r>n||r==n&&u>=s||Gd.compareByGeneratedPositionsInflated(t,e)<=0}i(H_,"generatedPositionAfter");function Ai(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i(Ai,"MappingList");Ai.prototype.unsortedForEach=i(function(e,n){this._array.forEach(e,n)},"MappingList_forEach");Ai.prototype.add=i(function(e){H_(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},"MappingList_add");Ai.prototype.toArray=i(function(){return this._sorted||(this._array.sort(Gd.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Zd.MappingList=Ai});var ca=Z(Jd=>{var Dr=oa(),Oe=Wn(),Oi=la().ArraySet,G_=Qd().MappingList;function at(t){t||(t={}),this._file=Oe.getArg(t,"file",null),this._sourceRoot=Oe.getArg(t,"sourceRoot",null),this._skipValidation=Oe.getArg(t,"skipValidation",!1),this._sources=new Oi,this._names=new Oi,this._mappings=new G_,this._sourcesContents=null}i(at,"SourceMapGenerator");at.prototype._version=3;at.fromSourceMap=i(function(e){var n=e.sourceRoot,r=new at({file:e.file,sourceRoot:n});return e.eachMapping(function(s){var u={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(u.source=s.source,n!=null&&(u.source=Oe.relative(n,u.source)),u.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(u.name=s.name)),r.addMapping(u)}),e.sources.forEach(function(s){var u=s;n!==null&&(u=Oe.relative(n,s)),r._sources.has(u)||r._sources.add(u);var o=e.sourceContentFor(s);o!=null&&r.setSourceContent(s,o)}),r},"SourceMapGenerator_fromSourceMap");at.prototype.addMapping=i(function(e){var n=Oe.getArg(e,"generated"),r=Oe.getArg(e,"original",null),s=Oe.getArg(e,"source",null),u=Oe.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,s,u),s!=null&&(s=String(s),this._sources.has(s)||this._sources.add(s)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:s,name:u})},"SourceMapGenerator_addMapping");at.prototype.setSourceContent=i(function(e,n){var r=e;this._sourceRoot!=null&&(r=Oe.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Oe.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[Oe.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");at.prototype.applySourceMap=i(function(e,n,r){var s=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);s=e.file}var u=this._sourceRoot;u!=null&&(s=Oe.relative(u,s));var o=new Oi,a=new Oi;this._mappings.unsortedForEach(function(l){if(l.source===s&&l.originalLine!=null){var c=e.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,r!=null&&(l.source=Oe.join(r,l.source)),u!=null&&(l.source=Oe.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var m=l.source;m!=null&&!o.has(m)&&o.add(m);var g=l.name;g!=null&&!a.has(g)&&a.add(g)},this),this._sources=o,this._names=a,e.sources.forEach(function(l){var c=e.sourceContentFor(l);c!=null&&(r!=null&&(l=Oe.join(r,l)),u!=null&&(l=Oe.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");at.prototype._validateMapping=i(function(e,n,r,s){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!r&&!s)){if(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:s}))}},"SourceMapGenerator_validateMapping");at.prototype._serializeMappings=i(function(){for(var e=0,n=1,r=0,s=0,u=0,o=0,a="",l,c,m,g,_=this._mappings.toArray(),w=0,x=_.length;w<x;w++){if(c=_[w],l="",c.generatedLine!==n)for(e=0;c.generatedLine!==n;)l+=";",n++;else if(w>0){if(!Oe.compareByGeneratedPositionsInflated(c,_[w-1]))continue;l+=","}l+=Dr.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(g=this._sources.indexOf(c.source),l+=Dr.encode(g-o),o=g,l+=Dr.encode(c.originalLine-1-s),s=c.originalLine-1,l+=Dr.encode(c.originalColumn-r),r=c.originalColumn,c.name!=null&&(m=this._names.indexOf(c.name),l+=Dr.encode(m-u),u=m)),a+=l}return a},"SourceMapGenerator_serializeMappings");at.prototype._generateSourcesContent=i(function(e,n){return e.map(function(r){if(!this._sourcesContents)return null;n!=null&&(r=Oe.relative(n,r));var s=Oe.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null},this)},"SourceMapGenerator_generateSourcesContent");at.prototype.toJSON=i(function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},"SourceMapGenerator_toJSON");at.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Jd.SourceMapGenerator=at});var Kd=Z(yn=>{yn.GREATEST_LOWER_BOUND=1;yn.LEAST_UPPER_BOUND=2;function da(t,e,n,r,s,u){var o=Math.floor((e-t)/2)+t,a=s(n,r[o],!0);return a===0?o:a>0?e-o>1?da(o,e,n,r,s,u):u==yn.LEAST_UPPER_BOUND?e<r.length?e:-1:o:o-t>1?da(t,o,n,r,s,u):u==yn.LEAST_UPPER_BOUND?o:t<0?-1:t}i(da,"recursiveSearch");yn.search=i(function(e,n,r,s){if(n.length===0)return-1;var u=da(-1,n.length,e,n,r,s||yn.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&r(n[u],n[u-1],!0)===0;)--u;return u},"search")});var Yd=Z(Xd=>{function fa(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}i(fa,"swap");function Z_(t,e){return Math.round(t+Math.random()*(e-t))}i(Z_,"randomIntInRange");function ma(t,e,n,r){if(n<r){var s=Z_(n,r),u=n-1;fa(t,s,r);for(var o=t[r],a=n;a<r;a++)e(t[a],o)<=0&&(u+=1,fa(t,u,a));fa(t,u+1,a);var l=u+1;ma(t,e,n,l-1),ma(t,e,l+1,r)}}i(ma,"doQuickSort");Xd.quickSort=function(t,e){ma(t,e,0,t.length-1)}});var tf=Z(Di=>{var K=Wn(),pa=Kd(),Bn=la().ArraySet,Q_=oa(),Fr=Yd().quickSort;function be(t,e){var n=t;return typeof t=="string"&&(n=K.parseSourceMapInput(t)),n.sections!=null?new vt(n,e):new We(n,e)}i(be,"SourceMapConsumer");be.fromSourceMap=function(t,e){return We.fromSourceMap(t,e)};be.prototype._version=3;be.prototype.__generatedMappings=null;Object.defineProperty(be.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:i(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});be.prototype.__originalMappings=null;Object.defineProperty(be.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:i(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});be.prototype._charIsMappingSeparator=i(function(e,n){var r=e.charAt(n);return r===";"||r===","},"SourceMapConsumer_charIsMappingSeparator");be.prototype._parseMappings=i(function(e,n){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");be.GENERATED_ORDER=1;be.ORIGINAL_ORDER=2;be.GREATEST_LOWER_BOUND=1;be.LEAST_UPPER_BOUND=2;be.prototype.eachMapping=i(function(e,n,r){var s=n||null,u=r||be.GENERATED_ORDER,o;switch(u){case be.GENERATED_ORDER:o=this._generatedMappings;break;case be.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;o.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=K.computeSourceURL(a,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(e,s)},"SourceMapConsumer_eachMapping");be.prototype.allGeneratedPositionsFor=i(function(e){var n=K.getArg(e,"line"),r={source:K.getArg(e,"source"),originalLine:n,originalColumn:K.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var s=[],u=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",K.compareByOriginalPositions,pa.LEAST_UPPER_BOUND);if(u>=0){var o=this._originalMappings[u];if(e.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)s.push({line:K.getArg(o,"generatedLine",null),column:K.getArg(o,"generatedColumn",null),lastColumn:K.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++u];else for(var l=o.originalColumn;o&&o.originalLine===n&&o.originalColumn==l;)s.push({line:K.getArg(o,"generatedLine",null),column:K.getArg(o,"generatedColumn",null),lastColumn:K.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++u]}return s},"SourceMapConsumer_allGeneratedPositionsFor");Di.SourceMapConsumer=be;function We(t,e){var n=t;typeof t=="string"&&(n=K.parseSourceMapInput(t));var r=K.getArg(n,"version"),s=K.getArg(n,"sources"),u=K.getArg(n,"names",[]),o=K.getArg(n,"sourceRoot",null),a=K.getArg(n,"sourcesContent",null),l=K.getArg(n,"mappings"),c=K.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);o&&(o=K.normalize(o)),s=s.map(String).map(K.normalize).map(function(m){return o&&K.isAbsolute(o)&&K.isAbsolute(m)?K.relative(o,m):m}),this._names=Bn.fromArray(u.map(String),!0),this._sources=Bn.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map(function(m){return K.computeSourceURL(o,m,e)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=e,this.file=c}i(We,"BasicSourceMapConsumer");We.prototype=Object.create(be.prototype);We.prototype.consumer=be;We.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=K.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==t)return n;return-1};We.fromSourceMap=i(function(e,n){var r=Object.create(We.prototype),s=r._names=Bn.fromArray(e._names.toArray(),!0),u=r._sources=Bn.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=n,r._absoluteSources=r._sources.toArray().map(function(w){return K.computeSourceURL(r.sourceRoot,w,n)});for(var o=e._mappings.toArray().slice(),a=r.__generatedMappings=[],l=r.__originalMappings=[],c=0,m=o.length;c<m;c++){var g=o[c],_=new ef;_.generatedLine=g.generatedLine,_.generatedColumn=g.generatedColumn,g.source&&(_.source=u.indexOf(g.source),_.originalLine=g.originalLine,_.originalColumn=g.originalColumn,g.name&&(_.name=s.indexOf(g.name)),l.push(_)),a.push(_)}return Fr(r.__originalMappings,K.compareByOriginalPositions),r},"SourceMapConsumer_fromSourceMap");We.prototype._version=3;Object.defineProperty(We.prototype,"sources",{get:i(function(){return this._absoluteSources.slice()},"get")});function ef(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}i(ef,"Mapping");We.prototype._parseMappings=i(function(e,n){for(var r=1,s=0,u=0,o=0,a=0,l=0,c=e.length,m=0,g={},_={},w=[],x=[],T,O,R,H,q;m<c;)if(e.charAt(m)===";")r++,m++,s=0;else if(e.charAt(m)===",")m++;else{for(T=new ef,T.generatedLine=r,H=m;H<c&&!this._charIsMappingSeparator(e,H);H++);if(O=e.slice(m,H),R=g[O],R)m+=O.length;else{for(R=[];m<H;)Q_.decode(e,m,_),q=_.value,m=_.rest,R.push(q);if(R.length===2)throw new Error("Found a source, but no line and column");if(R.length===3)throw new Error("Found a source and line, but no column");g[O]=R}T.generatedColumn=s+R[0],s=T.generatedColumn,R.length>1&&(T.source=a+R[1],a+=R[1],T.originalLine=u+R[2],u=T.originalLine,T.originalLine+=1,T.originalColumn=o+R[3],o=T.originalColumn,R.length>4&&(T.name=l+R[4],l+=R[4])),x.push(T),typeof T.originalLine=="number"&&w.push(T)}Fr(x,K.compareByGeneratedPositionsDeflated),this.__generatedMappings=x,Fr(w,K.compareByOriginalPositions),this.__originalMappings=w},"SourceMapConsumer_parseMappings");We.prototype._findMapping=i(function(e,n,r,s,u,o){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[s]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[s]);return pa.search(e,n,u,o)},"SourceMapConsumer_findMapping");We.prototype.computeColumnSpans=i(function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");We.prototype.originalPositionFor=i(function(e){var n={generatedLine:K.getArg(e,"line"),generatedColumn:K.getArg(e,"column")},r=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",K.compareByGeneratedPositionsDeflated,K.getArg(e,"bias",be.GREATEST_LOWER_BOUND));if(r>=0){var s=this._generatedMappings[r];if(s.generatedLine===n.generatedLine){var u=K.getArg(s,"source",null);u!==null&&(u=this._sources.at(u),u=K.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var o=K.getArg(s,"name",null);return o!==null&&(o=this._names.at(o)),{source:u,line:K.getArg(s,"originalLine",null),column:K.getArg(s,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");We.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");We.prototype.sourceContentFor=i(function(e,n){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var s=e;this.sourceRoot!=null&&(s=K.relative(this.sourceRoot,s));var u;if(this.sourceRoot!=null&&(u=K.urlParse(this.sourceRoot))){var o=s.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!u.path||u.path=="/")&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(n)return null;throw new Error('"'+s+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");We.prototype.generatedPositionFor=i(function(e){var n=K.getArg(e,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var r={source:n,originalLine:K.getArg(e,"line"),originalColumn:K.getArg(e,"column")},s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",K.compareByOriginalPositions,K.getArg(e,"bias",be.GREATEST_LOWER_BOUND));if(s>=0){var u=this._originalMappings[s];if(u.source===r.source)return{line:K.getArg(u,"generatedLine",null),column:K.getArg(u,"generatedColumn",null),lastColumn:K.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Di.BasicSourceMapConsumer=We;function vt(t,e){var n=t;typeof t=="string"&&(n=K.parseSourceMapInput(t));var r=K.getArg(n,"version"),s=K.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new Bn,this._names=new Bn;var u={line:-1,column:0};this._sections=s.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=K.getArg(o,"offset"),l=K.getArg(a,"line"),c=K.getArg(a,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=a,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new be(K.getArg(o,"map"),e)}})}i(vt,"IndexedSourceMapConsumer");vt.prototype=Object.create(be.prototype);vt.prototype.constructor=be;vt.prototype._version=3;Object.defineProperty(vt.prototype,"sources",{get:i(function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t},"get")});vt.prototype.originalPositionFor=i(function(e){var n={generatedLine:K.getArg(e,"line"),generatedColumn:K.getArg(e,"column")},r=pa.search(n,this._sections,function(u,o){var a=u.generatedLine-o.generatedOffset.generatedLine;return a||u.generatedColumn-o.generatedOffset.generatedColumn}),s=this._sections[r];return s?s.consumer.originalPositionFor({line:n.generatedLine-(s.generatedOffset.generatedLine-1),column:n.generatedColumn-(s.generatedOffset.generatedLine===n.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");vt.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");vt.prototype.sourceContentFor=i(function(e,n){for(var r=0;r<this._sections.length;r++){var s=this._sections[r],u=s.consumer.sourceContentFor(e,!0);if(u)return u}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");vt.prototype.generatedPositionFor=i(function(e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n];if(r.consumer._findSourceIndex(K.getArg(e,"source"))!==-1){var s=r.consumer.generatedPositionFor(e);if(s){var u={line:s.line+(r.generatedOffset.generatedLine-1),column:s.column+(r.generatedOffset.generatedLine===s.line?r.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");vt.prototype._parseMappings=i(function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var s=this._sections[r],u=s.consumer._generatedMappings,o=0;o<u.length;o++){var a=u[o],l=s.consumer._sources.at(a.source);l=K.computeSourceURL(s.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;a.name&&(c=s.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var m={source:l,generatedLine:a.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(s.generatedOffset.generatedLine===a.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(m),typeof m.originalLine=="number"&&this.__originalMappings.push(m)}Fr(this.__generatedMappings,K.compareByGeneratedPositionsDeflated),Fr(this.__originalMappings,K.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Di.IndexedSourceMapConsumer=vt});var rf=Z(nf=>{var J_=ca().SourceMapGenerator,Fi=Wn(),K_=/(\r?\n)/,X_=10,zn="$$$isSourceNode$$$";function rt(t,e,n,r,s){this.children=[],this.sourceContents={},this.line=t==null?null:t,this.column=e==null?null:e,this.source=n==null?null:n,this.name=s==null?null:s,this[zn]=!0,r!=null&&this.add(r)}i(rt,"SourceNode");rt.fromStringWithSourceMap=i(function(e,n,r){var s=new rt,u=e.split(K_),o=0,a=i(function(){var _=x(),w=x()||"";return _+w;function x(){return o<u.length?u[o++]:void 0}},"shiftNextLine"),l=1,c=0,m=null;return n.eachMapping(function(_){if(m!==null)if(l<_.generatedLine)g(m,a()),l++,c=0;else{var w=u[o]||"",x=w.substr(0,_.generatedColumn-c);u[o]=w.substr(_.generatedColumn-c),c=_.generatedColumn,g(m,x),m=_;return}for(;l<_.generatedLine;)s.add(a()),l++;if(c<_.generatedColumn){var w=u[o]||"";s.add(w.substr(0,_.generatedColumn)),u[o]=w.substr(_.generatedColumn),c=_.generatedColumn}m=_},this),o<u.length&&(m&&g(m,a()),s.add(u.splice(o).join(""))),n.sources.forEach(function(_){var w=n.sourceContentFor(_);w!=null&&(r!=null&&(_=Fi.join(r,_)),s.setSourceContent(_,w))}),s;function g(_,w){if(_===null||_.source===void 0)s.add(w);else{var x=r?Fi.join(r,_.source):_.source;s.add(new rt(_.originalLine,_.originalColumn,x,w,_.name))}}i(g,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");rt.prototype.add=i(function(e){if(Array.isArray(e))e.forEach(function(n){this.add(n)},this);else if(e[zn]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_add");rt.prototype.prepend=i(function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else if(e[zn]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},"SourceNode_prepend");rt.prototype.walk=i(function(e){for(var n,r=0,s=this.children.length;r<s;r++)n=this.children[r],n[zn]?n.walk(e):n!==""&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");rt.prototype.join=i(function(e){var n,r,s=this.children.length;if(s>0){for(n=[],r=0;r<s-1;r++)n.push(this.children[r]),n.push(e);n.push(this.children[r]),this.children=n}return this},"SourceNode_join");rt.prototype.replaceRight=i(function(e,n){var r=this.children[this.children.length-1];return r[zn]?r.replaceRight(e,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,n):this.children.push("".replace(e,n)),this},"SourceNode_replaceRight");rt.prototype.setSourceContent=i(function(e,n){this.sourceContents[Fi.toSetString(e)]=n},"SourceNode_setSourceContent");rt.prototype.walkSourceContents=i(function(e){for(var n=0,r=this.children.length;n<r;n++)this.children[n][zn]&&this.children[n].walkSourceContents(e);for(var s=Object.keys(this.sourceContents),n=0,r=s.length;n<r;n++)e(Fi.fromSetString(s[n]),this.sourceContents[s[n]])},"SourceNode_walkSourceContents");rt.prototype.toString=i(function(){var e="";return this.walk(function(n){e+=n}),e},"SourceNode_toString");rt.prototype.toStringWithSourceMap=i(function(e){var n={code:"",line:1,column:0},r=new J_(e),s=!1,u=null,o=null,a=null,l=null;return this.walk(function(c,m){n.code+=c,m.source!==null&&m.line!==null&&m.column!==null?((u!==m.source||o!==m.line||a!==m.column||l!==m.name)&&r.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:n.line,column:n.column},name:m.name}),u=m.source,o=m.line,a=m.column,l=m.name,s=!0):s&&(r.addMapping({generated:{line:n.line,column:n.column}}),u=null,s=!1);for(var g=0,_=c.length;g<_;g++)c.charCodeAt(g)===X_?(n.line++,n.column=0,g+1===_?(u=null,s=!1):s&&r.addMapping({source:m.source,original:{line:m.line,column:m.column},generated:{line:n.line,column:n.column},name:m.name})):n.column++}),this.walkSourceContents(function(c,m){r.setSourceContent(c,m)}),{code:n.code,map:r}},"SourceNode_toStringWithSourceMap");nf.SourceNode=rt});var of=Z(ji=>{ji.SourceMapGenerator=ca().SourceMapGenerator;ji.SourceMapConsumer=tf().SourceMapConsumer;ji.SourceNode=rf().SourceNode});var af=Z((Kx,sf)=>{var Y_=Object.prototype.toString,ga=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function ey(t){return Y_.call(t).slice(8,-1)==="ArrayBuffer"}i(ey,"isArrayBuffer");function ty(t,e,n){e>>>=0;var r=t.byteLength-e;if(r<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=r;else if(n>>>=0,n>r)throw new RangeError("'length' is out of bounds");return ga?Buffer.from(t.slice(e,e+n)):new Buffer(new Uint8Array(t.slice(e,e+n)))}i(ty,"fromArrayBuffer");function ny(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return ga?Buffer.from(t,e):new Buffer(t,e)}i(ny,"fromString");function ry(t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return ey(t)?ty(t,e,n):typeof t=="string"?ny(t,e):ga?Buffer.from(t):new Buffer(t)}i(ry,"bufferFrom");sf.exports=ry});var gf=Z((vn,ba)=>{var iy=of().SourceMapConsumer,ha=require("path"),Pt;try{Pt=require("fs"),(!Pt.existsSync||!Pt.readFileSync)&&(Pt=null)}catch{}var oy=af();function uf(t,e){return t.require(e)}i(uf,"dynamicRequire");var lf=!1,cf=!1,_a=!1,jr="auto",bn={},qr={},sy=/^data:application\/json[^,]+base64,/,Qt=[],Jt=[];function va(){return jr==="browser"?!0:jr==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}i(va,"isInBrowser");function ay(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}i(ay,"hasGlobalProcessEventEmitter");function uy(){return typeof process=="object"&&process!==null?process.version:""}i(uy,"globalProcessVersion");function ly(){if(typeof process=="object"&&process!==null)return process.stderr}i(ly,"globalProcessStderr");function cy(t){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(t)}i(cy,"globalProcessExit");function qi(t){return function(e){for(var n=0;n<t.length;n++){var r=t[n](e);if(r)return r}return null}}i(qi,"handlerExec");var wa=qi(Qt);Qt.push(function(t){if(t=t.trim(),/^file:/.test(t)&&(t=t.replace(/file:\/\/\/(\w:)?/,function(r,s){return s?"":"/"})),t in bn)return bn[t];var e="";try{if(Pt)Pt.existsSync(t)&&(e=Pt.readFileSync(t,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),n.readyState===4&&n.status===200&&(e=n.responseText)}}catch{}return bn[t]=e});function ya(t,e){if(!t)return e;var n=ha.dirname(t),r=/^\w+:\/\/[^\/]*/.exec(n),s=r?r[0]:"",u=n.slice(s.length);return s&&/^\/\w\:/.test(u)?(s+="/",s+ha.resolve(n.slice(s.length),e).replace(/\\/g,"/")):s+ha.resolve(n.slice(s.length),e)}i(ya,"supportRelativeURL");function dy(t){var e;if(va())try{var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(null),e=n.readyState===4?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch{}e=wa(t);for(var s=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,o;o=s.exec(e);)u=o;return u?u[1]:null}i(dy,"retrieveSourceMapURL");var Sa=qi(Jt);Jt.push(function(t){var e=dy(t);if(!e)return null;var n;if(sy.test(e)){var r=e.slice(e.indexOf(",")+1);n=oy(r,"base64").toString(),e=t}else e=ya(t,e),n=wa(e);return n?{url:e,map:n}:null});function Ea(t){var e=qr[t.source];if(!e){var n=Sa(t.source);n?(e=qr[t.source]={url:n.url,map:new iy(n.map)},e.map.sourcesContent&&e.map.sources.forEach(function(s,u){var o=e.map.sourcesContent[u];if(o){var a=ya(e.url,s);bn[a]=o}})):e=qr[t.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var r=e.map.originalPositionFor(t);if(r.source!==null)return r.source=ya(e.url,r.source),r}return t}i(Ea,"mapSourcePosition");function ff(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var n=Ea({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+ff(e[2])+")":t}i(ff,"mapEvalOrigin");function fy(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),t?e+=t:e+="<anonymous>";var n=this.getLineNumber();if(n!=null){e+=":"+n;var r=this.getColumnNumber();r&&(e+=":"+r)}}var s="",u=this.getFunctionName(),o=!0,a=this.isConstructor(),l=!(this.isToplevel()||a);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var m=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(s+=c+"."),s+=u,m&&u.indexOf("."+m)!=u.length-m.length-1&&(s+=" [as "+m+"]")):s+=c+"."+(m||"<anonymous>")}else a?s+="new "+(u||"<anonymous>"):u?s+=u:(s+=e,o=!1);return o&&(s+=" ("+e+")"),s}i(fy,"CallSiteToString");function df(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(n){e[n]=/^(?:is|get)/.test(n)?function(){return t[n].call(t)}:t[n]}),e.toString=fy,e}i(df,"cloneCallSite");function mf(t,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),t.isNative())return e.curPosition=null,t;var n=t.getFileName()||t.getScriptNameOrSourceURL();if(n){var r=t.getLineNumber(),s=t.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,o=u.test(uy())?0:62;r===1&&s>o&&!va()&&!t.isEval()&&(s-=o);var a=Ea({source:n,line:r,column:s});e.curPosition=a,t=df(t);var l=t.getFunctionName;return t.getFunctionName=function(){return e.nextPosition==null?l():e.nextPosition.name||l()},t.getFileName=function(){return a.source},t.getLineNumber=function(){return a.line},t.getColumnNumber=function(){return a.column+1},t.getScriptNameOrSourceURL=function(){return a.source},t}var c=t.isEval()&&t.getEvalOrigin();return c&&(c=ff(c),t=df(t),t.getEvalOrigin=function(){return c}),t}i(mf,"wrapCallSite");function my(t,e){_a&&(bn={},qr={});for(var n=t.name||"Error",r=t.message||"",s=n+": "+r,u={nextPosition:null,curPosition:null},o=[],a=e.length-1;a>=0;a--)o.push(`
    at `+mf(e[a],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,s+o.reverse().join("")}i(my,"prepareStackTrace");function pf(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var n=e[1],r=+e[2],s=+e[3],u=bn[n];if(!u&&Pt&&Pt.existsSync(n))try{u=Pt.readFileSync(n,"utf8")}catch{u=""}if(u){var o=u.split(/(?:\r\n|\r|\n)/)[r-1];if(o)return n+":"+r+`
`+o+`
`+new Array(s).join(" ")+"^"}}return null}i(pf,"getErrorSource");function py(t){var e=pf(t),n=ly();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(t.stack),cy(1)}i(py,"printErrorAndExit");function gy(){var t=process.emit;process.emit=function(e){if(e==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(n&&!r)return py(arguments[1])}return t.apply(this,arguments)}}i(gy,"shimEmitUncaughtException");var hy=Qt.slice(0),_y=Jt.slice(0);vn.wrapCallSite=mf;vn.getErrorSource=pf;vn.mapSourcePosition=Ea;vn.retrieveSourceMap=Sa;vn.install=function(t){if(t=t||{},t.environment&&(jr=t.environment,["node","browser","auto"].indexOf(jr)===-1))throw new Error("environment "+jr+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(Qt.length=0),Qt.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(Jt.length=0),Jt.unshift(t.retrieveSourceMap)),t.hookRequire&&!va()){var e=uf(ba,"module"),n=e.prototype._compile;n.__sourceMapSupport||(e.prototype._compile=function(u,o){return bn[o]=u,qr[o]=void 0,n.call(this,u,o)},e.prototype._compile.__sourceMapSupport=!0)}if(_a||(_a="emptyCacheBetweenOperations"in t?t.emptyCacheBetweenOperations:!1),lf||(lf=!0,Error.prepareStackTrace=my),!cf){var r="handleUncaughtExceptions"in t?t.handleUncaughtExceptions:!0;try{var s=uf(ba,"worker_threads");s.isMainThread===!1&&(r=!1)}catch{}r&&ay()&&(cf=!0,gy())}};vn.resetRetrieveHandlers=function(){Qt.length=0,Jt.length=0,Qt=hy.slice(0),Jt=_y.slice(0),Sa=qi(Jt),wa=qi(Qt)}});var hf=Z(()=>{gf().install()});var Cf=Z((s0,Mf)=>{var Ja=require("fs"),Xi=require("path"),Gr=Xi.join,Ay=Xi.dirname,Pf=Ja.accessSync&&function(t){try{Ja.accessSync(t)}catch{return!1}return!0}||Ja.existsSync||Xi.existsSync,Rf={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Oy(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(Rf).map(function(l){l in t||(t[l]=Rf[l])}),t.module_root||(t.module_root=Dy(__filename)),Xi.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,n=[],r=0,s=t.try.length,u,o,a;r<s;r++){u=Gr.apply(null,t.try[r].map(function(l){return t[l]||l})),n.push(u);try{return o=t.path?e.resolve(u):e(u),t.path||(o.path=u),o}catch(l){if(l.code!=="MODULE_NOT_FOUND"&&l.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(l.message))throw l}}throw a=new Error(`Could not locate the bindings file. Tried:
`+n.map(function(l){return t.arrow+l}).join(`
`)),a.tries=n,a}i(Oy,"bindings");Mf.exports=Oy;function Dy(t){for(var e=Ay(t),n;;){if(e==="."&&(e=process.cwd()),Pf(Gr(e,"dist")))return Gr(e,"dist");if(Pf(Gr(e,"compiled")))return e;if(n===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');n=e,e=Gr(e,"..")}}i(Dy,"getRoot")});var Nf=Z((u0,Lf)=>{Lf.exports=Cf()("node_sqlite3.node")});var Df=Z(Of=>{var Fy=require("util");function jy(t,e,n){let r=t[e];t[e]=function(){let s=new Error,u=t.constructor.name+"#"+e+"("+Array.prototype.slice.call(arguments).map(function(a){return Fy.inspect(a,!1,0)}).join(", ")+")";typeof n>"u"&&(n=-1),n<0&&(n+=arguments.length);let o=arguments[n];return typeof arguments[n]=="function"&&(arguments[n]=i(function(){let l=arguments[0];return l&&l.stack&&!l.__augmented&&(l.stack=Af(l).join(`
`),l.stack+=`
--> in `+u,l.stack+=`
`+Af(s).slice(1).join(`
`),l.__augmented=!0),o.apply(this,arguments)},"replacement")),r.apply(this,arguments)}}i(jy,"extendTrace");Of.extendTrace=jy;function Af(t){return t.stack.split(`
`).filter(function(e){return e.indexOf(__filename)<0})}i(Af,"filter")});var Uf=Z((jf,qf)=>{var qy=require("path"),ct=Nf(),Zn=require("events").EventEmitter;qf.exports=jf=ct;function Qn(t){return function(e){let n,r=Array.prototype.slice.call(arguments,1);if(typeof r[r.length-1]=="function"){let u=r[r.length-1];n=i(function(o){o&&u(o)},"errBack")}let s=new Yi(this,e,n);return t.call(this,s,r)}}i(Qn,"normalizeMethod");function Xa(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}i(Xa,"inherits");ct.cached={Database:i(function(t,e,n){if(t===""||t===":memory:")return new Je(t,e,n);let r;if(t=qy.resolve(t),!ct.cached.objects[t])r=ct.cached.objects[t]=new Je(t,e,n);else{r=ct.cached.objects[t];let u=typeof e=="number"?n:e;if(typeof u=="function"){let o=function(){u.call(r,null)};var s=o;i(o,"cb"),r.open?process.nextTick(o):r.once("open",o)}}return r},"Database"),objects:{}};var Je=ct.Database,Yi=ct.Statement,Ka=ct.Backup;Xa(Je,Zn);Xa(Yi,Zn);Xa(Ka,Zn);Je.prototype.prepare=Qn(function(t,e){return e.length?t.bind.apply(t,e):t});Je.prototype.run=Qn(function(t,e){return t.run.apply(t,e).finalize(),this});Je.prototype.get=Qn(function(t,e){return t.get.apply(t,e).finalize(),this});Je.prototype.all=Qn(function(t,e){return t.all.apply(t,e).finalize(),this});Je.prototype.each=Qn(function(t,e){return t.each.apply(t,e).finalize(),this});Je.prototype.map=Qn(function(t,e){return t.map.apply(t,e).finalize(),this});Je.prototype.backup=function(){let t;return arguments.length<=2?t=new Ka(this,arguments[0],"main","main",!0,arguments[1]):t=new Ka(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),t.retryErrors=[ct.BUSY,ct.LOCKED],t};Yi.prototype.map=function(){let t=Array.prototype.slice.call(arguments),e=t.pop();return t.push(function(n,r){if(n)return e(n);let s={};if(r.length){let u=Object.keys(r[0]),o=u[0];if(u.length>2)for(let a=0;a<r.length;a++)s[r[a][o]]=r[a];else{let a=u[1];for(let l=0;l<r.length;l++)s[r[l][o]]=r[l][a]}}e(n,s)}),this.all.apply(this,t)};var Ff=!1,Ya=["trace","profile","change"];Je.prototype.addListener=Je.prototype.on=function(t){let e=Zn.prototype.addListener.apply(this,arguments);return Ya.indexOf(t)>=0&&this.configure(t,!0),e};Je.prototype.removeListener=function(t){let e=Zn.prototype.removeListener.apply(this,arguments);return Ya.indexOf(t)>=0&&!this._events[t]&&this.configure(t,!1),e};Je.prototype.removeAllListeners=function(t){let e=Zn.prototype.removeAllListeners.apply(this,arguments);return Ya.indexOf(t)>=0&&this.configure(t,!1),e};ct.verbose=function(){if(!Ff){let t=Df();["prepare","get","run","all","each","map","close","exec"].forEach(function(e){t.extendTrace(Je.prototype,e)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(e){t.extendTrace(Yi.prototype,e)}),Ff=!0}return ct}});var Kn=Z(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.stringArray=He.array=He.func=He.error=He.number=He.string=He.boolean=void 0;function Wy(t){return t===!0||t===!1}i(Wy,"boolean");He.boolean=Wy;function zf(t){return typeof t=="string"||t instanceof String}i(zf,"string");He.string=zf;function By(t){return typeof t=="number"||t instanceof Number}i(By,"number");He.number=By;function zy(t){return t instanceof Error}i(zy,"error");He.error=zy;function $y(t){return typeof t=="function"}i($y,"func");He.func=$y;function $f(t){return Array.isArray(t)}i($f,"array");He.array=$f;function Vy(t){return $f(t)&&t.every(e=>zf(e))}i(Vy,"stringArray");He.stringArray=Vy});var Yu=Z(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Message=ee.NotificationType9=ee.NotificationType8=ee.NotificationType7=ee.NotificationType6=ee.NotificationType5=ee.NotificationType4=ee.NotificationType3=ee.NotificationType2=ee.NotificationType1=ee.NotificationType0=ee.NotificationType=ee.RequestType9=ee.RequestType8=ee.RequestType7=ee.RequestType6=ee.RequestType5=ee.RequestType4=ee.RequestType3=ee.RequestType2=ee.RequestType1=ee.RequestType=ee.RequestType0=ee.AbstractMessageSignature=ee.ParameterStructures=ee.ResponseError=ee.ErrorCodes=void 0;var xn=Kn(),su;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(su||(ee.ErrorCodes=su={}));var io=class io extends Error{constructor(e,n,r){super(n),this.code=xn.number(e)?e:su.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,io.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};i(io,"ResponseError");var au=io;ee.ResponseError=au;var Xn=class Xn{constructor(e){this.kind=e}static is(e){return e===Xn.auto||e===Xn.byName||e===Xn.byPosition}toString(){return this.kind}};i(Xn,"ParameterStructures");var Xe=Xn;ee.ParameterStructures=Xe;Xe.auto=new Xe("auto");Xe.byPosition=new Xe("byPosition");Xe.byName=new Xe("byName");var Mu=class Mu{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Xe.auto}};i(Mu,"AbstractMessageSignature");var ve=Mu;ee.AbstractMessageSignature=ve;var Cu=class Cu extends ve{constructor(e){super(e,0)}};i(Cu,"RequestType0");var uu=Cu;ee.RequestType0=uu;var Lu=class Lu extends ve{constructor(e,n=Xe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};i(Lu,"RequestType");var lu=Lu;ee.RequestType=lu;var Nu=class Nu extends ve{constructor(e,n=Xe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};i(Nu,"RequestType1");var cu=Nu;ee.RequestType1=cu;var Au=class Au extends ve{constructor(e){super(e,2)}};i(Au,"RequestType2");var du=Au;ee.RequestType2=du;var Ou=class Ou extends ve{constructor(e){super(e,3)}};i(Ou,"RequestType3");var fu=Ou;ee.RequestType3=fu;var Du=class Du extends ve{constructor(e){super(e,4)}};i(Du,"RequestType4");var mu=Du;ee.RequestType4=mu;var Fu=class Fu extends ve{constructor(e){super(e,5)}};i(Fu,"RequestType5");var pu=Fu;ee.RequestType5=pu;var ju=class ju extends ve{constructor(e){super(e,6)}};i(ju,"RequestType6");var gu=ju;ee.RequestType6=gu;var qu=class qu extends ve{constructor(e){super(e,7)}};i(qu,"RequestType7");var hu=qu;ee.RequestType7=hu;var Uu=class Uu extends ve{constructor(e){super(e,8)}};i(Uu,"RequestType8");var _u=Uu;ee.RequestType8=_u;var Wu=class Wu extends ve{constructor(e){super(e,9)}};i(Wu,"RequestType9");var yu=Wu;ee.RequestType9=yu;var Bu=class Bu extends ve{constructor(e,n=Xe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};i(Bu,"NotificationType");var bu=Bu;ee.NotificationType=bu;var zu=class zu extends ve{constructor(e){super(e,0)}};i(zu,"NotificationType0");var vu=zu;ee.NotificationType0=vu;var $u=class $u extends ve{constructor(e,n=Xe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};i($u,"NotificationType1");var wu=$u;ee.NotificationType1=wu;var Vu=class Vu extends ve{constructor(e){super(e,2)}};i(Vu,"NotificationType2");var Su=Vu;ee.NotificationType2=Su;var Hu=class Hu extends ve{constructor(e){super(e,3)}};i(Hu,"NotificationType3");var Eu=Hu;ee.NotificationType3=Eu;var Gu=class Gu extends ve{constructor(e){super(e,4)}};i(Gu,"NotificationType4");var xu=Gu;ee.NotificationType4=xu;var Zu=class Zu extends ve{constructor(e){super(e,5)}};i(Zu,"NotificationType5");var Tu=Zu;ee.NotificationType5=Tu;var Qu=class Qu extends ve{constructor(e){super(e,6)}};i(Qu,"NotificationType6");var ku=Qu;ee.NotificationType6=ku;var Ju=class Ju extends ve{constructor(e){super(e,7)}};i(Ju,"NotificationType7");var Iu=Ju;ee.NotificationType7=Iu;var Ku=class Ku extends ve{constructor(e){super(e,8)}};i(Ku,"NotificationType8");var Pu=Ku;ee.NotificationType8=Pu;var Xu=class Xu extends ve{constructor(e){super(e,9)}};i(Xu,"NotificationType9");var Ru=Xu;ee.NotificationType9=Ru;var Vf;(function(t){function e(s){let u=s;return u&&xn.string(u.method)&&(xn.string(u.id)||xn.number(u.id))}i(e,"isRequest"),t.isRequest=e;function n(s){let u=s;return u&&xn.string(u.method)&&s.id===void 0}i(n,"isNotification"),t.isNotification=n;function r(s){let u=s;return u&&(u.result!==void 0||!!u.error)&&(xn.string(u.id)||xn.number(u.id)||u.id===null)}i(r,"isResponse"),t.isResponse=r})(Vf||(ee.Message=Vf={}))});var rl=Z(Xt=>{"use strict";var Hf;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.LRUCache=Xt.LinkedMap=Xt.Touch=void 0;var Ge;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Ge||(Xt.Touch=Ge={}));var tl=class tl{constructor(){this[Hf]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Ge.None){let r=this._map.get(e);if(r)return n!==Ge.None&&this.touch(r,n),r.value}set(e,n,r=Ge.None){let s=this._map.get(e);if(s)s.value=n,r!==Ge.None&&this.touch(s,r);else{switch(s={key:e,value:n,next:void 0,previous:void 0},r){case Ge.None:this.addItemLast(s);break;case Ge.First:this.addItemFirst(s);break;case Ge.Last:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(e,s),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,s=this._head;for(;s;){if(n?e.bind(n)(s.value,s.key,this):e(s.value,s.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:i(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}},"next")};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:i(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}},"next")};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:i(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}},"next")};return r}[(Hf=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ge.First&&n!==Ge.Last)){if(n===Ge.First){if(e===this._head)return;let r=e.next,s=e.previous;e===this._tail?(s.next=void 0,this._tail=s):(r.previous=s,s.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Ge.Last){if(e===this._tail)return;let r=e.next,s=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=s,s.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};i(tl,"LinkedMap");var oo=tl;Xt.LinkedMap=oo;var nl=class nl extends oo{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Ge.AsNew){return super.get(e,n)}peek(e){return super.get(e,Ge.None)}set(e,n){return super.set(e,n,Ge.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};i(nl,"LRUCache");var el=nl;Xt.LRUCache=el});var Zf=Z(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.Disposable=void 0;var Gf;(function(t){function e(n){return{dispose:n}}i(e,"create"),t.create=e})(Gf||(so.Disposable=Gf={}))});var Yt=Z(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});var il;function ol(){if(il===void 0)throw new Error("No runtime abstraction layer installed");return il}i(ol,"RAL");(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");il=n}i(e,"install"),t.install=e})(ol||(ol={}));sl.default=ol});var er=Z(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.Emitter=Yn.Event=void 0;var Hy=Yt(),Qf;(function(t){let e={dispose(){}};t.None=function(){return e}})(Qf||(Yn.Event=Qf={}));var ul=class ul{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:i(()=>this.remove(e,n),"dispose")})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let s=0,u=this._callbacks.length;s<u;s++)if(this._callbacks[s]===e)if(this._contexts[s]===n){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),s=this._contexts.slice(0);for(let u=0,o=r.length;u<o;u++)try{n.push(r[u].apply(s[u],e))}catch(a){(0,Hy.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};i(ul,"CallbackList");var al=ul,uo=class uo{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new al),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let s={dispose:i(()=>{this._callbacks&&(this._callbacks.remove(e,n),s.dispose=uo._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(r)&&r.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};i(uo,"Emitter");var ao=uo;Yn.Emitter=ao;ao._noop=function(){}});var fo=Z(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.CancellationTokenSource=tr.CancellationToken=void 0;var Gy=Yt(),Zy=Kn(),ll=er(),lo;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ll.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ll.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Zy.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}i(e,"is"),t.is=e})(lo||(tr.CancellationToken=lo={}));var Qy=Object.freeze(function(t,e){let n=(0,Gy.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),dl=class dl{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Qy:(this._emitter||(this._emitter=new ll.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};i(dl,"MutableToken");var co=dl,fl=class fl{get token(){return this._token||(this._token=new co),this._token}cancel(){this._token?this._token.cancel():this._token=lo.Cancelled}dispose(){this._token?this._token instanceof co&&this._token.dispose():this._token=lo.None}};i(fl,"CancellationTokenSource");var cl=fl;tr.CancellationTokenSource=cl});var Jf=Z(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.SharedArrayReceiverStrategy=nr.SharedArraySenderStrategy=void 0;var Jy=fo(),Zr;(function(t){t.Continue=0,t.Cancelled=1})(Zr||(Zr={}));var _l=class _l{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Zr.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let s=new Int32Array(r,0,1);Atomics.store(s,0,Zr.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};i(_l,"SharedArraySenderStrategy");var ml=_l;nr.SharedArraySenderStrategy=ml;var yl=class yl{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Zr.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};i(yl,"SharedArrayBufferCancellationToken");var pl=yl,bl=class bl{constructor(e){this.token=new pl(e)}cancel(){}dispose(){}};i(bl,"SharedArrayBufferCancellationTokenSource");var gl=bl,vl=class vl{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Jy.CancellationTokenSource:new gl(n)}};i(vl,"SharedArrayReceiverStrategy");var hl=vl;nr.SharedArrayReceiverStrategy=hl});var El=Z(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.Semaphore=void 0;var Ky=Yt(),Sl=class Sl{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ky.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};i(Sl,"Semaphore");var wl=Sl;mo.Semaphore=wl});var Xf=Z(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.ReadableStreamMessageReader=en.AbstractMessageReader=en.MessageReader=void 0;var Tl=Yt(),rr=Kn(),xl=er(),Xy=El(),Kf;(function(t){function e(n){let r=n;return r&&rr.func(r.listen)&&rr.func(r.dispose)&&rr.func(r.onError)&&rr.func(r.onClose)&&rr.func(r.onPartialMessage)}i(e,"is"),t.is=e})(Kf||(en.MessageReader=Kf={}));var Pl=class Pl{constructor(){this.errorEmitter=new xl.Emitter,this.closeEmitter=new xl.Emitter,this.partialMessageEmitter=new xl.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${rr.string(e.message)?e.message:"unknown"}`)}};i(Pl,"AbstractMessageReader");var po=Pl;en.AbstractMessageReader=po;var kl;(function(t){function e(n){var c;let r,s,u,o=new Map,a,l=new Map;if(n===void 0||typeof n=="string")r=n!=null?n:"utf-8";else{if(r=(c=n.charset)!=null?c:"utf-8",n.contentDecoder!==void 0&&(u=n.contentDecoder,o.set(u.name,u)),n.contentDecoders!==void 0)for(let m of n.contentDecoders)o.set(m.name,m);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,l.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let m of n.contentTypeDecoders)l.set(m.name,m)}return a===void 0&&(a=(0,Tl.default)().applicationJson.decoder,l.set(a.name,a)),{charset:r,contentDecoder:u,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:l}}i(e,"fromOptions"),t.fromOptions=e})(kl||(kl={}));var Rl=class Rl extends po{constructor(e,n){super(),this.readable=e,this.options=kl.fromOptions(n),this.buffer=(0,Tl.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Xy.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let s=r.get("content-length");if(!s){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let u=parseInt(s);if(isNaN(u)){this.fireError(new Error(`Content-Length value must be a number. Got ${s}`));return}this.nextMessageLength=u}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,s=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(s)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Tl.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};i(Rl,"ReadableStreamMessageReader");var Il=Rl;en.ReadableStreamMessageReader=Il});var rm=Z(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.WriteableStreamMessageWriter=tn.AbstractMessageWriter=tn.MessageWriter=void 0;var Yf=Yt(),Qr=Kn(),Yy=El(),em=er(),eb="Content-Length: ",tm=`\r
`,nm;(function(t){function e(n){let r=n;return r&&Qr.func(r.dispose)&&Qr.func(r.onClose)&&Qr.func(r.onError)&&Qr.func(r.write)}i(e,"is"),t.is=e})(nm||(tn.MessageWriter=nm={}));var Ll=class Ll{constructor(){this.errorEmitter=new em.Emitter,this.closeEmitter=new em.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Qr.string(e.message)?e.message:"unknown"}`)}};i(Ll,"AbstractMessageWriter");var go=Ll;tn.AbstractMessageWriter=go;var Ml;(function(t){function e(n){var r,s;return n===void 0||typeof n=="string"?{charset:n!=null?n:"utf-8",contentTypeEncoder:(0,Yf.default)().applicationJson.encoder}:{charset:(r=n.charset)!=null?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(s=n.contentTypeEncoder)!=null?s:(0,Yf.default)().applicationJson.encoder}}i(e,"fromOptions"),t.fromOptions=e})(Ml||(Ml={}));var Nl=class Nl extends go{constructor(e,n){super(),this.writable=e,this.options=Ml.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Yy.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let s=[];return s.push(eb,r.byteLength.toString(),tm),s.push(tm),this.doWrite(e,s,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(s){return this.handleError(s,e),Promise.reject(s)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};i(Nl,"WriteableStreamMessageWriter");var Cl=Nl;tn.WriteableStreamMessageWriter=Cl});var im=Z(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.AbstractMessageBuffer=void 0;var tb=13,nb=10,rb=`\r
`,Ol=class Ol{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,s=0,u=0;e:for(;r<this._chunks.length;){let c=this._chunks[r];for(s=0;s<c.length;){switch(c[s]){case tb:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case nb:switch(n){case 1:n=2;break;case 3:n=4,s++;break e;default:n=0}break;default:n=0}s++}u+=c.byteLength,r++}if(n!==4)return;let o=this._read(u+s),a=new Map,l=this.toString(o,"ascii").split(rb);if(l.length<2)return a;for(let c=0;c<l.length-2;c++){let m=l[c],g=m.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${m}`);let _=m.substr(0,g),w=m.substr(g+1).trim();a.set(e?_.toLowerCase():_,w)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let u=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(u)}if(this._chunks[0].byteLength>e){let u=this._chunks[0],o=this.asNative(u,e);return this._chunks[0]=u.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,s=0;for(;e>0;){let u=this._chunks[s];if(u.byteLength>e){let o=u.slice(0,e);n.set(o,r),r+=e,this._chunks[s]=u.slice(e),this._totalLength-=e,e-=e}else n.set(u,r),r+=u.byteLength,this._chunks.shift(),this._totalLength-=u.byteLength,e-=u.byteLength}return n}};i(Ol,"AbstractMessageBuffer");var Al=Ol;ho.AbstractMessageBuffer=Al});var lm=Z(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.createMessageConnection=oe.ConnectionOptions=oe.MessageStrategy=oe.CancellationStrategy=oe.CancellationSenderStrategy=oe.CancellationReceiverStrategy=oe.RequestCancellationReceiverStrategy=oe.IdCancellationReceiverStrategy=oe.ConnectionStrategy=oe.ConnectionError=oe.ConnectionErrors=oe.LogTraceNotification=oe.SetTraceNotification=oe.TraceFormat=oe.TraceValues=oe.Trace=oe.NullLogger=oe.ProgressType=oe.ProgressToken=void 0;var om=Yt(),ke=Kn(),re=Yu(),sm=rl(),Jr=er(),Dl=fo(),Yr;(function(t){t.type=new re.NotificationType("$/cancelRequest")})(Yr||(Yr={}));var Fl;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}i(e,"is"),t.is=e})(Fl||(oe.ProgressToken=Fl={}));var Kr;(function(t){t.type=new re.NotificationType("$/progress")})(Kr||(Kr={}));var zl=class zl{constructor(){}};i(zl,"ProgressType");var jl=zl;oe.ProgressType=jl;var ql;(function(t){function e(n){return ke.func(n)}i(e,"is"),t.is=e})(ql||(ql={}));oe.NullLogger=Object.freeze({error:i(()=>{},"error"),warn:i(()=>{},"warn"),info:i(()=>{},"info"),log:i(()=>{},"log")});var de;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(de||(oe.Trace=de={}));var am;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(am||(oe.TraceValues=am={}));(function(t){function e(r){if(!ke.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}i(e,"fromString"),t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}i(n,"toString"),t.toString=n})(de||(oe.Trace=de={}));var ot;(function(t){t.Text="text",t.JSON="json"})(ot||(oe.TraceFormat=ot={}));(function(t){function e(n){return ke.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}i(e,"fromString"),t.fromString=e})(ot||(oe.TraceFormat=ot={}));var Ul;(function(t){t.type=new re.NotificationType("$/setTrace")})(Ul||(oe.SetTraceNotification=Ul={}));var _o;(function(t){t.type=new re.NotificationType("$/logTrace")})(_o||(oe.LogTraceNotification=_o={}));var Xr;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Xr||(oe.ConnectionErrors=Xr={}));var Eo=class Eo extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,Eo.prototype)}};i(Eo,"ConnectionError");var ir=Eo;oe.ConnectionError=ir;var Wl;(function(t){function e(n){let r=n;return r&&ke.func(r.cancelUndispatched)}i(e,"is"),t.is=e})(Wl||(oe.ConnectionStrategy=Wl={}));var yo;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&ke.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ke.func(r.dispose))}i(e,"is"),t.is=e})(yo||(oe.IdCancellationReceiverStrategy=yo={}));var Bl;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&ke.func(r.createCancellationTokenSource)&&(r.dispose===void 0||ke.func(r.dispose))}i(e,"is"),t.is=e})(Bl||(oe.RequestCancellationReceiverStrategy=Bl={}));var bo;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Dl.CancellationTokenSource}});function e(n){return yo.is(n)||Bl.is(n)}i(e,"is"),t.is=e})(bo||(oe.CancellationReceiverStrategy=bo={}));var vo;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Yr.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&ke.func(r.sendCancellation)&&ke.func(r.cleanup)}i(e,"is"),t.is=e})(vo||(oe.CancellationSenderStrategy=vo={}));var wo;(function(t){t.Message=Object.freeze({receiver:bo.Message,sender:vo.Message});function e(n){let r=n;return r&&bo.is(r.receiver)&&vo.is(r.sender)}i(e,"is"),t.is=e})(wo||(oe.CancellationStrategy=wo={}));var So;(function(t){function e(n){let r=n;return r&&ke.func(r.handleMessage)}i(e,"is"),t.is=e})(So||(oe.MessageStrategy=So={}));var um;(function(t){function e(n){let r=n;return r&&(wo.is(r.cancellationStrategy)||Wl.is(r.connectionStrategy)||So.is(r.messageStrategy))}i(e,"is"),t.is=e})(um||(oe.ConnectionOptions=um={}));var St;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(St||(St={}));function ib(t,e,n,r){let s=n!==void 0?n:oe.NullLogger,u=0,o=0,a=0,l="2.0",c,m=new Map,g,_=new Map,w=new Map,x,T=new sm.LinkedMap,O=new Map,R=new Set,H=new Map,q=de.Off,Q=ot.Text,W,Y=St.New,X=new Jr.Emitter,D=new Jr.Emitter,te=new Jr.Emitter,Le=new Jr.Emitter,je=new Jr.Emitter,we=r&&r.cancellationStrategy?r.cancellationStrategy:wo.Message;function j(y){if(y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+y.toString()}i(j,"createRequestQueueKey");function I(y){return y===null?"res-unknown-"+(++a).toString():"res-"+y.toString()}i(I,"createResponseQueueKey");function F(){return"not-"+(++o).toString()}i(F,"createNotificationQueueKey");function V(y,L){re.Message.isRequest(L)?y.set(j(L.id),L):re.Message.isResponse(L)?y.set(I(L.id),L):y.set(F(),L)}i(V,"addMessageToQueue");function k(y){}i(k,"cancelUndispatched");function M(){return Y===St.Listening}i(M,"isListening");function A(){return Y===St.Closed}i(A,"isClosed");function B(){return Y===St.Disposed}i(B,"isDisposed");function G(){(Y===St.New||Y===St.Listening)&&(Y=St.Closed,D.fire(void 0))}i(G,"closeHandler");function $(y){X.fire([y,void 0,void 0])}i($,"readErrorHandler");function ne(y){X.fire(y)}i(ne,"writeErrorHandler"),t.onClose(G),t.onError($),e.onClose(G),e.onError(ne);function se(){x||T.size===0||(x=(0,om.default)().timer.setImmediate(()=>{x=void 0,fe()}))}i(se,"triggerMessageQueue");function Ie(y){re.Message.isRequest(y)?xt(y):re.Message.isNotification(y)?ii(y):re.Message.isResponse(y)?ri(y):Mn(y)}i(Ie,"handleMessage");function fe(){if(T.size===0)return;let y=T.shift();try{let L=r==null?void 0:r.messageStrategy;So.is(L)?L.handleMessage(y,Ie):Ie(y)}finally{se()}}i(fe,"processMessageQueue");let nt=i(y=>{try{if(re.Message.isNotification(y)&&y.method===Yr.type.method){let L=y.params.id,z=j(L),J=T.get(z);if(re.Message.isRequest(J)){let me=r==null?void 0:r.connectionStrategy,pe=me&&me.cancelUndispatched?me.cancelUndispatched(J,k):void 0;if(pe&&(pe.error!==void 0||pe.result!==void 0)){T.delete(z),H.delete(L),pe.id=J.id,un(pe,y.method,Date.now()),e.write(pe).catch(()=>s.error("Sending response for canceled message failed."));return}}let he=H.get(L);if(he!==void 0){he.cancel(),Cn(y);return}else R.add(L)}V(T,y)}finally{se()}},"callback");function xt(y){var Me;if(B())return;function L(ce,Ee,ge){let xe={jsonrpc:l,id:y.id};ce instanceof re.ResponseError?xe.error=ce.toJson():xe.result=ce===void 0?null:ce,un(xe,Ee,ge),e.write(xe).catch(()=>s.error("Sending response failed."))}i(L,"reply");function z(ce,Ee,ge){let xe={jsonrpc:l,id:y.id,error:ce.toJson()};un(xe,Ee,ge),e.write(xe).catch(()=>s.error("Sending response failed."))}i(z,"replyError");function J(ce,Ee,ge){ce===void 0&&(ce=null);let xe={jsonrpc:l,id:y.id,result:ce};un(xe,Ee,ge),e.write(xe).catch(()=>s.error("Sending response failed."))}i(J,"replySuccess"),ai(y);let he=m.get(y.method),me,pe;he&&(me=he.type,pe=he.handler);let Se=Date.now();if(pe||c){let ce=(Me=y.id)!=null?Me:String(Date.now()),Ee=yo.is(we.receiver)?we.receiver.createCancellationTokenSource(ce):we.receiver.createCancellationTokenSource(y);y.id!==null&&R.has(y.id)&&Ee.cancel(),y.id!==null&&H.set(ce,Ee);try{let ge;if(pe)if(y.params===void 0){if(me!==void 0&&me.numberOfParams!==0){z(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${y.method} defines ${me.numberOfParams} params but received none.`),y.method,Se);return}ge=pe(Ee.token)}else if(Array.isArray(y.params)){if(me!==void 0&&me.parameterStructures===re.ParameterStructures.byName){z(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by name but received parameters by position`),y.method,Se);return}ge=pe(...y.params,Ee.token)}else{if(me!==void 0&&me.parameterStructures===re.ParameterStructures.byPosition){z(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by position but received parameters by name`),y.method,Se);return}ge=pe(y.params,Ee.token)}else c&&(ge=c(y.method,y.params,Ee.token));let xe=ge;ge?xe.then?xe.then(Ce=>{H.delete(ce),L(Ce,y.method,Se)},Ce=>{H.delete(ce),Ce instanceof re.ResponseError?z(Ce,y.method,Se):Ce&&ke.string(Ce.message)?z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${Ce.message}`),y.method,Se):z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,Se)}):(H.delete(ce),L(ge,y.method,Se)):(H.delete(ce),J(ge,y.method,Se))}catch(ge){H.delete(ce),ge instanceof re.ResponseError?L(ge,y.method,Se):ge&&ke.string(ge.message)?z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${ge.message}`),y.method,Se):z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,Se)}}else z(new re.ResponseError(re.ErrorCodes.MethodNotFound,`Unhandled method ${y.method}`),y.method,Se)}i(xt,"handleRequest");function ri(y){if(!B())if(y.id===null)y.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(y.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{let L=y.id,z=O.get(L);if(ui(y,z),z!==void 0){O.delete(L);try{if(y.error){let J=y.error;z.reject(new re.ResponseError(J.code,J.message,J.data))}else if(y.result!==void 0)z.resolve(y.result);else throw new Error("Should never happen.")}catch(J){J.message?s.error(`Response handler '${z.method}' failed with message: ${J.message}`):s.error(`Response handler '${z.method}' failed unexpectedly.`)}}}}i(ri,"handleResponse");function ii(y){if(B())return;let L,z;if(y.method===Yr.type.method){let J=y.params.id;R.delete(J),Cn(y);return}else{let J=_.get(y.method);J&&(z=J.handler,L=J.type)}if(z||g)try{if(Cn(y),z)if(y.params===void 0)L!==void 0&&L.numberOfParams!==0&&L.parameterStructures!==re.ParameterStructures.byName&&s.error(`Notification ${y.method} defines ${L.numberOfParams} params but received none.`),z();else if(Array.isArray(y.params)){let J=y.params;y.method===Kr.type.method&&J.length===2&&Fl.is(J[0])?z({token:J[0],value:J[1]}):(L!==void 0&&(L.parameterStructures===re.ParameterStructures.byName&&s.error(`Notification ${y.method} defines parameters by name but received parameters by position`),L.numberOfParams!==y.params.length&&s.error(`Notification ${y.method} defines ${L.numberOfParams} params but received ${J.length} arguments`)),z(...J))}else L!==void 0&&L.parameterStructures===re.ParameterStructures.byPosition&&s.error(`Notification ${y.method} defines parameters by position but received parameters by name`),z(y.params);else g&&g(y.method,y.params)}catch(J){J.message?s.error(`Notification handler '${y.method}' failed with message: ${J.message}`):s.error(`Notification handler '${y.method}' failed unexpectedly.`)}else te.fire(y)}i(ii,"handleNotification");function Mn(y){if(!y){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(y,null,4)}`);let L=y;if(ke.string(L.id)||ke.number(L.id)){let z=L.id,J=O.get(z);J&&J.reject(new Error("The received response has neither a result nor an error property."))}}i(Mn,"handleInvalidMessage");function gt(y){if(y!=null)switch(q){case de.Verbose:return JSON.stringify(y,null,4);case de.Compact:return JSON.stringify(y);default:return}}i(gt,"stringifyTrace");function oi(y){if(!(q===de.Off||!W))if(Q===ot.Text){let L;(q===de.Verbose||q===de.Compact)&&y.params&&(L=`Params: ${gt(y.params)}

`),W.log(`Sending request '${y.method} - (${y.id})'.`,L)}else Nt("send-request",y)}i(oi,"traceSendingRequest");function si(y){if(!(q===de.Off||!W))if(Q===ot.Text){let L;(q===de.Verbose||q===de.Compact)&&(y.params?L=`Params: ${gt(y.params)}

`:L=`No parameters provided.

`),W.log(`Sending notification '${y.method}'.`,L)}else Nt("send-notification",y)}i(si,"traceSendingNotification");function un(y,L,z){if(!(q===de.Off||!W))if(Q===ot.Text){let J;(q===de.Verbose||q===de.Compact)&&(y.error&&y.error.data?J=`Error data: ${gt(y.error.data)}

`:y.result?J=`Result: ${gt(y.result)}

`:y.error===void 0&&(J=`No result returned.

`)),W.log(`Sending response '${L} - (${y.id})'. Processing request took ${Date.now()-z}ms`,J)}else Nt("send-response",y)}i(un,"traceSendingResponse");function ai(y){if(!(q===de.Off||!W))if(Q===ot.Text){let L;(q===de.Verbose||q===de.Compact)&&y.params&&(L=`Params: ${gt(y.params)}

`),W.log(`Received request '${y.method} - (${y.id})'.`,L)}else Nt("receive-request",y)}i(ai,"traceReceivedRequest");function Cn(y){if(!(q===de.Off||!W||y.method===_o.type.method))if(Q===ot.Text){let L;(q===de.Verbose||q===de.Compact)&&(y.params?L=`Params: ${gt(y.params)}

`:L=`No parameters provided.

`),W.log(`Received notification '${y.method}'.`,L)}else Nt("receive-notification",y)}i(Cn,"traceReceivedNotification");function ui(y,L){if(!(q===de.Off||!W))if(Q===ot.Text){let z;if((q===de.Verbose||q===de.Compact)&&(y.error&&y.error.data?z=`Error data: ${gt(y.error.data)}

`:y.result?z=`Result: ${gt(y.result)}

`:y.error===void 0&&(z=`No result returned.

`)),L){let J=y.error?` Request failed: ${y.error.message} (${y.error.code}).`:"";W.log(`Received response '${L.method} - (${y.id})' in ${Date.now()-L.timerStart}ms.${J}`,z)}else W.log(`Received response ${y.id} without active response promise.`,z)}else Nt("receive-response",y)}i(ui,"traceReceivedResponse");function Nt(y,L){if(!W||q===de.Off)return;let z={isLSPMessage:!0,type:y,message:L,timestamp:Date.now()};W.log(z)}i(Nt,"logLSPMessage");function $t(){if(A())throw new ir(Xr.Closed,"Connection is closed.");if(B())throw new ir(Xr.Disposed,"Connection is disposed.")}i($t,"throwIfClosedOrDisposed");function li(){if(M())throw new ir(Xr.AlreadyListening,"Connection is already listening")}i(li,"throwIfListening");function ci(){if(!M())throw new Error("Call listen() first.")}i(ci,"throwIfNotListening");function Tt(y){return y===void 0?null:y}i(Tt,"undefinedToNull");function yr(y){if(y!==null)return y}i(yr,"nullToUndefined");function br(y){return y!=null&&!Array.isArray(y)&&typeof y=="object"}i(br,"isNamedParam");function Ln(y,L){switch(y){case re.ParameterStructures.auto:return br(L)?yr(L):[Tt(L)];case re.ParameterStructures.byName:if(!br(L))throw new Error("Received parameters by name but param is not an object literal.");return yr(L);case re.ParameterStructures.byPosition:return[Tt(L)];default:throw new Error(`Unknown parameter structure ${y.toString()}`)}}i(Ln,"computeSingleParam");function vr(y,L){let z,J=y.numberOfParams;switch(J){case 0:z=void 0;break;case 1:z=Ln(y.parameterStructures,L[0]);break;default:z=[];for(let he=0;he<L.length&&he<J;he++)z.push(Tt(L[he]));if(L.length<J)for(let he=L.length;he<J;he++)z.push(null);break}return z}i(vr,"computeMessageParams");let At={sendNotification:i((y,...L)=>{$t();let z,J;if(ke.string(y)){z=y;let me=L[0],pe=0,Se=re.ParameterStructures.auto;re.ParameterStructures.is(me)&&(pe=1,Se=me);let Me=L.length,ce=Me-pe;switch(ce){case 0:J=void 0;break;case 1:J=Ln(Se,L[pe]);break;default:if(Se===re.ParameterStructures.byName)throw new Error(`Received ${ce} parameters for 'by Name' notification parameter structure.`);J=L.slice(pe,Me).map(Ee=>Tt(Ee));break}}else{let me=L;z=y.method,J=vr(y,me)}let he={jsonrpc:l,method:z,params:J};return si(he),e.write(he).catch(me=>{throw s.error("Sending notification failed."),me})},"sendNotification"),onNotification:i((y,L)=>{$t();let z;return ke.func(y)?g=y:L&&(ke.string(y)?(z=y,_.set(y,{type:void 0,handler:L})):(z=y.method,_.set(y.method,{type:y,handler:L}))),{dispose:i(()=>{z!==void 0?_.delete(z):g=void 0},"dispose")}},"onNotification"),onProgress:i((y,L,z)=>{if(w.has(L))throw new Error(`Progress handler for token ${L} already registered`);return w.set(L,z),{dispose:i(()=>{w.delete(L)},"dispose")}},"onProgress"),sendProgress:i((y,L,z)=>At.sendNotification(Kr.type,{token:L,value:z}),"sendProgress"),onUnhandledProgress:Le.event,sendRequest:i((y,...L)=>{$t(),ci();let z,J,he;if(ke.string(y)){z=y;let Me=L[0],ce=L[L.length-1],Ee=0,ge=re.ParameterStructures.auto;re.ParameterStructures.is(Me)&&(Ee=1,ge=Me);let xe=L.length;Dl.CancellationToken.is(ce)&&(xe=xe-1,he=ce);let Ce=xe-Ee;switch(Ce){case 0:J=void 0;break;case 1:J=Ln(ge,L[Ee]);break;default:if(ge===re.ParameterStructures.byName)throw new Error(`Received ${Ce} parameters for 'by Name' request parameter structure.`);J=L.slice(Ee,xe).map(di=>Tt(di));break}}else{let Me=L;z=y.method,J=vr(y,Me);let ce=y.numberOfParams;he=Dl.CancellationToken.is(Me[ce])?Me[ce]:void 0}let me=u++,pe;he&&(pe=he.onCancellationRequested(()=>{let Me=we.sender.sendCancellation(At,me);return Me===void 0?(s.log(`Received no promise from cancellation strategy when cancelling id ${me}`),Promise.resolve()):Me.catch(()=>{s.log(`Sending cancellation messages for id ${me} failed`)})}));let Se={jsonrpc:l,id:me,method:z,params:J};return oi(Se),typeof we.sender.enableCancellation=="function"&&we.sender.enableCancellation(Se),new Promise(async(Me,ce)=>{let Ee=i(Ce=>{Me(Ce),we.sender.cleanup(me),pe==null||pe.dispose()},"resolveWithCleanup"),ge=i(Ce=>{ce(Ce),we.sender.cleanup(me),pe==null||pe.dispose()},"rejectWithCleanup"),xe={method:z,timerStart:Date.now(),resolve:Ee,reject:ge};try{await e.write(Se),O.set(me,xe)}catch(Ce){throw s.error("Sending request failed."),xe.reject(new re.ResponseError(re.ErrorCodes.MessageWriteError,Ce.message?Ce.message:"Unknown reason")),Ce}})},"sendRequest"),onRequest:i((y,L)=>{$t();let z=null;return ql.is(y)?(z=void 0,c=y):ke.string(y)?(z=null,L!==void 0&&(z=y,m.set(y,{handler:L,type:void 0}))):L!==void 0&&(z=y.method,m.set(y.method,{type:y,handler:L})),{dispose:i(()=>{z!==null&&(z!==void 0?m.delete(z):c=void 0)},"dispose")}},"onRequest"),hasPendingResponse:i(()=>O.size>0,"hasPendingResponse"),trace:i(async(y,L,z)=>{let J=!1,he=ot.Text;z!==void 0&&(ke.boolean(z)?J=z:(J=z.sendNotification||!1,he=z.traceFormat||ot.Text)),q=y,Q=he,q===de.Off?W=void 0:W=L,J&&!A()&&!B()&&await At.sendNotification(Ul.type,{value:de.toString(y)})},"trace"),onError:X.event,onClose:D.event,onUnhandledNotification:te.event,onDispose:je.event,end:i(()=>{e.end()},"end"),dispose:i(()=>{if(B())return;Y=St.Disposed,je.fire(void 0);let y=new re.ResponseError(re.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let L of O.values())L.reject(y);O=new Map,H=new Map,R=new Set,T=new sm.LinkedMap,ke.func(e.dispose)&&e.dispose(),ke.func(t.dispose)&&t.dispose()},"dispose"),listen:i(()=>{$t(),li(),Y=St.Listening,t.listen(nt)},"listen"),inspect:i(()=>{(0,om.default)().console.log("inspect")},"inspect")};return At.onNotification(_o.type,y=>{if(q===de.Off||!W)return;let L=q===de.Verbose||q===de.Compact;W.log(y.message,L?y.verbose:void 0)}),At.onNotification(Kr.type,y=>{let L=w.get(y.token);L?L(y.value):Le.fire(y)}),At}i(ib,"createMessageConnection");oe.createMessageConnection=ib});var xo=Z(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.ProgressType=P.ProgressToken=P.createMessageConnection=P.NullLogger=P.ConnectionOptions=P.ConnectionStrategy=P.AbstractMessageBuffer=P.WriteableStreamMessageWriter=P.AbstractMessageWriter=P.MessageWriter=P.ReadableStreamMessageReader=P.AbstractMessageReader=P.MessageReader=P.SharedArrayReceiverStrategy=P.SharedArraySenderStrategy=P.CancellationToken=P.CancellationTokenSource=P.Emitter=P.Event=P.Disposable=P.LRUCache=P.Touch=P.LinkedMap=P.ParameterStructures=P.NotificationType9=P.NotificationType8=P.NotificationType7=P.NotificationType6=P.NotificationType5=P.NotificationType4=P.NotificationType3=P.NotificationType2=P.NotificationType1=P.NotificationType0=P.NotificationType=P.ErrorCodes=P.ResponseError=P.RequestType9=P.RequestType8=P.RequestType7=P.RequestType6=P.RequestType5=P.RequestType4=P.RequestType3=P.RequestType2=P.RequestType1=P.RequestType0=P.RequestType=P.Message=P.RAL=void 0;P.MessageStrategy=P.CancellationStrategy=P.CancellationSenderStrategy=P.CancellationReceiverStrategy=P.ConnectionError=P.ConnectionErrors=P.LogTraceNotification=P.SetTraceNotification=P.TraceFormat=P.TraceValues=P.Trace=void 0;var ye=Yu();Object.defineProperty(P,"Message",{enumerable:!0,get:i(function(){return ye.Message},"get")});Object.defineProperty(P,"RequestType",{enumerable:!0,get:i(function(){return ye.RequestType},"get")});Object.defineProperty(P,"RequestType0",{enumerable:!0,get:i(function(){return ye.RequestType0},"get")});Object.defineProperty(P,"RequestType1",{enumerable:!0,get:i(function(){return ye.RequestType1},"get")});Object.defineProperty(P,"RequestType2",{enumerable:!0,get:i(function(){return ye.RequestType2},"get")});Object.defineProperty(P,"RequestType3",{enumerable:!0,get:i(function(){return ye.RequestType3},"get")});Object.defineProperty(P,"RequestType4",{enumerable:!0,get:i(function(){return ye.RequestType4},"get")});Object.defineProperty(P,"RequestType5",{enumerable:!0,get:i(function(){return ye.RequestType5},"get")});Object.defineProperty(P,"RequestType6",{enumerable:!0,get:i(function(){return ye.RequestType6},"get")});Object.defineProperty(P,"RequestType7",{enumerable:!0,get:i(function(){return ye.RequestType7},"get")});Object.defineProperty(P,"RequestType8",{enumerable:!0,get:i(function(){return ye.RequestType8},"get")});Object.defineProperty(P,"RequestType9",{enumerable:!0,get:i(function(){return ye.RequestType9},"get")});Object.defineProperty(P,"ResponseError",{enumerable:!0,get:i(function(){return ye.ResponseError},"get")});Object.defineProperty(P,"ErrorCodes",{enumerable:!0,get:i(function(){return ye.ErrorCodes},"get")});Object.defineProperty(P,"NotificationType",{enumerable:!0,get:i(function(){return ye.NotificationType},"get")});Object.defineProperty(P,"NotificationType0",{enumerable:!0,get:i(function(){return ye.NotificationType0},"get")});Object.defineProperty(P,"NotificationType1",{enumerable:!0,get:i(function(){return ye.NotificationType1},"get")});Object.defineProperty(P,"NotificationType2",{enumerable:!0,get:i(function(){return ye.NotificationType2},"get")});Object.defineProperty(P,"NotificationType3",{enumerable:!0,get:i(function(){return ye.NotificationType3},"get")});Object.defineProperty(P,"NotificationType4",{enumerable:!0,get:i(function(){return ye.NotificationType4},"get")});Object.defineProperty(P,"NotificationType5",{enumerable:!0,get:i(function(){return ye.NotificationType5},"get")});Object.defineProperty(P,"NotificationType6",{enumerable:!0,get:i(function(){return ye.NotificationType6},"get")});Object.defineProperty(P,"NotificationType7",{enumerable:!0,get:i(function(){return ye.NotificationType7},"get")});Object.defineProperty(P,"NotificationType8",{enumerable:!0,get:i(function(){return ye.NotificationType8},"get")});Object.defineProperty(P,"NotificationType9",{enumerable:!0,get:i(function(){return ye.NotificationType9},"get")});Object.defineProperty(P,"ParameterStructures",{enumerable:!0,get:i(function(){return ye.ParameterStructures},"get")});var $l=rl();Object.defineProperty(P,"LinkedMap",{enumerable:!0,get:i(function(){return $l.LinkedMap},"get")});Object.defineProperty(P,"LRUCache",{enumerable:!0,get:i(function(){return $l.LRUCache},"get")});Object.defineProperty(P,"Touch",{enumerable:!0,get:i(function(){return $l.Touch},"get")});var ob=Zf();Object.defineProperty(P,"Disposable",{enumerable:!0,get:i(function(){return ob.Disposable},"get")});var cm=er();Object.defineProperty(P,"Event",{enumerable:!0,get:i(function(){return cm.Event},"get")});Object.defineProperty(P,"Emitter",{enumerable:!0,get:i(function(){return cm.Emitter},"get")});var dm=fo();Object.defineProperty(P,"CancellationTokenSource",{enumerable:!0,get:i(function(){return dm.CancellationTokenSource},"get")});Object.defineProperty(P,"CancellationToken",{enumerable:!0,get:i(function(){return dm.CancellationToken},"get")});var fm=Jf();Object.defineProperty(P,"SharedArraySenderStrategy",{enumerable:!0,get:i(function(){return fm.SharedArraySenderStrategy},"get")});Object.defineProperty(P,"SharedArrayReceiverStrategy",{enumerable:!0,get:i(function(){return fm.SharedArrayReceiverStrategy},"get")});var Vl=Xf();Object.defineProperty(P,"MessageReader",{enumerable:!0,get:i(function(){return Vl.MessageReader},"get")});Object.defineProperty(P,"AbstractMessageReader",{enumerable:!0,get:i(function(){return Vl.AbstractMessageReader},"get")});Object.defineProperty(P,"ReadableStreamMessageReader",{enumerable:!0,get:i(function(){return Vl.ReadableStreamMessageReader},"get")});var Hl=rm();Object.defineProperty(P,"MessageWriter",{enumerable:!0,get:i(function(){return Hl.MessageWriter},"get")});Object.defineProperty(P,"AbstractMessageWriter",{enumerable:!0,get:i(function(){return Hl.AbstractMessageWriter},"get")});Object.defineProperty(P,"WriteableStreamMessageWriter",{enumerable:!0,get:i(function(){return Hl.WriteableStreamMessageWriter},"get")});var sb=im();Object.defineProperty(P,"AbstractMessageBuffer",{enumerable:!0,get:i(function(){return sb.AbstractMessageBuffer},"get")});var Be=lm();Object.defineProperty(P,"ConnectionStrategy",{enumerable:!0,get:i(function(){return Be.ConnectionStrategy},"get")});Object.defineProperty(P,"ConnectionOptions",{enumerable:!0,get:i(function(){return Be.ConnectionOptions},"get")});Object.defineProperty(P,"NullLogger",{enumerable:!0,get:i(function(){return Be.NullLogger},"get")});Object.defineProperty(P,"createMessageConnection",{enumerable:!0,get:i(function(){return Be.createMessageConnection},"get")});Object.defineProperty(P,"ProgressToken",{enumerable:!0,get:i(function(){return Be.ProgressToken},"get")});Object.defineProperty(P,"ProgressType",{enumerable:!0,get:i(function(){return Be.ProgressType},"get")});Object.defineProperty(P,"Trace",{enumerable:!0,get:i(function(){return Be.Trace},"get")});Object.defineProperty(P,"TraceValues",{enumerable:!0,get:i(function(){return Be.TraceValues},"get")});Object.defineProperty(P,"TraceFormat",{enumerable:!0,get:i(function(){return Be.TraceFormat},"get")});Object.defineProperty(P,"SetTraceNotification",{enumerable:!0,get:i(function(){return Be.SetTraceNotification},"get")});Object.defineProperty(P,"LogTraceNotification",{enumerable:!0,get:i(function(){return Be.LogTraceNotification},"get")});Object.defineProperty(P,"ConnectionErrors",{enumerable:!0,get:i(function(){return Be.ConnectionErrors},"get")});Object.defineProperty(P,"ConnectionError",{enumerable:!0,get:i(function(){return Be.ConnectionError},"get")});Object.defineProperty(P,"CancellationReceiverStrategy",{enumerable:!0,get:i(function(){return Be.CancellationReceiverStrategy},"get")});Object.defineProperty(P,"CancellationSenderStrategy",{enumerable:!0,get:i(function(){return Be.CancellationSenderStrategy},"get")});Object.defineProperty(P,"CancellationStrategy",{enumerable:!0,get:i(function(){return Be.CancellationStrategy},"get")});Object.defineProperty(P,"MessageStrategy",{enumerable:!0,get:i(function(){return Be.MessageStrategy},"get")});var ab=Yt();P.RAL=ab.default});var gm=Z(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var mm=require("util"),Bt=xo(),ko=class ko extends Bt.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return ko.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new mm.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};i(ko,"MessageBuffer");var To=ko;To.emptyBuffer=Buffer.allocUnsafe(0);var Kl=class Kl{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Bt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Bt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Bt.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Bt.Disposable.create(()=>this.stream.off("data",e))}};i(Kl,"ReadableStreamWrapper");var Gl=Kl,Xl=class Xl{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Bt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Bt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Bt.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,s)=>{let u=i(o=>{o==null?r():s(o)},"callback");typeof e=="string"?this.stream.write(e,n,u):this.stream.write(e,u)})}end(){this.stream.end()}};i(Xl,"WritableStreamWrapper");var Zl=Xl,pm=Object.freeze({messageBuffer:Object.freeze({create:i(t=>new To(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:i((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:i((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new mm.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}},"decode")})}),stream:Object.freeze({asReadableStream:i(t=>new Gl(t),"asReadableStream"),asWritableStream:i(t=>new Zl(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:i(()=>clearTimeout(r),"dispose")}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:i(()=>clearImmediate(n),"dispose")}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:i(()=>clearInterval(r),"dispose")}}})});function Ql(){return pm}i(Ql,"RIL");(function(t){function e(){Bt.RAL.install(pm)}i(e,"install"),t.install=e})(Ql||(Ql={}));Jl.default=Ql});var In=Z(le=>{"use strict";var ub=le&&le.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:i(function(){return e[n]},"get")}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),lb=le&&le.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ub(e,t,n)};Object.defineProperty(le,"__esModule",{value:!0});le.createMessageConnection=le.createServerSocketTransport=le.createClientSocketTransport=le.createServerPipeTransport=le.createClientPipeTransport=le.generateRandomPipeName=le.StreamMessageWriter=le.StreamMessageReader=le.SocketMessageWriter=le.SocketMessageReader=le.PortMessageWriter=le.PortMessageReader=le.IPCMessageWriter=le.IPCMessageReader=void 0;var or=gm();or.default.install();var hm=require("path"),cb=require("os"),db=require("crypto"),Ro=require("net"),st=xo();lb(xo(),le);var rc=class rc extends st.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),st.Disposable.create(()=>this.process.off("message",e))}};i(rc,"IPCMessageReader");var Yl=rc;le.IPCMessageReader=Yl;var ic=class ic extends st.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};i(ic,"IPCMessageWriter");var ec=ic;le.IPCMessageWriter=ec;var oc=class oc extends st.AbstractMessageReader{constructor(e){super(),this.onData=new st.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};i(oc,"PortMessageReader");var tc=oc;le.PortMessageReader=tc;var sc=class sc extends st.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};i(sc,"PortMessageWriter");var nc=sc;le.PortMessageWriter=nc;var ac=class ac extends st.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,or.default)().stream.asReadableStream(e),n)}};i(ac,"SocketMessageReader");var Tn=ac;le.SocketMessageReader=Tn;var uc=class uc extends st.WriteableStreamMessageWriter{constructor(e,n){super((0,or.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};i(uc,"SocketMessageWriter");var kn=uc;le.SocketMessageWriter=kn;var lc=class lc extends st.ReadableStreamMessageReader{constructor(e,n){super((0,or.default)().stream.asReadableStream(e),n)}};i(lc,"StreamMessageReader");var Io=lc;le.StreamMessageReader=Io;var cc=class cc extends st.WriteableStreamMessageWriter{constructor(e,n){super((0,or.default)().stream.asWritableStream(e),n)}};i(cc,"StreamMessageWriter");var Po=cc;le.StreamMessageWriter=Po;var _m=process.env.XDG_RUNTIME_DIR,fb=new Map([["linux",107],["darwin",103]]);function mb(){let t=(0,db.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;_m?e=hm.join(_m,`vscode-ipc-${t}.sock`):e=hm.join(cb.tmpdir(),`vscode-${t}.sock`);let n=fb.get(process.platform);return n!==void 0&&e.length>n&&(0,or.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}i(mb,"generateRandomPipeName");le.generateRandomPipeName=mb;function pb(t,e="utf-8"){let n,r=new Promise((s,u)=>{n=s});return new Promise((s,u)=>{let o=(0,Ro.createServer)(a=>{o.close(),n([new Tn(a,e),new kn(a,e)])});o.on("error",u),o.listen(t,()=>{o.removeListener("error",u),s({onConnected:i(()=>r,"onConnected")})})})}i(pb,"createClientPipeTransport");le.createClientPipeTransport=pb;function gb(t,e="utf-8"){let n=(0,Ro.createConnection)(t);return[new Tn(n,e),new kn(n,e)]}i(gb,"createServerPipeTransport");le.createServerPipeTransport=gb;function hb(t,e="utf-8"){let n,r=new Promise((s,u)=>{n=s});return new Promise((s,u)=>{let o=(0,Ro.createServer)(a=>{o.close(),n([new Tn(a,e),new kn(a,e)])});o.on("error",u),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",u),s({onConnected:i(()=>r,"onConnected")})})})}i(hb,"createClientSocketTransport");le.createClientSocketTransport=hb;function _b(t,e="utf-8"){let n=(0,Ro.createConnection)(t,"127.0.0.1");return[new Tn(n,e),new kn(n,e)]}i(_b,"createServerSocketTransport");le.createServerSocketTransport=_b;function yb(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}i(yb,"isReadableStream");function bb(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}i(bb,"isWritableStream");function vb(t,e,n,r){n||(n=st.NullLogger);let s=yb(t)?new Io(t):t,u=bb(e)?new Po(e):e;return st.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,st.createMessageConnection)(s,u,n,r)}i(vb,"createMessageConnection");le.createMessageConnection=vb});var dc=Z((sI,ym)=>{"use strict";ym.exports=In()});var Co=Z((bm,Mo)=>{(function(t){if(typeof Mo=="object"&&typeof Mo.exports=="object"){var e=t(require,bm);e!==void 0&&(Mo.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(f){function b(v){return typeof v=="string"}i(b,"is"),f.is=b})(n||(e.DocumentUri=n={}));var r;(function(f){function b(v){return typeof v=="string"}i(b,"is"),f.is=b})(r||(e.URI=r={}));var s;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function b(v){return typeof v=="number"&&f.MIN_VALUE<=v&&v<=f.MAX_VALUE}i(b,"is"),f.is=b})(s||(e.integer=s={}));var u;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function b(v){return typeof v=="number"&&f.MIN_VALUE<=v&&v<=f.MAX_VALUE}i(b,"is"),f.is=b})(u||(e.uinteger=u={}));var o;(function(f){function b(p,d){return p===Number.MAX_VALUE&&(p=u.MAX_VALUE),d===Number.MAX_VALUE&&(d=u.MAX_VALUE),{line:p,character:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&E.uinteger(d.line)&&E.uinteger(d.character)}i(v,"is"),f.is=v})(o||(e.Position=o={}));var a;(function(f){function b(p,d,S,N){if(E.uinteger(p)&&E.uinteger(d)&&E.uinteger(S)&&E.uinteger(N))return{start:o.create(p,d),end:o.create(S,N)};if(o.is(p)&&o.is(d))return{start:p,end:d};throw new Error("Range#create called with invalid arguments[".concat(p,", ").concat(d,", ").concat(S,", ").concat(N,"]"))}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&o.is(d.start)&&o.is(d.end)}i(v,"is"),f.is=v})(a||(e.Range=a={}));var l;(function(f){function b(p,d){return{uri:p,range:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&a.is(d.range)&&(E.string(d.uri)||E.undefined(d.uri))}i(v,"is"),f.is=v})(l||(e.Location=l={}));var c;(function(f){function b(p,d,S,N){return{targetUri:p,targetRange:d,targetSelectionRange:S,originSelectionRange:N}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&a.is(d.targetRange)&&E.string(d.targetUri)&&a.is(d.targetSelectionRange)&&(a.is(d.originSelectionRange)||E.undefined(d.originSelectionRange))}i(v,"is"),f.is=v})(c||(e.LocationLink=c={}));var m;(function(f){function b(p,d,S,N){return{red:p,green:d,blue:S,alpha:N}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&E.numberRange(d.red,0,1)&&E.numberRange(d.green,0,1)&&E.numberRange(d.blue,0,1)&&E.numberRange(d.alpha,0,1)}i(v,"is"),f.is=v})(m||(e.Color=m={}));var g;(function(f){function b(p,d){return{range:p,color:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&a.is(d.range)&&m.is(d.color)}i(v,"is"),f.is=v})(g||(e.ColorInformation=g={}));var _;(function(f){function b(p,d,S){return{label:p,textEdit:d,additionalTextEdits:S}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&E.string(d.label)&&(E.undefined(d.textEdit)||W.is(d))&&(E.undefined(d.additionalTextEdits)||E.typedArray(d.additionalTextEdits,W.is))}i(v,"is"),f.is=v})(_||(e.ColorPresentation=_={}));var w;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(w||(e.FoldingRangeKind=w={}));var x;(function(f){function b(p,d,S,N,ie,Pe){var _e={startLine:p,endLine:d};return E.defined(S)&&(_e.startCharacter=S),E.defined(N)&&(_e.endCharacter=N),E.defined(ie)&&(_e.kind=ie),E.defined(Pe)&&(_e.collapsedText=Pe),_e}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&E.uinteger(d.startLine)&&E.uinteger(d.startLine)&&(E.undefined(d.startCharacter)||E.uinteger(d.startCharacter))&&(E.undefined(d.endCharacter)||E.uinteger(d.endCharacter))&&(E.undefined(d.kind)||E.string(d.kind))}i(v,"is"),f.is=v})(x||(e.FoldingRange=x={}));var T;(function(f){function b(p,d){return{location:p,message:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&l.is(d.location)&&E.string(d.message)}i(v,"is"),f.is=v})(T||(e.DiagnosticRelatedInformation=T={}));var O;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(O||(e.DiagnosticSeverity=O={}));var R;(function(f){f.Unnecessary=1,f.Deprecated=2})(R||(e.DiagnosticTag=R={}));var H;(function(f){function b(v){var p=v;return E.objectLiteral(p)&&E.string(p.href)}i(b,"is"),f.is=b})(H||(e.CodeDescription=H={}));var q;(function(f){function b(p,d,S,N,ie,Pe){var _e={range:p,message:d};return E.defined(S)&&(_e.severity=S),E.defined(N)&&(_e.code=N),E.defined(ie)&&(_e.source=ie),E.defined(Pe)&&(_e.relatedInformation=Pe),_e}i(b,"create"),f.create=b;function v(p){var d,S=p;return E.defined(S)&&a.is(S.range)&&E.string(S.message)&&(E.number(S.severity)||E.undefined(S.severity))&&(E.integer(S.code)||E.string(S.code)||E.undefined(S.code))&&(E.undefined(S.codeDescription)||E.string((d=S.codeDescription)===null||d===void 0?void 0:d.href))&&(E.string(S.source)||E.undefined(S.source))&&(E.undefined(S.relatedInformation)||E.typedArray(S.relatedInformation,T.is))}i(v,"is"),f.is=v})(q||(e.Diagnostic=q={}));var Q;(function(f){function b(p,d){for(var S=[],N=2;N<arguments.length;N++)S[N-2]=arguments[N];var ie={title:p,command:d};return E.defined(S)&&S.length>0&&(ie.arguments=S),ie}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.string(d.title)&&E.string(d.command)}i(v,"is"),f.is=v})(Q||(e.Command=Q={}));var W;(function(f){function b(S,N){return{range:S,newText:N}}i(b,"replace"),f.replace=b;function v(S,N){return{range:{start:S,end:S},newText:N}}i(v,"insert"),f.insert=v;function p(S){return{range:S,newText:""}}i(p,"del"),f.del=p;function d(S){var N=S;return E.objectLiteral(N)&&E.string(N.newText)&&a.is(N.range)}i(d,"is"),f.is=d})(W||(e.TextEdit=W={}));var Y;(function(f){function b(p,d,S){var N={label:p};return d!==void 0&&(N.needsConfirmation=d),S!==void 0&&(N.description=S),N}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&E.string(d.label)&&(E.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(E.string(d.description)||d.description===void 0)}i(v,"is"),f.is=v})(Y||(e.ChangeAnnotation=Y={}));var X;(function(f){function b(v){var p=v;return E.string(p)}i(b,"is"),f.is=b})(X||(e.ChangeAnnotationIdentifier=X={}));var D;(function(f){function b(S,N,ie){return{range:S,newText:N,annotationId:ie}}i(b,"replace"),f.replace=b;function v(S,N,ie){return{range:{start:S,end:S},newText:N,annotationId:ie}}i(v,"insert"),f.insert=v;function p(S,N){return{range:S,newText:"",annotationId:N}}i(p,"del"),f.del=p;function d(S){var N=S;return W.is(N)&&(Y.is(N.annotationId)||X.is(N.annotationId))}i(d,"is"),f.is=d})(D||(e.AnnotatedTextEdit=D={}));var te;(function(f){function b(p,d){return{textDocument:p,edits:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&A.is(d.textDocument)&&Array.isArray(d.edits)}i(v,"is"),f.is=v})(te||(e.TextDocumentEdit=te={}));var Le;(function(f){function b(p,d,S){var N={kind:"create",uri:p};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(N.options=d),S!==void 0&&(N.annotationId=S),N}i(b,"create"),f.create=b;function v(p){var d=p;return d&&d.kind==="create"&&E.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||E.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||E.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||X.is(d.annotationId))}i(v,"is"),f.is=v})(Le||(e.CreateFile=Le={}));var je;(function(f){function b(p,d,S,N){var ie={kind:"rename",oldUri:p,newUri:d};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(ie.options=S),N!==void 0&&(ie.annotationId=N),ie}i(b,"create"),f.create=b;function v(p){var d=p;return d&&d.kind==="rename"&&E.string(d.oldUri)&&E.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||E.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||E.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||X.is(d.annotationId))}i(v,"is"),f.is=v})(je||(e.RenameFile=je={}));var we;(function(f){function b(p,d,S){var N={kind:"delete",uri:p};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(N.options=d),S!==void 0&&(N.annotationId=S),N}i(b,"create"),f.create=b;function v(p){var d=p;return d&&d.kind==="delete"&&E.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||E.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||E.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||X.is(d.annotationId))}i(v,"is"),f.is=v})(we||(e.DeleteFile=we={}));var j;(function(f){function b(v){var p=v;return p&&(p.changes!==void 0||p.documentChanges!==void 0)&&(p.documentChanges===void 0||p.documentChanges.every(function(d){return E.string(d.kind)?Le.is(d)||je.is(d)||we.is(d):te.is(d)}))}i(b,"is"),f.is=b})(j||(e.WorkspaceEdit=j={}));var I=function(){function f(b,v){this.edits=b,this.changeAnnotations=v}return i(f,"TextEditChangeImpl"),f.prototype.insert=function(b,v,p){var d,S;if(p===void 0?d=W.insert(b,v):X.is(p)?(S=p,d=D.insert(b,v,p)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(p),d=D.insert(b,v,S)),this.edits.push(d),S!==void 0)return S},f.prototype.replace=function(b,v,p){var d,S;if(p===void 0?d=W.replace(b,v):X.is(p)?(S=p,d=D.replace(b,v,p)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(p),d=D.replace(b,v,S)),this.edits.push(d),S!==void 0)return S},f.prototype.delete=function(b,v){var p,d;if(v===void 0?p=W.del(b):X.is(v)?(d=v,p=D.del(b,v)):(this.assertChangeAnnotations(this.changeAnnotations),d=this.changeAnnotations.manage(v),p=D.del(b,d)),this.edits.push(p),d!==void 0)return d},f.prototype.add=function(b){this.edits.push(b)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(b){if(b===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),F=function(){function f(b){this._annotations=b===void 0?Object.create(null):b,this._counter=0,this._size=0}return i(f,"ChangeAnnotations"),f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:i(function(){return this._size},"get"),enumerable:!1,configurable:!0}),f.prototype.manage=function(b,v){var p;if(X.is(b)?p=b:(p=this.nextId(),v=b),this._annotations[p]!==void 0)throw new Error("Id ".concat(p," is already in use."));if(v===void 0)throw new Error("No annotation provided for id ".concat(p));return this._annotations[p]=v,this._size++,p},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),V=function(){function f(b){var v=this;this._textEditChanges=Object.create(null),b!==void 0?(this._workspaceEdit=b,b.documentChanges?(this._changeAnnotations=new F(b.changeAnnotations),b.changeAnnotations=this._changeAnnotations.all(),b.documentChanges.forEach(function(p){if(te.is(p)){var d=new I(p.edits,v._changeAnnotations);v._textEditChanges[p.textDocument.uri]=d}})):b.changes&&Object.keys(b.changes).forEach(function(p){var d=new I(b.changes[p]);v._textEditChanges[p]=d})):this._workspaceEdit={}}return i(f,"WorkspaceChange"),Object.defineProperty(f.prototype,"edit",{get:i(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(b){if(A.is(b)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v={uri:b.uri,version:b.version},p=this._textEditChanges[v.uri];if(!p){var d=[],S={textDocument:v,edits:d};this._workspaceEdit.documentChanges.push(S),p=new I(d,this._changeAnnotations),this._textEditChanges[v.uri]=p}return p}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var p=this._textEditChanges[b];if(!p){var d=[];this._workspaceEdit.changes[b]=d,p=new I(d),this._textEditChanges[b]=p}return p}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new F,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(b,v,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;Y.is(v)||X.is(v)?d=v:p=v;var S,N;if(d===void 0?S=Le.create(b,p):(N=X.is(d)?d:this._changeAnnotations.manage(d),S=Le.create(b,p,N)),this._workspaceEdit.documentChanges.push(S),N!==void 0)return N},f.prototype.renameFile=function(b,v,p,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;Y.is(p)||X.is(p)?S=p:d=p;var N,ie;if(S===void 0?N=je.create(b,v,d):(ie=X.is(S)?S:this._changeAnnotations.manage(S),N=je.create(b,v,d,ie)),this._workspaceEdit.documentChanges.push(N),ie!==void 0)return ie},f.prototype.deleteFile=function(b,v,p){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;Y.is(v)||X.is(v)?d=v:p=v;var S,N;if(d===void 0?S=we.create(b,p):(N=X.is(d)?d:this._changeAnnotations.manage(d),S=we.create(b,p,N)),this._workspaceEdit.documentChanges.push(S),N!==void 0)return N},f}();e.WorkspaceChange=V;var k;(function(f){function b(p){return{uri:p}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.string(d.uri)}i(v,"is"),f.is=v})(k||(e.TextDocumentIdentifier=k={}));var M;(function(f){function b(p,d){return{uri:p,version:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.string(d.uri)&&E.integer(d.version)}i(v,"is"),f.is=v})(M||(e.VersionedTextDocumentIdentifier=M={}));var A;(function(f){function b(p,d){return{uri:p,version:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.string(d.uri)&&(d.version===null||E.integer(d.version))}i(v,"is"),f.is=v})(A||(e.OptionalVersionedTextDocumentIdentifier=A={}));var B;(function(f){function b(p,d,S,N){return{uri:p,languageId:d,version:S,text:N}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.string(d.uri)&&E.string(d.languageId)&&E.integer(d.version)&&E.string(d.text)}i(v,"is"),f.is=v})(B||(e.TextDocumentItem=B={}));var G;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function b(v){var p=v;return p===f.PlainText||p===f.Markdown}i(b,"is"),f.is=b})(G||(e.MarkupKind=G={}));var $;(function(f){function b(v){var p=v;return E.objectLiteral(v)&&G.is(p.kind)&&E.string(p.value)}i(b,"is"),f.is=b})($||(e.MarkupContent=$={}));var ne;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(ne||(e.CompletionItemKind=ne={}));var se;(function(f){f.PlainText=1,f.Snippet=2})(se||(e.InsertTextFormat=se={}));var Ie;(function(f){f.Deprecated=1})(Ie||(e.CompletionItemTag=Ie={}));var fe;(function(f){function b(p,d,S){return{newText:p,insert:d,replace:S}}i(b,"create"),f.create=b;function v(p){var d=p;return d&&E.string(d.newText)&&a.is(d.insert)&&a.is(d.replace)}i(v,"is"),f.is=v})(fe||(e.InsertReplaceEdit=fe={}));var nt;(function(f){f.asIs=1,f.adjustIndentation=2})(nt||(e.InsertTextMode=nt={}));var xt;(function(f){function b(v){var p=v;return p&&(E.string(p.detail)||p.detail===void 0)&&(E.string(p.description)||p.description===void 0)}i(b,"is"),f.is=b})(xt||(e.CompletionItemLabelDetails=xt={}));var ri;(function(f){function b(v){return{label:v}}i(b,"create"),f.create=b})(ri||(e.CompletionItem=ri={}));var ii;(function(f){function b(v,p){return{items:v||[],isIncomplete:!!p}}i(b,"create"),f.create=b})(ii||(e.CompletionList=ii={}));var Mn;(function(f){function b(p){return p.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}i(b,"fromPlainText"),f.fromPlainText=b;function v(p){var d=p;return E.string(d)||E.objectLiteral(d)&&E.string(d.language)&&E.string(d.value)}i(v,"is"),f.is=v})(Mn||(e.MarkedString=Mn={}));var gt;(function(f){function b(v){var p=v;return!!p&&E.objectLiteral(p)&&($.is(p.contents)||Mn.is(p.contents)||E.typedArray(p.contents,Mn.is))&&(v.range===void 0||a.is(v.range))}i(b,"is"),f.is=b})(gt||(e.Hover=gt={}));var oi;(function(f){function b(v,p){return p?{label:v,documentation:p}:{label:v}}i(b,"create"),f.create=b})(oi||(e.ParameterInformation=oi={}));var si;(function(f){function b(v,p){for(var d=[],S=2;S<arguments.length;S++)d[S-2]=arguments[S];var N={label:v};return E.defined(p)&&(N.documentation=p),E.defined(d)?N.parameters=d:N.parameters=[],N}i(b,"create"),f.create=b})(si||(e.SignatureInformation=si={}));var un;(function(f){f.Text=1,f.Read=2,f.Write=3})(un||(e.DocumentHighlightKind=un={}));var ai;(function(f){function b(v,p){var d={range:v};return E.number(p)&&(d.kind=p),d}i(b,"create"),f.create=b})(ai||(e.DocumentHighlight=ai={}));var Cn;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(Cn||(e.SymbolKind=Cn={}));var ui;(function(f){f.Deprecated=1})(ui||(e.SymbolTag=ui={}));var Nt;(function(f){function b(v,p,d,S,N){var ie={name:v,kind:p,location:{uri:S,range:d}};return N&&(ie.containerName=N),ie}i(b,"create"),f.create=b})(Nt||(e.SymbolInformation=Nt={}));var $t;(function(f){function b(v,p,d,S){return S!==void 0?{name:v,kind:p,location:{uri:d,range:S}}:{name:v,kind:p,location:{uri:d}}}i(b,"create"),f.create=b})($t||(e.WorkspaceSymbol=$t={}));var li;(function(f){function b(p,d,S,N,ie,Pe){var _e={name:p,detail:d,kind:S,range:N,selectionRange:ie};return Pe!==void 0&&(_e.children=Pe),_e}i(b,"create"),f.create=b;function v(p){var d=p;return d&&E.string(d.name)&&E.number(d.kind)&&a.is(d.range)&&a.is(d.selectionRange)&&(d.detail===void 0||E.string(d.detail))&&(d.deprecated===void 0||E.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}i(v,"is"),f.is=v})(li||(e.DocumentSymbol=li={}));var ci;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(ci||(e.CodeActionKind=ci={}));var Tt;(function(f){f.Invoked=1,f.Automatic=2})(Tt||(e.CodeActionTriggerKind=Tt={}));var yr;(function(f){function b(p,d,S){var N={diagnostics:p};return d!=null&&(N.only=d),S!=null&&(N.triggerKind=S),N}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.typedArray(d.diagnostics,q.is)&&(d.only===void 0||E.typedArray(d.only,E.string))&&(d.triggerKind===void 0||d.triggerKind===Tt.Invoked||d.triggerKind===Tt.Automatic)}i(v,"is"),f.is=v})(yr||(e.CodeActionContext=yr={}));var br;(function(f){function b(p,d,S){var N={title:p},ie=!0;return typeof d=="string"?(ie=!1,N.kind=d):Q.is(d)?N.command=d:N.edit=d,ie&&S!==void 0&&(N.kind=S),N}i(b,"create"),f.create=b;function v(p){var d=p;return d&&E.string(d.title)&&(d.diagnostics===void 0||E.typedArray(d.diagnostics,q.is))&&(d.kind===void 0||E.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||Q.is(d.command))&&(d.isPreferred===void 0||E.boolean(d.isPreferred))&&(d.edit===void 0||j.is(d.edit))}i(v,"is"),f.is=v})(br||(e.CodeAction=br={}));var Ln;(function(f){function b(p,d){var S={range:p};return E.defined(d)&&(S.data=d),S}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&a.is(d.range)&&(E.undefined(d.command)||Q.is(d.command))}i(v,"is"),f.is=v})(Ln||(e.CodeLens=Ln={}));var vr;(function(f){function b(p,d){return{tabSize:p,insertSpaces:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&E.uinteger(d.tabSize)&&E.boolean(d.insertSpaces)}i(v,"is"),f.is=v})(vr||(e.FormattingOptions=vr={}));var At;(function(f){function b(p,d,S){return{range:p,target:d,data:S}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&a.is(d.range)&&(E.undefined(d.target)||E.string(d.target))}i(v,"is"),f.is=v})(At||(e.DocumentLink=At={}));var y;(function(f){function b(p,d){return{range:p,parent:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&a.is(d.range)&&(d.parent===void 0||f.is(d.parent))}i(v,"is"),f.is=v})(y||(e.SelectionRange=y={}));var L;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(L||(e.SemanticTokenTypes=L={}));var z;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})(z||(e.SemanticTokenModifiers=z={}));var J;(function(f){function b(v){var p=v;return E.objectLiteral(p)&&(p.resultId===void 0||typeof p.resultId=="string")&&Array.isArray(p.data)&&(p.data.length===0||typeof p.data[0]=="number")}i(b,"is"),f.is=b})(J||(e.SemanticTokens=J={}));var he;(function(f){function b(p,d){return{range:p,text:d}}i(b,"create"),f.create=b;function v(p){var d=p;return d!=null&&a.is(d.range)&&E.string(d.text)}i(v,"is"),f.is=v})(he||(e.InlineValueText=he={}));var me;(function(f){function b(p,d,S){return{range:p,variableName:d,caseSensitiveLookup:S}}i(b,"create"),f.create=b;function v(p){var d=p;return d!=null&&a.is(d.range)&&E.boolean(d.caseSensitiveLookup)&&(E.string(d.variableName)||d.variableName===void 0)}i(v,"is"),f.is=v})(me||(e.InlineValueVariableLookup=me={}));var pe;(function(f){function b(p,d){return{range:p,expression:d}}i(b,"create"),f.create=b;function v(p){var d=p;return d!=null&&a.is(d.range)&&(E.string(d.expression)||d.expression===void 0)}i(v,"is"),f.is=v})(pe||(e.InlineValueEvaluatableExpression=pe={}));var Se;(function(f){function b(p,d){return{frameId:p,stoppedLocation:d}}i(b,"create"),f.create=b;function v(p){var d=p;return E.defined(d)&&a.is(p.stoppedLocation)}i(v,"is"),f.is=v})(Se||(e.InlineValueContext=Se={}));var Me;(function(f){f.Type=1,f.Parameter=2;function b(v){return v===1||v===2}i(b,"is"),f.is=b})(Me||(e.InlayHintKind=Me={}));var ce;(function(f){function b(p){return{value:p}}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&(d.tooltip===void 0||E.string(d.tooltip)||$.is(d.tooltip))&&(d.location===void 0||l.is(d.location))&&(d.command===void 0||Q.is(d.command))}i(v,"is"),f.is=v})(ce||(e.InlayHintLabelPart=ce={}));var Ee;(function(f){function b(p,d,S){var N={position:p,label:d};return S!==void 0&&(N.kind=S),N}i(b,"create"),f.create=b;function v(p){var d=p;return E.objectLiteral(d)&&o.is(d.position)&&(E.string(d.label)||E.typedArray(d.label,ce.is))&&(d.kind===void 0||Me.is(d.kind))&&d.textEdits===void 0||E.typedArray(d.textEdits,W.is)&&(d.tooltip===void 0||E.string(d.tooltip)||$.is(d.tooltip))&&(d.paddingLeft===void 0||E.boolean(d.paddingLeft))&&(d.paddingRight===void 0||E.boolean(d.paddingRight))}i(v,"is"),f.is=v})(Ee||(e.InlayHint=Ee={}));var ge;(function(f){function b(v){return{kind:"snippet",value:v}}i(b,"createSnippet"),f.createSnippet=b})(ge||(e.StringValue=ge={}));var xe;(function(f){function b(v,p,d,S){return{insertText:v,filterText:p,range:d,command:S}}i(b,"create"),f.create=b})(xe||(e.InlineCompletionItem=xe={}));var Ce;(function(f){function b(v){return{items:v}}i(b,"create"),f.create=b})(Ce||(e.InlineCompletionList=Ce={}));var di;(function(f){f.Invoked=0,f.Automatic=1})(di||(e.InlineCompletionTriggerKind=di={}));var Oc;(function(f){function b(v,p){return{range:v,text:p}}i(b,"create"),f.create=b})(Oc||(e.SelectedCompletionInfo=Oc={}));var Dc;(function(f){function b(v,p){return{triggerKind:v,selectedCompletionInfo:p}}i(b,"create"),f.create=b})(Dc||(e.InlineCompletionContext=Dc={}));var Fc;(function(f){function b(v){var p=v;return E.objectLiteral(p)&&r.is(p.uri)&&E.string(p.name)}i(b,"is"),f.is=b})(Fc||(e.WorkspaceFolder=Fc={})),e.EOL=[`
`,`\r
`,"\r"];var jc;(function(f){function b(S,N,ie,Pe){return new vh(S,N,ie,Pe)}i(b,"create"),f.create=b;function v(S){var N=S;return!!(E.defined(N)&&E.string(N.uri)&&(E.undefined(N.languageId)||E.string(N.languageId))&&E.uinteger(N.lineCount)&&E.func(N.getText)&&E.func(N.positionAt)&&E.func(N.offsetAt))}i(v,"is"),f.is=v;function p(S,N){for(var ie=S.getText(),Pe=d(N,function(Nn,fi){var qc=Nn.range.start.line-fi.range.start.line;return qc===0?Nn.range.start.character-fi.range.start.character:qc}),_e=ie.length,ht=Pe.length-1;ht>=0;ht--){var _t=Pe[ht],Ot=S.offsetAt(_t.range.start),ue=S.offsetAt(_t.range.end);if(ue<=_e)ie=ie.substring(0,Ot)+_t.newText+ie.substring(ue,ie.length);else throw new Error("Overlapping edit");_e=Ot}return ie}i(p,"applyEdits"),f.applyEdits=p;function d(S,N){if(S.length<=1)return S;var ie=S.length/2|0,Pe=S.slice(0,ie),_e=S.slice(ie);d(Pe,N),d(_e,N);for(var ht=0,_t=0,Ot=0;ht<Pe.length&&_t<_e.length;){var ue=N(Pe[ht],_e[_t]);ue<=0?S[Ot++]=Pe[ht++]:S[Ot++]=_e[_t++]}for(;ht<Pe.length;)S[Ot++]=Pe[ht++];for(;_t<_e.length;)S[Ot++]=_e[_t++];return S}i(d,"mergeSort")})(jc||(e.TextDocument=jc={}));var vh=function(){function f(b,v,p,d){this._uri=b,this._languageId=v,this._version=p,this._content=d,this._lineOffsets=void 0}return i(f,"FullTextDocument"),Object.defineProperty(f.prototype,"uri",{get:i(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:i(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:i(function(){return this._version},"get"),enumerable:!1,configurable:!0}),f.prototype.getText=function(b){if(b){var v=this.offsetAt(b.start),p=this.offsetAt(b.end);return this._content.substring(v,p)}return this._content},f.prototype.update=function(b,v){this._content=b.text,this._version=v,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var b=[],v=this._content,p=!0,d=0;d<v.length;d++){p&&(b.push(d),p=!1);var S=v.charAt(d);p=S==="\r"||S===`
`,S==="\r"&&d+1<v.length&&v.charAt(d+1)===`
`&&d++}p&&v.length>0&&b.push(v.length),this._lineOffsets=b}return this._lineOffsets},f.prototype.positionAt=function(b){b=Math.max(Math.min(b,this._content.length),0);var v=this.getLineOffsets(),p=0,d=v.length;if(d===0)return o.create(0,b);for(;p<d;){var S=Math.floor((p+d)/2);v[S]>b?d=S:p=S+1}var N=p-1;return o.create(N,b-v[N])},f.prototype.offsetAt=function(b){var v=this.getLineOffsets();if(b.line>=v.length)return this._content.length;if(b.line<0)return 0;var p=v[b.line],d=b.line+1<v.length?v[b.line+1]:this._content.length;return Math.max(Math.min(p+b.character,d),p)},Object.defineProperty(f.prototype,"lineCount",{get:i(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),f}(),E;(function(f){var b=Object.prototype.toString;function v(ue){return typeof ue<"u"}i(v,"defined"),f.defined=v;function p(ue){return typeof ue>"u"}i(p,"undefined"),f.undefined=p;function d(ue){return ue===!0||ue===!1}i(d,"boolean"),f.boolean=d;function S(ue){return b.call(ue)==="[object String]"}i(S,"string"),f.string=S;function N(ue){return b.call(ue)==="[object Number]"}i(N,"number"),f.number=N;function ie(ue,Nn,fi){return b.call(ue)==="[object Number]"&&Nn<=ue&&ue<=fi}i(ie,"numberRange"),f.numberRange=ie;function Pe(ue){return b.call(ue)==="[object Number]"&&-2147483648<=ue&&ue<=2147483647}i(Pe,"integer"),f.integer=Pe;function _e(ue){return b.call(ue)==="[object Number]"&&0<=ue&&ue<=2147483647}i(_e,"uinteger"),f.uinteger=_e;function ht(ue){return b.call(ue)==="[object Function]"}i(ht,"func"),f.func=ht;function _t(ue){return ue!==null&&typeof ue=="object"}i(_t,"objectLiteral"),f.objectLiteral=_t;function Ot(ue,Nn){return Array.isArray(ue)&&ue.every(Nn)}i(Ot,"typedArray"),f.typedArray=Ot})(E||(E={}))})});var Te=Z(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.ProtocolNotificationType=Ye.ProtocolNotificationType0=Ye.ProtocolRequestType=Ye.ProtocolRequestType0=Ye.RegistrationType=Ye.MessageDirection=void 0;var sr=In(),vm;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(vm||(Ye.MessageDirection=vm={}));var _c=class _c{constructor(e){this.method=e}};i(_c,"RegistrationType");var fc=_c;Ye.RegistrationType=fc;var yc=class yc extends sr.RequestType0{constructor(e){super(e)}};i(yc,"ProtocolRequestType0");var mc=yc;Ye.ProtocolRequestType0=mc;var bc=class bc extends sr.RequestType{constructor(e){super(e,sr.ParameterStructures.byName)}};i(bc,"ProtocolRequestType");var pc=bc;Ye.ProtocolRequestType=pc;var vc=class vc extends sr.NotificationType0{constructor(e){super(e)}};i(vc,"ProtocolNotificationType0");var gc=vc;Ye.ProtocolNotificationType0=gc;var wc=class wc extends sr.NotificationType{constructor(e){super(e,sr.ParameterStructures.byName)}};i(wc,"ProtocolNotificationType");var hc=wc;Ye.ProtocolNotificationType=hc});var Lo=Z(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.objectLiteral=Fe.typedArray=Fe.stringArray=Fe.array=Fe.func=Fe.error=Fe.number=Fe.string=Fe.boolean=void 0;function wb(t){return t===!0||t===!1}i(wb,"boolean");Fe.boolean=wb;function wm(t){return typeof t=="string"||t instanceof String}i(wm,"string");Fe.string=wm;function Sb(t){return typeof t=="number"||t instanceof Number}i(Sb,"number");Fe.number=Sb;function Eb(t){return t instanceof Error}i(Eb,"error");Fe.error=Eb;function xb(t){return typeof t=="function"}i(xb,"func");Fe.func=xb;function Sm(t){return Array.isArray(t)}i(Sm,"array");Fe.array=Sm;function Tb(t){return Sm(t)&&t.every(e=>wm(e))}i(Tb,"stringArray");Fe.stringArray=Tb;function kb(t,e){return Array.isArray(t)&&t.every(e)}i(kb,"typedArray");Fe.typedArray=kb;function Ib(t){return t!==null&&typeof t=="object"}i(Ib,"objectLiteral");Fe.objectLiteral=Ib});var Tm=Z(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.ImplementationRequest=void 0;var Em=Te(),xm;(function(t){t.method="textDocument/implementation",t.messageDirection=Em.MessageDirection.clientToServer,t.type=new Em.ProtocolRequestType(t.method)})(xm||(No.ImplementationRequest=xm={}))});var Pm=Z(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.TypeDefinitionRequest=void 0;var km=Te(),Im;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=km.MessageDirection.clientToServer,t.type=new km.ProtocolRequestType(t.method)})(Im||(Ao.TypeDefinitionRequest=Im={}))});var Cm=Z(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.DidChangeWorkspaceFoldersNotification=ar.WorkspaceFoldersRequest=void 0;var Oo=Te(),Rm;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Oo.MessageDirection.serverToClient,t.type=new Oo.ProtocolRequestType0(t.method)})(Rm||(ar.WorkspaceFoldersRequest=Rm={}));var Mm;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Oo.MessageDirection.clientToServer,t.type=new Oo.ProtocolNotificationType(t.method)})(Mm||(ar.DidChangeWorkspaceFoldersNotification=Mm={}))});var Am=Z(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.ConfigurationRequest=void 0;var Lm=Te(),Nm;(function(t){t.method="workspace/configuration",t.messageDirection=Lm.MessageDirection.serverToClient,t.type=new Lm.ProtocolRequestType(t.method)})(Nm||(Do.ConfigurationRequest=Nm={}))});var Fm=Z(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.ColorPresentationRequest=ur.DocumentColorRequest=void 0;var Fo=Te(),Om;(function(t){t.method="textDocument/documentColor",t.messageDirection=Fo.MessageDirection.clientToServer,t.type=new Fo.ProtocolRequestType(t.method)})(Om||(ur.DocumentColorRequest=Om={}));var Dm;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Fo.MessageDirection.clientToServer,t.type=new Fo.ProtocolRequestType(t.method)})(Dm||(ur.ColorPresentationRequest=Dm={}))});var Um=Z(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.FoldingRangeRefreshRequest=lr.FoldingRangeRequest=void 0;var jo=Te(),jm;(function(t){t.method="textDocument/foldingRange",t.messageDirection=jo.MessageDirection.clientToServer,t.type=new jo.ProtocolRequestType(t.method)})(jm||(lr.FoldingRangeRequest=jm={}));var qm;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=jo.MessageDirection.serverToClient,t.type=new jo.ProtocolRequestType0(t.method)})(qm||(lr.FoldingRangeRefreshRequest=qm={}))});var zm=Z(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DeclarationRequest=void 0;var Wm=Te(),Bm;(function(t){t.method="textDocument/declaration",t.messageDirection=Wm.MessageDirection.clientToServer,t.type=new Wm.ProtocolRequestType(t.method)})(Bm||(qo.DeclarationRequest=Bm={}))});var Hm=Z(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.SelectionRangeRequest=void 0;var $m=Te(),Vm;(function(t){t.method="textDocument/selectionRange",t.messageDirection=$m.MessageDirection.clientToServer,t.type=new $m.ProtocolRequestType(t.method)})(Vm||(Uo.SelectionRangeRequest=Vm={}))});var Jm=Z(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.WorkDoneProgressCancelNotification=nn.WorkDoneProgressCreateRequest=nn.WorkDoneProgress=void 0;var Pb=In(),Wo=Te(),Gm;(function(t){t.type=new Pb.ProgressType;function e(n){return n===t.type}i(e,"is"),t.is=e})(Gm||(nn.WorkDoneProgress=Gm={}));var Zm;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Wo.MessageDirection.serverToClient,t.type=new Wo.ProtocolRequestType(t.method)})(Zm||(nn.WorkDoneProgressCreateRequest=Zm={}));var Qm;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Wo.MessageDirection.clientToServer,t.type=new Wo.ProtocolNotificationType(t.method)})(Qm||(nn.WorkDoneProgressCancelNotification=Qm={}))});var ep=Z(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.CallHierarchyOutgoingCallsRequest=rn.CallHierarchyIncomingCallsRequest=rn.CallHierarchyPrepareRequest=void 0;var cr=Te(),Km;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=cr.MessageDirection.clientToServer,t.type=new cr.ProtocolRequestType(t.method)})(Km||(rn.CallHierarchyPrepareRequest=Km={}));var Xm;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=cr.MessageDirection.clientToServer,t.type=new cr.ProtocolRequestType(t.method)})(Xm||(rn.CallHierarchyIncomingCallsRequest=Xm={}));var Ym;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=cr.MessageDirection.clientToServer,t.type=new cr.ProtocolRequestType(t.method)})(Ym||(rn.CallHierarchyOutgoingCallsRequest=Ym={}))});var sp=Z(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.SemanticTokensRefreshRequest=et.SemanticTokensRangeRequest=et.SemanticTokensDeltaRequest=et.SemanticTokensRequest=et.SemanticTokensRegistrationType=et.TokenFormat=void 0;var zt=Te(),tp;(function(t){t.Relative="relative"})(tp||(et.TokenFormat=tp={}));var ei;(function(t){t.method="textDocument/semanticTokens",t.type=new zt.RegistrationType(t.method)})(ei||(et.SemanticTokensRegistrationType=ei={}));var np;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=zt.MessageDirection.clientToServer,t.type=new zt.ProtocolRequestType(t.method),t.registrationMethod=ei.method})(np||(et.SemanticTokensRequest=np={}));var rp;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=zt.MessageDirection.clientToServer,t.type=new zt.ProtocolRequestType(t.method),t.registrationMethod=ei.method})(rp||(et.SemanticTokensDeltaRequest=rp={}));var ip;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=zt.MessageDirection.clientToServer,t.type=new zt.ProtocolRequestType(t.method),t.registrationMethod=ei.method})(ip||(et.SemanticTokensRangeRequest=ip={}));var op;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=zt.MessageDirection.serverToClient,t.type=new zt.ProtocolRequestType0(t.method)})(op||(et.SemanticTokensRefreshRequest=op={}))});var lp=Z(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.ShowDocumentRequest=void 0;var ap=Te(),up;(function(t){t.method="window/showDocument",t.messageDirection=ap.MessageDirection.serverToClient,t.type=new ap.ProtocolRequestType(t.method)})(up||(Bo.ShowDocumentRequest=up={}))});var fp=Z(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.LinkedEditingRangeRequest=void 0;var cp=Te(),dp;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=cp.MessageDirection.clientToServer,t.type=new cp.ProtocolRequestType(t.method)})(dp||(zo.LinkedEditingRangeRequest=dp={}))});var vp=Z(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.WillDeleteFilesRequest=Ze.DidDeleteFilesNotification=Ze.DidRenameFilesNotification=Ze.WillRenameFilesRequest=Ze.DidCreateFilesNotification=Ze.WillCreateFilesRequest=Ze.FileOperationPatternKind=void 0;var ft=Te(),mp;(function(t){t.file="file",t.folder="folder"})(mp||(Ze.FileOperationPatternKind=mp={}));var pp;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=ft.MessageDirection.clientToServer,t.type=new ft.ProtocolRequestType(t.method)})(pp||(Ze.WillCreateFilesRequest=pp={}));var gp;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=ft.MessageDirection.clientToServer,t.type=new ft.ProtocolNotificationType(t.method)})(gp||(Ze.DidCreateFilesNotification=gp={}));var hp;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=ft.MessageDirection.clientToServer,t.type=new ft.ProtocolRequestType(t.method)})(hp||(Ze.WillRenameFilesRequest=hp={}));var _p;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=ft.MessageDirection.clientToServer,t.type=new ft.ProtocolNotificationType(t.method)})(_p||(Ze.DidRenameFilesNotification=_p={}));var yp;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=ft.MessageDirection.clientToServer,t.type=new ft.ProtocolNotificationType(t.method)})(yp||(Ze.DidDeleteFilesNotification=yp={}));var bp;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=ft.MessageDirection.clientToServer,t.type=new ft.ProtocolRequestType(t.method)})(bp||(Ze.WillDeleteFilesRequest=bp={}))});var Tp=Z(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.MonikerRequest=on.MonikerKind=on.UniquenessLevel=void 0;var wp=Te(),Sp;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Sp||(on.UniquenessLevel=Sp={}));var Ep;(function(t){t.$import="import",t.$export="export",t.local="local"})(Ep||(on.MonikerKind=Ep={}));var xp;(function(t){t.method="textDocument/moniker",t.messageDirection=wp.MessageDirection.clientToServer,t.type=new wp.ProtocolRequestType(t.method)})(xp||(on.MonikerRequest=xp={}))});var Rp=Z(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.TypeHierarchySubtypesRequest=sn.TypeHierarchySupertypesRequest=sn.TypeHierarchyPrepareRequest=void 0;var dr=Te(),kp;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=dr.MessageDirection.clientToServer,t.type=new dr.ProtocolRequestType(t.method)})(kp||(sn.TypeHierarchyPrepareRequest=kp={}));var Ip;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=dr.MessageDirection.clientToServer,t.type=new dr.ProtocolRequestType(t.method)})(Ip||(sn.TypeHierarchySupertypesRequest=Ip={}));var Pp;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=dr.MessageDirection.clientToServer,t.type=new dr.ProtocolRequestType(t.method)})(Pp||(sn.TypeHierarchySubtypesRequest=Pp={}))});var Lp=Z(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.InlineValueRefreshRequest=fr.InlineValueRequest=void 0;var $o=Te(),Mp;(function(t){t.method="textDocument/inlineValue",t.messageDirection=$o.MessageDirection.clientToServer,t.type=new $o.ProtocolRequestType(t.method)})(Mp||(fr.InlineValueRequest=Mp={}));var Cp;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=$o.MessageDirection.serverToClient,t.type=new $o.ProtocolRequestType0(t.method)})(Cp||(fr.InlineValueRefreshRequest=Cp={}))});var Dp=Z(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.InlayHintRefreshRequest=an.InlayHintResolveRequest=an.InlayHintRequest=void 0;var mr=Te(),Np;(function(t){t.method="textDocument/inlayHint",t.messageDirection=mr.MessageDirection.clientToServer,t.type=new mr.ProtocolRequestType(t.method)})(Np||(an.InlayHintRequest=Np={}));var Ap;(function(t){t.method="inlayHint/resolve",t.messageDirection=mr.MessageDirection.clientToServer,t.type=new mr.ProtocolRequestType(t.method)})(Ap||(an.InlayHintResolveRequest=Ap={}));var Op;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=mr.MessageDirection.serverToClient,t.type=new mr.ProtocolRequestType0(t.method)})(Op||(an.InlayHintRefreshRequest=Op={}))});var zp=Z(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.DiagnosticRefreshRequest=mt.WorkspaceDiagnosticRequest=mt.DocumentDiagnosticRequest=mt.DocumentDiagnosticReportKind=mt.DiagnosticServerCancellationData=void 0;var Bp=In(),Rb=Lo(),pr=Te(),Fp;(function(t){function e(n){let r=n;return r&&Rb.boolean(r.retriggerRequest)}i(e,"is"),t.is=e})(Fp||(mt.DiagnosticServerCancellationData=Fp={}));var jp;(function(t){t.Full="full",t.Unchanged="unchanged"})(jp||(mt.DocumentDiagnosticReportKind=jp={}));var qp;(function(t){t.method="textDocument/diagnostic",t.messageDirection=pr.MessageDirection.clientToServer,t.type=new pr.ProtocolRequestType(t.method),t.partialResult=new Bp.ProgressType})(qp||(mt.DocumentDiagnosticRequest=qp={}));var Up;(function(t){t.method="workspace/diagnostic",t.messageDirection=pr.MessageDirection.clientToServer,t.type=new pr.ProtocolRequestType(t.method),t.partialResult=new Bp.ProgressType})(Up||(mt.WorkspaceDiagnosticRequest=Up={}));var Wp;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=pr.MessageDirection.serverToClient,t.type=new pr.ProtocolRequestType0(t.method)})(Wp||(mt.DiagnosticRefreshRequest=Wp={}))});var Jp=Z(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.DidCloseNotebookDocumentNotification=Re.DidSaveNotebookDocumentNotification=Re.DidChangeNotebookDocumentNotification=Re.NotebookCellArrayChange=Re.DidOpenNotebookDocumentNotification=Re.NotebookDocumentSyncRegistrationType=Re.NotebookDocument=Re.NotebookCell=Re.ExecutionSummary=Re.NotebookCellKind=void 0;var ti=Co(),Et=Lo(),Mt=Te(),Sc;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}i(e,"is"),t.is=e})(Sc||(Re.NotebookCellKind=Sc={}));var Ec;(function(t){function e(s,u){let o={executionOrder:s};return(u===!0||u===!1)&&(o.success=u),o}i(e,"create"),t.create=e;function n(s){let u=s;return Et.objectLiteral(u)&&ti.uinteger.is(u.executionOrder)&&(u.success===void 0||Et.boolean(u.success))}i(n,"is"),t.is=n;function r(s,u){return s===u?!0:s==null||u===null||u===void 0?!1:s.executionOrder===u.executionOrder&&s.success===u.success}i(r,"equals"),t.equals=r})(Ec||(Re.ExecutionSummary=Ec={}));var Vo;(function(t){function e(u,o){return{kind:u,document:o}}i(e,"create"),t.create=e;function n(u){let o=u;return Et.objectLiteral(o)&&Sc.is(o.kind)&&ti.DocumentUri.is(o.document)&&(o.metadata===void 0||Et.objectLiteral(o.metadata))}i(n,"is"),t.is=n;function r(u,o){let a=new Set;return u.document!==o.document&&a.add("document"),u.kind!==o.kind&&a.add("kind"),u.executionSummary!==o.executionSummary&&a.add("executionSummary"),(u.metadata!==void 0||o.metadata!==void 0)&&!s(u.metadata,o.metadata)&&a.add("metadata"),(u.executionSummary!==void 0||o.executionSummary!==void 0)&&!Ec.equals(u.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}i(r,"diff"),t.diff=r;function s(u,o){if(u===o)return!0;if(u==null||o===null||o===void 0||typeof u!=typeof o||typeof u!="object")return!1;let a=Array.isArray(u),l=Array.isArray(o);if(a!==l)return!1;if(a&&l){if(u.length!==o.length)return!1;for(let c=0;c<u.length;c++)if(!s(u[c],o[c]))return!1}if(Et.objectLiteral(u)&&Et.objectLiteral(o)){let c=Object.keys(u),m=Object.keys(o);if(c.length!==m.length||(c.sort(),m.sort(),!s(c,m)))return!1;for(let g=0;g<c.length;g++){let _=c[g];if(!s(u[_],o[_]))return!1}}return!0}i(s,"equalsMetadata")})(Vo||(Re.NotebookCell=Vo={}));var $p;(function(t){function e(r,s,u,o){return{uri:r,notebookType:s,version:u,cells:o}}i(e,"create"),t.create=e;function n(r){let s=r;return Et.objectLiteral(s)&&Et.string(s.uri)&&ti.integer.is(s.version)&&Et.typedArray(s.cells,Vo.is)}i(n,"is"),t.is=n})($p||(Re.NotebookDocument=$p={}));var gr;(function(t){t.method="notebookDocument/sync",t.messageDirection=Mt.MessageDirection.clientToServer,t.type=new Mt.RegistrationType(t.method)})(gr||(Re.NotebookDocumentSyncRegistrationType=gr={}));var Vp;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Mt.MessageDirection.clientToServer,t.type=new Mt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Vp||(Re.DidOpenNotebookDocumentNotification=Vp={}));var Hp;(function(t){function e(r){let s=r;return Et.objectLiteral(s)&&ti.uinteger.is(s.start)&&ti.uinteger.is(s.deleteCount)&&(s.cells===void 0||Et.typedArray(s.cells,Vo.is))}i(e,"is"),t.is=e;function n(r,s,u){let o={start:r,deleteCount:s};return u!==void 0&&(o.cells=u),o}i(n,"create"),t.create=n})(Hp||(Re.NotebookCellArrayChange=Hp={}));var Gp;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Mt.MessageDirection.clientToServer,t.type=new Mt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Gp||(Re.DidChangeNotebookDocumentNotification=Gp={}));var Zp;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Mt.MessageDirection.clientToServer,t.type=new Mt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Zp||(Re.DidSaveNotebookDocumentNotification=Zp={}));var Qp;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Mt.MessageDirection.clientToServer,t.type=new Mt.ProtocolNotificationType(t.method),t.registrationMethod=gr.method})(Qp||(Re.DidCloseNotebookDocumentNotification=Qp={}))});var Yp=Z(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.InlineCompletionRequest=void 0;var Kp=Te(),Xp;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Kp.MessageDirection.clientToServer,t.type=new Kp.ProtocolRequestType(t.method)})(Xp||(Ho.InlineCompletionRequest=Xp={}))});var fh=Z(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.RelativePattern=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeErrorCodes=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.PositionEncodingKind=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.NotebookCellTextDocumentFilter=h.NotebookDocumentFilter=h.TextDocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRefreshRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangesFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolResolveRequest=void 0;h.InlineCompletionRequest=h.DidCloseNotebookDocumentNotification=h.DidSaveNotebookDocumentNotification=h.DidChangeNotebookDocumentNotification=h.NotebookCellArrayChange=h.DidOpenNotebookDocumentNotification=h.NotebookDocumentSyncRegistrationType=h.NotebookDocument=h.NotebookCell=h.ExecutionSummary=h.NotebookCellKind=h.DiagnosticRefreshRequest=h.WorkspaceDiagnosticRequest=h.DocumentDiagnosticRequest=h.DocumentDiagnosticReportKind=h.DiagnosticServerCancellationData=h.InlayHintRefreshRequest=h.InlayHintResolveRequest=h.InlayHintRequest=h.InlineValueRefreshRequest=h.InlineValueRequest=h.TypeHierarchySupertypesRequest=h.TypeHierarchySubtypesRequest=h.TypeHierarchyPrepareRequest=void 0;var U=Te(),eg=Co(),qe=Lo(),Mb=Tm();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:i(function(){return Mb.ImplementationRequest},"get")});var Cb=Pm();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:i(function(){return Cb.TypeDefinitionRequest},"get")});var uh=Cm();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:i(function(){return uh.WorkspaceFoldersRequest},"get")});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:i(function(){return uh.DidChangeWorkspaceFoldersNotification},"get")});var Lb=Am();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:i(function(){return Lb.ConfigurationRequest},"get")});var lh=Fm();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:i(function(){return lh.DocumentColorRequest},"get")});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:i(function(){return lh.ColorPresentationRequest},"get")});var ch=Um();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:i(function(){return ch.FoldingRangeRequest},"get")});Object.defineProperty(h,"FoldingRangeRefreshRequest",{enumerable:!0,get:i(function(){return ch.FoldingRangeRefreshRequest},"get")});var Nb=zm();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:i(function(){return Nb.DeclarationRequest},"get")});var Ab=Hm();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:i(function(){return Ab.SelectionRangeRequest},"get")});var Pc=Jm();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:i(function(){return Pc.WorkDoneProgress},"get")});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:i(function(){return Pc.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:i(function(){return Pc.WorkDoneProgressCancelNotification},"get")});var Rc=ep();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:i(function(){return Rc.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:i(function(){return Rc.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:i(function(){return Rc.CallHierarchyPrepareRequest},"get")});var hr=sp();Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:i(function(){return hr.TokenFormat},"get")});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:i(function(){return hr.SemanticTokensRequest},"get")});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:i(function(){return hr.SemanticTokensDeltaRequest},"get")});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:i(function(){return hr.SemanticTokensRangeRequest},"get")});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:i(function(){return hr.SemanticTokensRefreshRequest},"get")});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:i(function(){return hr.SemanticTokensRegistrationType},"get")});var Ob=lp();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:i(function(){return Ob.ShowDocumentRequest},"get")});var Db=fp();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:i(function(){return Db.LinkedEditingRangeRequest},"get")});var Pn=vp();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:i(function(){return Pn.FileOperationPatternKind},"get")});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:i(function(){return Pn.DidCreateFilesNotification},"get")});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:i(function(){return Pn.WillCreateFilesRequest},"get")});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:i(function(){return Pn.DidRenameFilesNotification},"get")});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:i(function(){return Pn.WillRenameFilesRequest},"get")});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:i(function(){return Pn.DidDeleteFilesNotification},"get")});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:i(function(){return Pn.WillDeleteFilesRequest},"get")});var Mc=Tp();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:i(function(){return Mc.UniquenessLevel},"get")});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:i(function(){return Mc.MonikerKind},"get")});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:i(function(){return Mc.MonikerRequest},"get")});var Cc=Rp();Object.defineProperty(h,"TypeHierarchyPrepareRequest",{enumerable:!0,get:i(function(){return Cc.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(h,"TypeHierarchySubtypesRequest",{enumerable:!0,get:i(function(){return Cc.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(h,"TypeHierarchySupertypesRequest",{enumerable:!0,get:i(function(){return Cc.TypeHierarchySupertypesRequest},"get")});var dh=Lp();Object.defineProperty(h,"InlineValueRequest",{enumerable:!0,get:i(function(){return dh.InlineValueRequest},"get")});Object.defineProperty(h,"InlineValueRefreshRequest",{enumerable:!0,get:i(function(){return dh.InlineValueRefreshRequest},"get")});var Lc=Dp();Object.defineProperty(h,"InlayHintRequest",{enumerable:!0,get:i(function(){return Lc.InlayHintRequest},"get")});Object.defineProperty(h,"InlayHintResolveRequest",{enumerable:!0,get:i(function(){return Lc.InlayHintResolveRequest},"get")});Object.defineProperty(h,"InlayHintRefreshRequest",{enumerable:!0,get:i(function(){return Lc.InlayHintRefreshRequest},"get")});var ni=zp();Object.defineProperty(h,"DiagnosticServerCancellationData",{enumerable:!0,get:i(function(){return ni.DiagnosticServerCancellationData},"get")});Object.defineProperty(h,"DocumentDiagnosticReportKind",{enumerable:!0,get:i(function(){return ni.DocumentDiagnosticReportKind},"get")});Object.defineProperty(h,"DocumentDiagnosticRequest",{enumerable:!0,get:i(function(){return ni.DocumentDiagnosticRequest},"get")});Object.defineProperty(h,"WorkspaceDiagnosticRequest",{enumerable:!0,get:i(function(){return ni.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(h,"DiagnosticRefreshRequest",{enumerable:!0,get:i(function(){return ni.DiagnosticRefreshRequest},"get")});var Ct=Jp();Object.defineProperty(h,"NotebookCellKind",{enumerable:!0,get:i(function(){return Ct.NotebookCellKind},"get")});Object.defineProperty(h,"ExecutionSummary",{enumerable:!0,get:i(function(){return Ct.ExecutionSummary},"get")});Object.defineProperty(h,"NotebookCell",{enumerable:!0,get:i(function(){return Ct.NotebookCell},"get")});Object.defineProperty(h,"NotebookDocument",{enumerable:!0,get:i(function(){return Ct.NotebookDocument},"get")});Object.defineProperty(h,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:i(function(){return Ct.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(h,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Ct.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(h,"NotebookCellArrayChange",{enumerable:!0,get:i(function(){return Ct.NotebookCellArrayChange},"get")});Object.defineProperty(h,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Ct.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Ct.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(h,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:i(function(){return Ct.DidCloseNotebookDocumentNotification},"get")});var Fb=Yp();Object.defineProperty(h,"InlineCompletionRequest",{enumerable:!0,get:i(function(){return Fb.InlineCompletionRequest},"get")});var xc;(function(t){function e(n){let r=n;return qe.string(r)||qe.string(r.language)||qe.string(r.scheme)||qe.string(r.pattern)}i(e,"is"),t.is=e})(xc||(h.TextDocumentFilter=xc={}));var Tc;(function(t){function e(n){let r=n;return qe.objectLiteral(r)&&(qe.string(r.notebookType)||qe.string(r.scheme)||qe.string(r.pattern))}i(e,"is"),t.is=e})(Tc||(h.NotebookDocumentFilter=Tc={}));var kc;(function(t){function e(n){let r=n;return qe.objectLiteral(r)&&(qe.string(r.notebook)||Tc.is(r.notebook))&&(r.language===void 0||qe.string(r.language))}i(e,"is"),t.is=e})(kc||(h.NotebookCellTextDocumentFilter=kc={}));var Ic;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!qe.string(r)&&!xc.is(r)&&!kc.is(r))return!1;return!0}i(e,"is"),t.is=e})(Ic||(h.DocumentSelector=Ic={}));var tg;(function(t){t.method="client/registerCapability",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(tg||(h.RegistrationRequest=tg={}));var ng;(function(t){t.method="client/unregisterCapability",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(ng||(h.UnregistrationRequest=ng={}));var rg;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(rg||(h.ResourceOperationKind=rg={}));var ig;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(ig||(h.FailureHandlingKind=ig={}));var og;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(og||(h.PositionEncodingKind=og={}));var sg;(function(t){function e(n){let r=n;return r&&qe.string(r.id)&&r.id.length>0}i(e,"hasId"),t.hasId=e})(sg||(h.StaticRegistrationOptions=sg={}));var ag;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Ic.is(r.documentSelector))}i(e,"is"),t.is=e})(ag||(h.TextDocumentRegistrationOptions=ag={}));var ug;(function(t){function e(r){let s=r;return qe.objectLiteral(s)&&(s.workDoneProgress===void 0||qe.boolean(s.workDoneProgress))}i(e,"is"),t.is=e;function n(r){let s=r;return s&&qe.boolean(s.workDoneProgress)}i(n,"hasWorkDoneProgress"),t.hasWorkDoneProgress=n})(ug||(h.WorkDoneProgressOptions=ug={}));var lg;(function(t){t.method="initialize",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(lg||(h.InitializeRequest=lg={}));var cg;(function(t){t.unknownProtocolVersion=1})(cg||(h.InitializeErrorCodes=cg={}));var dg;(function(t){t.method="initialized",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(dg||(h.InitializedNotification=dg={}));var fg;(function(t){t.method="shutdown",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType0(t.method)})(fg||(h.ShutdownRequest=fg={}));var mg;(function(t){t.method="exit",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType0(t.method)})(mg||(h.ExitNotification=mg={}));var pg;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(pg||(h.DidChangeConfigurationNotification=pg={}));var gg;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(gg||(h.MessageType=gg={}));var hg;(function(t){t.method="window/showMessage",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(hg||(h.ShowMessageNotification=hg={}));var _g;(function(t){t.method="window/showMessageRequest",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType(t.method)})(_g||(h.ShowMessageRequest=_g={}));var yg;(function(t){t.method="window/logMessage",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(yg||(h.LogMessageNotification=yg={}));var bg;(function(t){t.method="telemetry/event",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(bg||(h.TelemetryEventNotification=bg={}));var vg;(function(t){t.None=0,t.Full=1,t.Incremental=2})(vg||(h.TextDocumentSyncKind=vg={}));var wg;(function(t){t.method="textDocument/didOpen",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(wg||(h.DidOpenTextDocumentNotification=wg={}));var Sg;(function(t){function e(r){let s=r;return s!=null&&typeof s.text=="string"&&s.range!==void 0&&(s.rangeLength===void 0||typeof s.rangeLength=="number")}i(e,"isIncremental"),t.isIncremental=e;function n(r){let s=r;return s!=null&&typeof s.text=="string"&&s.range===void 0&&s.rangeLength===void 0}i(n,"isFull"),t.isFull=n})(Sg||(h.TextDocumentContentChangeEvent=Sg={}));var Eg;(function(t){t.method="textDocument/didChange",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Eg||(h.DidChangeTextDocumentNotification=Eg={}));var xg;(function(t){t.method="textDocument/didClose",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(xg||(h.DidCloseTextDocumentNotification=xg={}));var Tg;(function(t){t.method="textDocument/didSave",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Tg||(h.DidSaveTextDocumentNotification=Tg={}));var kg;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(kg||(h.TextDocumentSaveReason=kg={}));var Ig;(function(t){t.method="textDocument/willSave",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Ig||(h.WillSaveTextDocumentNotification=Ig={}));var Pg;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Pg||(h.WillSaveTextDocumentWaitUntilRequest=Pg={}));var Rg;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolNotificationType(t.method)})(Rg||(h.DidChangeWatchedFilesNotification=Rg={}));var Mg;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Mg||(h.FileChangeType=Mg={}));var Cg;(function(t){function e(n){let r=n;return qe.objectLiteral(r)&&(eg.URI.is(r.baseUri)||eg.WorkspaceFolder.is(r.baseUri))&&qe.string(r.pattern)}i(e,"is"),t.is=e})(Cg||(h.RelativePattern=Cg={}));var Lg;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Lg||(h.WatchKind=Lg={}));var Ng;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolNotificationType(t.method)})(Ng||(h.PublishDiagnosticsNotification=Ng={}));var Ag;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Ag||(h.CompletionTriggerKind=Ag={}));var Og;(function(t){t.method="textDocument/completion",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Og||(h.CompletionRequest=Og={}));var Dg;(function(t){t.method="completionItem/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Dg||(h.CompletionResolveRequest=Dg={}));var Fg;(function(t){t.method="textDocument/hover",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Fg||(h.HoverRequest=Fg={}));var jg;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(jg||(h.SignatureHelpTriggerKind=jg={}));var qg;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(qg||(h.SignatureHelpRequest=qg={}));var Ug;(function(t){t.method="textDocument/definition",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Ug||(h.DefinitionRequest=Ug={}));var Wg;(function(t){t.method="textDocument/references",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Wg||(h.ReferencesRequest=Wg={}));var Bg;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Bg||(h.DocumentHighlightRequest=Bg={}));var zg;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(zg||(h.DocumentSymbolRequest=zg={}));var $g;(function(t){t.method="textDocument/codeAction",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})($g||(h.CodeActionRequest=$g={}));var Vg;(function(t){t.method="codeAction/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Vg||(h.CodeActionResolveRequest=Vg={}));var Hg;(function(t){t.method="workspace/symbol",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Hg||(h.WorkspaceSymbolRequest=Hg={}));var Gg;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Gg||(h.WorkspaceSymbolResolveRequest=Gg={}));var Zg;(function(t){t.method="textDocument/codeLens",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Zg||(h.CodeLensRequest=Zg={}));var Qg;(function(t){t.method="codeLens/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Qg||(h.CodeLensResolveRequest=Qg={}));var Jg;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType0(t.method)})(Jg||(h.CodeLensRefreshRequest=Jg={}));var Kg;(function(t){t.method="textDocument/documentLink",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Kg||(h.DocumentLinkRequest=Kg={}));var Xg;(function(t){t.method="documentLink/resolve",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Xg||(h.DocumentLinkResolveRequest=Xg={}));var Yg;(function(t){t.method="textDocument/formatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(Yg||(h.DocumentFormattingRequest=Yg={}));var eh;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(eh||(h.DocumentRangeFormattingRequest=eh={}));var th;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(th||(h.DocumentRangesFormattingRequest=th={}));var nh;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(nh||(h.DocumentOnTypeFormattingRequest=nh={}));var rh;(function(t){t.Identifier=1})(rh||(h.PrepareSupportDefaultBehavior=rh={}));var ih;(function(t){t.method="textDocument/rename",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(ih||(h.RenameRequest=ih={}));var oh;(function(t){t.method="textDocument/prepareRename",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(oh||(h.PrepareRenameRequest=oh={}));var sh;(function(t){t.method="workspace/executeCommand",t.messageDirection=U.MessageDirection.clientToServer,t.type=new U.ProtocolRequestType(t.method)})(sh||(h.ExecuteCommandRequest=sh={}));var ah;(function(t){t.method="workspace/applyEdit",t.messageDirection=U.MessageDirection.serverToClient,t.type=new U.ProtocolRequestType("workspace/applyEdit")})(ah||(h.ApplyWorkspaceEditRequest=ah={}))});var ph=Z(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.createProtocolConnection=void 0;var mh=In();function jb(t,e,n,r){return mh.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,mh.createMessageConnection)(t,e,n,r)}i(jb,"createProtocolConnection");Go.createProtocolConnection=jb});var hh=Z(tt=>{"use strict";var qb=tt&&tt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:i(function(){return e[n]},"get")}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Zo=tt&&tt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qb(e,t,n)};Object.defineProperty(tt,"__esModule",{value:!0});tt.LSPErrorCodes=tt.createProtocolConnection=void 0;Zo(In(),tt);Zo(Co(),tt);Zo(Te(),tt);Zo(fh(),tt);var Ub=ph();Object.defineProperty(tt,"createProtocolConnection",{enumerable:!0,get:i(function(){return Ub.createProtocolConnection},"get")});var gh;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(gh||(tt.LSPErrorCodes=gh={}))});var yh=Z(Lt=>{"use strict";var Wb=Lt&&Lt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:i(function(){return e[n]},"get")}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),_h=Lt&&Lt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Wb(e,t,n)};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.createProtocolConnection=void 0;var Bb=dc();_h(dc(),Lt);_h(hh(),Lt);function zb(t,e,n,r){return(0,Bb.createMessageConnection)(t,e,n,r)}i(zb,"createProtocolConnection");Lt.createProtocolConnection=zb});var ln={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var Uc=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],Wc={".php":[".blade"]},Bc=Object.keys(ln).flatMap(t=>ln[t].extensions);var Ko={};Ih(Ko,{file:()=>Rh,from:()=>Mh,parse:()=>Jo});var zc;(()=>{"use strict";var t={975:j=>{function I(k){if(typeof k!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(k))}i(I,"e");function F(k,M){for(var A,B="",G=0,$=-1,ne=0,se=0;se<=k.length;++se){if(se<k.length)A=k.charCodeAt(se);else{if(A===47)break;A=47}if(A===47){if(!($===se-1||ne===1))if($!==se-1&&ne===2){if(B.length<2||G!==2||B.charCodeAt(B.length-1)!==46||B.charCodeAt(B.length-2)!==46){if(B.length>2){var Ie=B.lastIndexOf("/");if(Ie!==B.length-1){Ie===-1?(B="",G=0):G=(B=B.slice(0,Ie)).length-1-B.lastIndexOf("/"),$=se,ne=0;continue}}else if(B.length===2||B.length===1){B="",G=0,$=se,ne=0;continue}}M&&(B.length>0?B+="/..":B="..",G=2)}else B.length>0?B+="/"+k.slice($+1,se):B=k.slice($+1,se),G=se-$-1;$=se,ne=0}else A===46&&ne!==-1?++ne:ne=-1}return B}i(F,"r");var V={resolve:i(function(){for(var k,M="",A=!1,B=arguments.length-1;B>=-1&&!A;B--){var G;B>=0?G=arguments[B]:(k===void 0&&(k=process.cwd()),G=k),I(G),G.length!==0&&(M=G+"/"+M,A=G.charCodeAt(0)===47)}return M=F(M,!A),A?M.length>0?"/"+M:"/":M.length>0?M:"."},"resolve"),normalize:i(function(k){if(I(k),k.length===0)return".";var M=k.charCodeAt(0)===47,A=k.charCodeAt(k.length-1)===47;return(k=F(k,!M)).length!==0||M||(k="."),k.length>0&&A&&(k+="/"),M?"/"+k:k},"normalize"),isAbsolute:i(function(k){return I(k),k.length>0&&k.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var k,M=0;M<arguments.length;++M){var A=arguments[M];I(A),A.length>0&&(k===void 0?k=A:k+="/"+A)}return k===void 0?".":V.normalize(k)},"join"),relative:i(function(k,M){if(I(k),I(M),k===M||(k=V.resolve(k))===(M=V.resolve(M)))return"";for(var A=1;A<k.length&&k.charCodeAt(A)===47;++A);for(var B=k.length,G=B-A,$=1;$<M.length&&M.charCodeAt($)===47;++$);for(var ne=M.length-$,se=G<ne?G:ne,Ie=-1,fe=0;fe<=se;++fe){if(fe===se){if(ne>se){if(M.charCodeAt($+fe)===47)return M.slice($+fe+1);if(fe===0)return M.slice($+fe)}else G>se&&(k.charCodeAt(A+fe)===47?Ie=fe:fe===0&&(Ie=0));break}var nt=k.charCodeAt(A+fe);if(nt!==M.charCodeAt($+fe))break;nt===47&&(Ie=fe)}var xt="";for(fe=A+Ie+1;fe<=B;++fe)fe!==B&&k.charCodeAt(fe)!==47||(xt.length===0?xt+="..":xt+="/..");return xt.length>0?xt+M.slice($+Ie):($+=Ie,M.charCodeAt($)===47&&++$,M.slice($))},"relative"),_makeLong:i(function(k){return k},"_makeLong"),dirname:i(function(k){if(I(k),k.length===0)return".";for(var M=k.charCodeAt(0),A=M===47,B=-1,G=!0,$=k.length-1;$>=1;--$)if((M=k.charCodeAt($))===47){if(!G){B=$;break}}else G=!1;return B===-1?A?"/":".":A&&B===1?"//":k.slice(0,B)},"dirname"),basename:i(function(k,M){if(M!==void 0&&typeof M!="string")throw new TypeError('"ext" argument must be a string');I(k);var A,B=0,G=-1,$=!0;if(M!==void 0&&M.length>0&&M.length<=k.length){if(M.length===k.length&&M===k)return"";var ne=M.length-1,se=-1;for(A=k.length-1;A>=0;--A){var Ie=k.charCodeAt(A);if(Ie===47){if(!$){B=A+1;break}}else se===-1&&($=!1,se=A+1),ne>=0&&(Ie===M.charCodeAt(ne)?--ne==-1&&(G=A):(ne=-1,G=se))}return B===G?G=se:G===-1&&(G=k.length),k.slice(B,G)}for(A=k.length-1;A>=0;--A)if(k.charCodeAt(A)===47){if(!$){B=A+1;break}}else G===-1&&($=!1,G=A+1);return G===-1?"":k.slice(B,G)},"basename"),extname:i(function(k){I(k);for(var M=-1,A=0,B=-1,G=!0,$=0,ne=k.length-1;ne>=0;--ne){var se=k.charCodeAt(ne);if(se!==47)B===-1&&(G=!1,B=ne+1),se===46?M===-1?M=ne:$!==1&&($=1):M!==-1&&($=-1);else if(!G){A=ne+1;break}}return M===-1||B===-1||$===0||$===1&&M===B-1&&M===A+1?"":k.slice(M,B)},"extname"),format:i(function(k){if(k===null||typeof k!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof k);return function(M,A){var B=A.dir||A.root,G=A.base||(A.name||"")+(A.ext||"");return B?B===A.root?B+G:B+"/"+G:G}(0,k)},"format"),parse:i(function(k){I(k);var M={root:"",dir:"",base:"",ext:"",name:""};if(k.length===0)return M;var A,B=k.charCodeAt(0),G=B===47;G?(M.root="/",A=1):A=0;for(var $=-1,ne=0,se=-1,Ie=!0,fe=k.length-1,nt=0;fe>=A;--fe)if((B=k.charCodeAt(fe))!==47)se===-1&&(Ie=!1,se=fe+1),B===46?$===-1?$=fe:nt!==1&&(nt=1):$!==-1&&(nt=-1);else if(!Ie){ne=fe+1;break}return $===-1||se===-1||nt===0||nt===1&&$===se-1&&$===ne+1?se!==-1&&(M.base=M.name=ne===0&&G?k.slice(1,se):k.slice(ne,se)):(ne===0&&G?(M.name=k.slice(1,$),M.base=k.slice(1,se)):(M.name=k.slice(ne,$),M.base=k.slice(ne,se)),M.ext=k.slice($,se)),ne>0?M.dir=k.slice(0,ne-1):G&&(M.dir="/"),M},"parse"),sep:"/",delimiter:":",win32:null,posix:null};V.posix=V,j.exports=V}},e={};function n(j){var I=e[j];if(I!==void 0)return I.exports;var F=e[j]={exports:{}};return t[j](F,F.exports,n),F.exports}i(n,"r"),n.d=(j,I)=>{for(var F in I)n.o(I,F)&&!n.o(j,F)&&Object.defineProperty(j,F,{enumerable:!0,get:I[F]})},n.o=(j,I)=>Object.prototype.hasOwnProperty.call(j,I),n.r=j=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})};var r={};let s;n.r(r),n.d(r,{URI:i(()=>_,"URI"),Utils:i(()=>Le,"Utils")}),typeof process=="object"?s=process.platform==="win32":typeof navigator=="object"&&(s=navigator.userAgent.indexOf("Windows")>=0);let u=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function l(j,I){if(!j.scheme&&I)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${j.authority}", path: "${j.path}", query: "${j.query}", fragment: "${j.fragment}"}`);if(j.scheme&&!u.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path){if(j.authority){if(!o.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}i(l,"a");let c="",m="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,je=class je{constructor(I,F,V,k,M,A=!1){Vt(this,"scheme");Vt(this,"authority");Vt(this,"path");Vt(this,"query");Vt(this,"fragment");typeof I=="object"?(this.scheme=I.scheme||c,this.authority=I.authority||c,this.path=I.path||c,this.query=I.query||c,this.fragment=I.fragment||c):(this.scheme=function(B,G){return B||G?B:"file"}(I,A),this.authority=F||c,this.path=function(B,G){switch(B){case"https":case"http":case"file":G?G[0]!==m&&(G=m+G):G=m}return G}(this.scheme,V||c),this.query=k||c,this.fragment=M||c,l(this,A))}static isUri(I){return I instanceof je||!!I&&typeof I.authority=="string"&&typeof I.fragment=="string"&&typeof I.path=="string"&&typeof I.query=="string"&&typeof I.scheme=="string"&&typeof I.fsPath=="string"&&typeof I.with=="function"&&typeof I.toString=="function"}get fsPath(){return H(this,!1)}with(I){if(!I)return this;let{scheme:F,authority:V,path:k,query:M,fragment:A}=I;return F===void 0?F=this.scheme:F===null&&(F=c),V===void 0?V=this.authority:V===null&&(V=c),k===void 0?k=this.path:k===null&&(k=c),M===void 0?M=this.query:M===null&&(M=c),A===void 0?A=this.fragment:A===null&&(A=c),F===this.scheme&&V===this.authority&&k===this.path&&M===this.query&&A===this.fragment?this:new x(F,V,k,M,A)}static parse(I,F=!1){let V=g.exec(I);return V?new x(V[2]||c,Y(V[4]||c),Y(V[5]||c),Y(V[7]||c),Y(V[9]||c),F):new x(c,c,c,c,c)}static file(I){let F=c;if(s&&(I=I.replace(/\\/g,m)),I[0]===m&&I[1]===m){let V=I.indexOf(m,2);V===-1?(F=I.substring(2),I=m):(F=I.substring(2,V),I=I.substring(V)||m)}return new x("file",F,I,c,c)}static from(I){let F=new x(I.scheme,I.authority,I.path,I.query,I.fragment);return l(F,!0),F}toString(I=!1){return q(this,I)}toJSON(){return this}static revive(I){if(I){if(I instanceof je)return I;{let F=new x(I);return F._formatted=I.external,F._fsPath=I._sep===w?I.fsPath:null,F}}return I}};i(je,"l");let _=je,w=s?1:void 0,we=class we extends _{constructor(){super(...arguments);Vt(this,"_formatted",null);Vt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=H(this,!1)),this._fsPath}toString(F=!1){return F?q(this,!0):(this._formatted||(this._formatted=q(this,!1)),this._formatted)}toJSON(){let F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=w),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}};i(we,"d");let x=we,T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function O(j,I,F){let V,k=-1;for(let M=0;M<j.length;M++){let A=j.charCodeAt(M);if(A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===45||A===46||A===95||A===126||I&&A===47||F&&A===91||F&&A===93||F&&A===58)k!==-1&&(V+=encodeURIComponent(j.substring(k,M)),k=-1),V!==void 0&&(V+=j.charAt(M));else{V===void 0&&(V=j.substr(0,M));let B=T[A];B!==void 0?(k!==-1&&(V+=encodeURIComponent(j.substring(k,M)),k=-1),V+=B):k===-1&&(k=M)}}return k!==-1&&(V+=encodeURIComponent(j.substring(k))),V!==void 0?V:j}i(O,"m");function R(j){let I;for(let F=0;F<j.length;F++){let V=j.charCodeAt(F);V===35||V===63?(I===void 0&&(I=j.substr(0,F)),I+=T[V]):I!==void 0&&(I+=j[F])}return I!==void 0?I:j}i(R,"y");function H(j,I){let F;return F=j.authority&&j.path.length>1&&j.scheme==="file"?`//${j.authority}${j.path}`:j.path.charCodeAt(0)===47&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&j.path.charCodeAt(2)===58?I?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,s&&(F=F.replace(/\//g,"\\")),F}i(H,"v");function q(j,I){let F=I?R:O,V="",{scheme:k,authority:M,path:A,query:B,fragment:G}=j;if(k&&(V+=k,V+=":"),(M||k==="file")&&(V+=m,V+=m),M){let $=M.indexOf("@");if($!==-1){let ne=M.substr(0,$);M=M.substr($+1),$=ne.lastIndexOf(":"),$===-1?V+=F(ne,!1,!1):(V+=F(ne.substr(0,$),!1,!1),V+=":",V+=F(ne.substr($+1),!1,!0)),V+="@"}M=M.toLowerCase(),$=M.lastIndexOf(":"),$===-1?V+=F(M,!1,!0):(V+=F(M.substr(0,$),!1,!0),V+=M.substr($))}if(A){if(A.length>=3&&A.charCodeAt(0)===47&&A.charCodeAt(2)===58){let $=A.charCodeAt(1);$>=65&&$<=90&&(A=`/${String.fromCharCode($+32)}:${A.substr(3)}`)}else if(A.length>=2&&A.charCodeAt(1)===58){let $=A.charCodeAt(0);$>=65&&$<=90&&(A=`${String.fromCharCode($+32)}:${A.substr(2)}`)}V+=F(A,!0,!1)}return B&&(V+="?",V+=F(B,!1,!1)),G&&(V+="#",V+=I?G:O(G,!1,!1)),V}i(q,"b");function Q(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+Q(j.substr(3)):j}}i(Q,"C");let W=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Y(j){return j.match(W)?j.replace(W,I=>Q(I)):j}i(Y,"w");var X=n(975);let D=X.posix||X,te="/";var Le;(function(j){j.joinPath=function(I,...F){return I.with({path:D.join(I.path,...F)})},j.resolvePath=function(I,...F){let V=I.path,k=!1;V[0]!==te&&(V=te+V,k=!0);let M=D.resolve(V,...F);return k&&M[0]===te&&!I.authority&&(M=M.substring(1)),I.with({path:M})},j.dirname=function(I){if(I.path.length===0||I.path===te)return I;let F=D.dirname(I.path);return F.length===1&&F.charCodeAt(0)===46&&(F=""),I.with({path:F})},j.basename=function(I){return D.basename(I.path)},j.extname=function(I){return D.extname(I.path)}})(Le||(Le={})),zc=r})();var{URI:Sr,Utils:Qb}=zc;function Jo(t,e=!0){if(e&&/^[[:alnum:]]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let n=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return n?Sr.parse(n[1]+n[2],e):Sr.parse(t,e)}catch(n){let r=new Error(`Could not parse <${t}>`);throw r.cause=n,r}}i(Jo,"parse");function Rh(t){if(/^[[:alpha:]][[:alnum:].-]+:/.test(t))throw new Error("Path must not contain a scheme");if(!t)throw new Error("Path must not be empty");return Sr.file(t)}i(Rh,"file");function Mh(t){return Sr.from(t)}i(Mh,"from");var Xo=require("os"),Yo=require("path");function Vc(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+Vc(t.substring(3)):t}}i(Vc,"decodeURIComponentGraceful");var $c=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ch(t){return t.match($c)?t.replace($c,e=>Vc(e)):t}i(Ch,"percentDecode");function cn(t,e=!1){return Jo(t,e)}i(cn,"parseUri");function Lh(t){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(t)}i(Lh,"isFsScheme");function Nh(t){return Lh(t.scheme)&&(!t.authority||(0,Xo.platform)()=="win32")}i(Nh,"isFsUri");function Hc(t){try{typeof t=="string"&&(t=cn(t,!0))}catch{return}if(Nh(t))if((0,Xo.platform)()==="win32"){let e=t.path;return t.authority?e=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(e)&&(e=e.substring(1)),(0,Yo.normalize)(e)}else return t.authority?void 0:t.path}i(Hc,"getFsPath");function Gc(t){return Ch(t.toString().replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}i(Gc,"basename");var es=Dt(require("path"));var os=class os{constructor(e,n,r){this.languageId=e;this.isGuess=n;this.fileExtension=r}};i(os,"Language");var Er=os,ss=class ss{};i(ss,"LanguageDetection");var xr=ss,ts=new Map,An=new Map,Zc,Qc;for(let[t,{extensions:e,filenames:n}]of Object.entries(ln)){for(let r of e)ts.set(r,[...(Zc=ts.get(r))!=null?Zc:[],t]);for(let r of n!=null?n:[])An.set(r,[...(Qc=An.get(r))!=null?Qc:[],t])}var as=class as extends xr{detectLanguage(e){let n=Gc(e.uri),r=es.extname(n).toLowerCase(),s=this.extensionWithoutTemplateLanguage(n,r),u=this.detectLanguageId(n,s);return new Er(u.languageId,u.isGuess,this.computeFullyQualifiedExtension(r,s))}extensionWithoutTemplateLanguage(e,n){if(Uc.includes(n)){let r=e.substring(0,e.lastIndexOf(".")),s=es.extname(r).toLowerCase();if(s.length>0&&Bc.includes(s)&&this.isExtensionValidForTemplateLanguage(n,s))return s}return n}isExtensionValidForTemplateLanguage(e,n){let r=Wc[e];return!r||r.includes(n)}detectLanguageId(e,n){var s;if(An.has(e))return{languageId:An.get(e)[0],isGuess:!1};let r=(s=ts.get(n))!=null?s:[];if(r.length>0)return{languageId:r[0],isGuess:r.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),An.has(e))return{languageId:An.get(e)[0],isGuess:!1};return{languageId:"unknown",isGuess:!0}}computeFullyQualifiedExtension(e,n){return e!==n?n+e:e}};i(as,"FilenameAndExensionLanguageDetection");var ns=as,us=class us extends xr{constructor(n){super();this.delegate=n}detectLanguage(n){let r=this.delegate.detectLanguage(n),s=r.languageId;return s==="c"||s==="cpp"?new Er("cpp",r.isGuess,r.fileExtension):r}};i(us,"GroupingLanguageDetection");var rs=us,ls=class ls extends xr{constructor(n){super();this.delegate=n}detectLanguage(n){return n.uri.startsWith("untitled:")||n.uri.startsWith("vscode-notebook-cell:")?new Er(n.languageId,!0,""):this.delegate.detectLanguage(n)}};i(ls,"ClientProvidedLanguageDetection");var is=ls,sv=new rs(new is(new ns));function Ft(t){if(t.isCancellationRequested)throw new cs}i(Ft,"throwIfCancellationRequested");var ds=class ds extends Error{constructor(){super(Ah),this.name=this.message}};i(ds,"CancellationError");var cs=ds,Ah="Canceled",ms=class ms{constructor(){this.items=[]}push(e){this.items.push(e)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};i(ms,"Stack");var mi=ms;function ps(t,e,n){return{type:"virtual",indentation:t,subs:e,label:n}}i(ps,"virtualNode");function Jc(t,e,n,r,s){if(n==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:t,lineNumber:e,sourceLine:n,subs:r,label:s}}i(Jc,"lineNode");function gs(t){return{type:"blank",lineNumber:t,subs:[]}}i(gs,"blankNode");function pi(t){return{type:"top",indentation:-1,subs:t!=null?t:[]}}i(pi,"topNode");function Ue(t){return t.type==="blank"}i(Ue,"isBlank");function dn(t){return t.type==="line"}i(dn,"isLine");function fn(t){return t.type==="virtual"}i(fn,"isVirtual");function Kc(t,e){return $e(t,n=>{n.label=n.label?e(n.label)?void 0:n.label:void 0},"bottomUp"),t}i(Kc,"clearLabelsIf");function mn(t,e){switch(t.type){case"line":case"virtual":{let n=t.subs.map(r=>mn(r,e));return{...t,subs:n,label:t.label?e(t.label):void 0}}case"blank":return{...t,label:t.label?e(t.label):void 0};case"top":return{...t,subs:t.subs.map(n=>mn(n,e)),label:t.label?e(t.label):void 0}}}i(mn,"mapLabels");function $e(t,e,n){function r(s){n==="topDown"&&e(s),s.subs.forEach(u=>{r(u)}),n==="bottomUp"&&e(s)}i(r,"_visit"),r(t)}i($e,"visitTree");function hs(t,e,n,r){let s=e;function u(o){s=n(o,s)}return i(u,"visitor"),$e(t,u,r),s}i(hs,"foldTree");function gi(t,e,n){let r=i(u=>{if(n!==void 0&&n(u))return u;{let o=u.subs.map(r).filter(a=>a!==void 0);return u.subs=o,e(u)}},"rebuild"),s=r(t);return s!==void 0?s:pi()}i(gi,"rebuildTree");function Dh(t){let e=t.split(`
`),n=e.map(c=>c.match(/^\s*/)[0].length),r=e.map(c=>c.trimLeft());function s(c){let[m,g]=u(c+1,n[c]);return[Jc(n[c],c,r[c],m),g]}i(s,"parseNode");function u(c,m){let g,_=[],w=c,x;for(;w<r.length&&(r[w]===""||n[w]>m);)if(r[w]==="")x===void 0&&(x=w),w+=1;else{if(x!==void 0){for(let T=x;T<w;T++)_.push(gs(T));x=void 0}[g,w]=s(w),_.push(g)}return x!==void 0&&(w=x),[_,w]}i(u,"parseSubs");let[o,a]=u(0,-1),l=a;for(;l<r.length&&r[l]==="";)o.push(gs(l)),l+=1;if(l<r.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${r.length}`);return pi(o)}i(Dh,"parseRaw");function Tr(t,e){function n(r){if(dn(r)){let s=e.find(u=>u.matches(r.sourceLine));s&&(r.label=s.label)}}i(n,"visitor"),$e(t,n,"bottomUp")}i(Tr,"labelLines");function hi(t){function e(n){if(fn(n)&&n.label===void 0){let r=n.subs.filter(s=>!Ue(s));r.length===1&&(n.label=r[0].label)}}i(e,"visitor"),$e(t,e,"bottomUp")}i(hi,"labelVirtualInherited");function kr(t){return Object.keys(t).map(e=>{let n;return t[e].test?n=i(r=>t[e].test(r),"matches"):n=t[e],{matches:n,label:e}})}i(kr,"buildLabelRules");function _s(t){let n=gi(t,i(function(r){if(r.subs.length===0||r.subs.findIndex(o=>o.label==="closer"||o.label==="opener")===-1)return r;let s=[],u;for(let o=0;o<r.subs.length;o++){let a=r.subs[o],l=r.subs[o-1];if(a.label==="opener"&&l!==void 0&&dn(l))l.subs.push(a),a.subs.forEach(c=>l.subs.push(c)),a.subs=[];else if(a.label==="closer"&&u!==void 0&&(dn(a)||fn(a))&&a.indentation>=u.indentation){let c=s.length-1;for(;c>0&&Ue(s[c]);)c-=1;if(u.subs.push(...s.splice(c+1)),a.subs.length>0){let m=u.subs.findIndex(x=>x.label!=="newVirtual"),g=u.subs.slice(0,m),_=u.subs.slice(m),w=_.length>0?[ps(a.indentation,_,"newVirtual")]:[];u.subs=[...g,...w,a]}else u.subs.push(a)}else s.push(a),Ue(a)||(u=a)}return r.subs=s,r},"rebuilder"));return Kc(t,r=>r==="newVirtual"),n}i(_s,"combineClosersAndOpeners");function Xc(t,e=Ue,n){return gi(t,i(function(s){if(s.subs.length<=1)return s;let u=[],o=[],a,l=!1;function c(m=!1){if(a!==void 0&&(u.length>0||!m)){let g=ps(a,o,n);u.push(g)}else o.forEach(g=>u.push(g))}i(c,"flushBlockIntoNewSubs");for(let m=0;m<s.subs.length;m++){let g=s.subs[m],_=e(g);!_&&l&&(c(),o=[]),l=_,o.push(g),Ue(g)||(a=a!=null?a:g.indentation)}return c(!0),s.subs=u,s},"rebuilder"))}i(Xc,"groupBlocks");function pn(t){return gi(t,i(function(n){return fn(n)&&n.label===void 0&&n.subs.length<=1?n.subs.length===0?void 0:n.subs[0]:(n.subs.length===1&&fn(n.subs[0])&&n.subs[0].label===void 0&&(n.subs=n.subs[0].subs),n)},"rebuilder"))}i(pn,"flattenVirtual");var Fh={opener:/^[[({]/,closer:/^[\])}]/},jh=kr(Fh),Yc={};function ys(t,e){Yc[t]=e}i(ys,"registerLanguageSpecificParser");function Ir(t,e){let n=Dh(t),r=Yc[e!=null?e:""];return r?r(n):(Tr(n,jh),_s(n))}i(Ir,"parseTree");var qh={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Uh=kr(qh);function ed(t){let e=t;return Tr(e,Uh),e=_s(e),e=pn(e),hi(e),$e(e,n=>{if(n.label==="class"||n.label==="interface")for(let r of n.subs)!Ue(r)&&(r.label===void 0||r.label==="annotation")&&(r.label="member")},"bottomUp"),e}i(ed,"processJava");var Wh={heading:/^# /,subheading:/^## /,subsubheading:/### /},Bh=kr(Wh);function td(t){let e=t;if(Tr(e,Bh),Ue(e))return e;function n(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}i(n,"headingLevel");let r=[e],s=[...e.subs];e.subs=[];for(let u of s){let o=n(u);if(o===void 0||Ue(u))r[r.length-1].subs.push(u);else{for(;r.length<o;)r.push(r[r.length-1]);for(r[o-1].subs.push(u),r[o]=u;r.length>o+1;)r.pop()}}return e=Xc(e),e=pn(e),hi(e),e}i(td,"processMarkdown");function nd(t){return" ".repeat(t.indentation)+t.sourceLine+`
`}i(nd,"deparseLine");ys("markdown",td);ys("java",ed);var zh={worthUp:.9,worthSibling:.88,worthDown:.8};function bs(t,e=zh){let n=mn(t,r=>r?1:void 0);return $e(n,r=>{var u;if(Ue(r))return;let s=r.subs.reduce((o,a)=>{var l;return Math.max(o,(l=a.label)!=null?l:0)},0);r.label=Math.max((u=r.label)!=null?u:0,s*e.worthUp)},"bottomUp"),$e(n,r=>{if(Ue(r))return;let s=r.subs.map(a=>{var l;return(l=a.label)!=null?l:0}),u=[...s];for(let a=0;a<s.length;a++)s[a]!==0&&(u=u.map((l,c)=>Math.max(l,Math.pow(e.worthSibling,Math.abs(a-c))*s[a])));let o=r.label;o!==void 0&&(u=u.map(a=>Math.max(a,e.worthDown*o))),r.subs.forEach((a,l)=>a.label=u[l])},"topDown"),$h(n)}i(bs,"fromTreeWithFocussedLines");function $h(t){let e=hs(t,[],(n,r)=>{var s,u;return(n.type==="line"||n.type==="blank")&&r.push(n.type==="line"?[nd(n).trimEnd(),(s=n.label)!=null?s:0]:["",(u=n.label)!=null?u:0]),r},"topDown");return new gn(e)}i($h,"fromTreeWithValuedLines");function rd(t,e=!0,n=!0){let r=typeof t=="string"?Ir(t):Ir(t.source,t.languageId);pn(r);let s=mn(r,u=>e&&u!=="closer");return $e(s,u=>{u.label===void 0&&(u.label=e&&u.label!==!1)},"topDown"),e&&$e(s,u=>{if(u.label){let o=!1;for(let a of[...u.subs].reverse())a.label&&!o?o=!0:a.label=!1}else for(let o of u.subs)o.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),n&&$e(s,u=>{u.label||(u.label=(dn(u)||Ue(u))&&u.lineNumber==0)},"topDown"),bs(s)}i(rd,"elidableTextForSourceCode");var vs=class vs extends Error{constructor(n,r){super(n);this.cause=r;this.code="CopilotPromptLoadFailure"}};i(vs,"CopilotPromptLoadFailure");var Ht=vs;var On=Dt(_d()),bd=require("fs"),vd=require("path");var yd=new Map;function yt(t="cl100k_base"){let e=yd.get(t);return e!==void 0||(t==="mock"?e=new Fs:e=new Ds(t),yd.set(t,e)),e}i(yt,"getTokenizer");function u_(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=(0,bd.readFileSync)(t,"utf-8"),n=new Map;for(let r of e.split(`
`)){if(!r)continue;let s=Buffer.from(r,"base64");n.set(s,n.size)}return n}i(u_,"parseTikTokenNoIndex");var js=class js{constructor(e){try{this._tokenizer=(0,On.createTokenizer)(u_((0,vd.join)(__dirname,`./resources/${e}.tiktoken.noindex`)),(0,On.getSpecialTokensByEncoder)(e),(0,On.getRegexByEncoder)(e),32768)}catch(n){throw n instanceof Error?new Ht("Could not load tokenizer",n):n}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(r=>this.detokenize([r]))}takeLastTokens(e,n){if(n<=0)return{text:"",tokens:[]};let r=4,s=1,u=Math.min(e.length,n*r),o=e.slice(-u),a=this.tokenize(o);for(;a.length<n+2&&u<e.length;)u=Math.min(e.length,u+n*s),o=e.slice(-u),a=this.tokenize(o);return a.length<n?{text:e,tokens:a}:(a=a.slice(-n),{text:this.detokenize(a),tokens:a})}takeFirstTokens(e,n){if(n<=0)return{text:"",tokens:[]};let r=4,s=1,u=Math.min(e.length,n*r),o=e.slice(0,u),a=this.tokenize(o);for(;a.length<n+2&&u<e.length;)u=Math.min(e.length,u+n*s),o=e.slice(0,u),a=this.tokenize(o);return a.length<n?{text:e,tokens:a}:(a=a.slice(0,n),{text:this.detokenize(a),tokens:a})}takeLastLinesTokens(e,n){let{text:r}=this.takeLastTokens(e,n);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let s=r.indexOf(`
`);return r.substring(s+1)}};i(js,"TTokenizer");var Ds=js,qs=class qs{constructor(){this.hash=i(e=>{let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);n=(n<<5)-n+s,n&=n&65535}return n},"hash")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(n=>n.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,n){let r=this.tokenizeStrings(e).slice(-n);return{text:r.join(""),tokens:r.map(this.hash)}}takeFirstTokens(e,n){let r=this.tokenizeStrings(e).slice(0,n);return{text:r.join(""),tokens:r.map(this.hash)}}takeLastLinesTokens(e,n){let{text:r}=this.takeLastTokens(e,n);if(r.length===e.length||e[e.length-r.length-1]===`
`)return r;let s=r.indexOf(`
`);return r.substring(s+1)}};i(qs,"MockTokenizer");var Fs=qs;var Ei=class Ei{constructor(e,n,r=yt().tokenLength(e+`
`),s="strict"){this.text=e;this._value=n;this._cost=r;if(e.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&n>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(e){return this._value*=e,this}recost(e=n=>yt().tokenLength(n+`
`)){return this._cost=e(this.text),this}copy(){return new Ei(this.text,this.value,this.cost,"none")}};i(Ei,"LineWithValueAndCost");var Mr=Ei;var xi=class xi{constructor(e){this.lines=[];let n=[];for(let r of e){let s=Array.isArray(r)?r[1]:1,u=Array.isArray(r)?r[0]:r;typeof u=="string"?u.split(`
`).forEach(o=>n.push(new Mr(o,s))):u instanceof xi?u.lines.forEach(o=>n.push(o.copy().adjustValue(s))):"source"in u&&"languageId"in u&&rd(u).lines.forEach(o=>n.push(o.copy().adjustValue(s)))}this.lines=n}adjust(e){this.lines.forEach(n=>n.adjustValue(e))}recost(e=n=>yt().tokenLength(n+`
`)){this.lines.forEach(n=>n.recost(e))}makePrompt(e,n="[...]",r=!0,s="removeLeastDesirable",u=yt()){let o=this.lines.map(a=>a.copy());return l_(o,e,n,r,s,u)}};i(xi,"ElidableText");var gn=xi;function l_(t,e,n,r,s,u){var g,_,w,x,T,O,R,H,q,Q,W,Y,X;if(u.tokenLength(n+`
`)>e)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&t.forEach(D=>D.adjustValue(1/D.cost));let o=t.reduce((D,te)=>Math.max(D,te.value),0)+1,a=t.reduce((D,te)=>Math.max(D,te.text.length),0)+1,l=n.trim(),c=t.reduce((D,te)=>D+te.cost,0),m=t.length+1;for(;c>e&&m-->=-1;){let D=t.reduce((F,V)=>V.value<F.value?V:F),te=t.indexOf(D),Le=(g=t.slice(0,te+1).reverse().find(F=>F.text.trim()!==""))!=null?g:{text:""},je=r?Math.min((w=(_=Le.text.match(/^\s*/))==null?void 0:_[0].length)!=null?w:0,((x=t[te-1])==null?void 0:x.text.trim())===l?(R=(O=(T=t[te-1])==null?void 0:T.text.match(/^\s*/))==null?void 0:O[0].length)!=null?R:0:a,((H=t[te+1])==null?void 0:H.text.trim())===l?(W=(Q=(q=t[te+1])==null?void 0:q.text.match(/^\s*/))==null?void 0:Q[0].length)!=null?W:0:a):0,we=" ".repeat(je)+n,j=new Mr(we,o,u.tokenLength(we+`
`),"loose");t.splice(te,1,j),((Y=t[te+1])==null?void 0:Y.text.trim())===l&&t.splice(te+1,1),((X=t[te-1])==null?void 0:X.text.trim())===l&&t.splice(te-1,1);let I=t.reduce((F,V)=>F+V.cost,0);I>=c&&t.every(F=>F.value===o)&&(r=!1),c=I}if(m<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return t.map(D=>D.text).join(`
`)}i(l_,"makePrompt");function bt(){}i(bt,"Diff");bt.prototype={diff:i(function(e,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.callback;typeof s=="function"&&(u=s,s={});var o=this;function a(Q){return Q=o.postProcess(Q,s),u?(setTimeout(function(){u(Q)},0),!0):Q}i(a,"done"),e=this.castInput(e,s),n=this.castInput(n,s),e=this.removeEmpty(this.tokenize(e,s)),n=this.removeEmpty(this.tokenize(n,s));var l=n.length,c=e.length,m=1,g=l+c;s.maxEditLength!=null&&(g=Math.min(g,s.maxEditLength));var _=(r=s.timeout)!==null&&r!==void 0?r:1/0,w=Date.now()+_,x=[{oldPos:-1,lastComponent:void 0}],T=this.extractCommon(x[0],n,e,0,s);if(x[0].oldPos+1>=c&&T+1>=l)return a(wd(o,x[0].lastComponent,n,e,o.useLongestToken));var O=-1/0,R=1/0;function H(){for(var Q=Math.max(O,-m);Q<=Math.min(R,m);Q+=2){var W=void 0,Y=x[Q-1],X=x[Q+1];Y&&(x[Q-1]=void 0);var D=!1;if(X){var te=X.oldPos-Q;D=X&&0<=te&&te<l}var Le=Y&&Y.oldPos+1<c;if(!D&&!Le){x[Q]=void 0;continue}if(!Le||D&&Y.oldPos<X.oldPos?W=o.addToPath(X,!0,!1,0,s):W=o.addToPath(Y,!1,!0,1,s),T=o.extractCommon(W,n,e,Q,s),W.oldPos+1>=c&&T+1>=l)return a(wd(o,W.lastComponent,n,e,o.useLongestToken));x[Q]=W,W.oldPos+1>=c&&(R=Math.min(R,Q-1)),T+1>=l&&(O=Math.max(O,Q+1))}m++}if(i(H,"execEditLength"),u)i(function Q(){setTimeout(function(){if(m>g||Date.now()>w)return u();H()||Q()},0)},"exec")();else for(;m<=g&&Date.now()<=w;){var q=H();if(q)return q}},"diff"),addToPath:i(function(e,n,r,s,u){var o=e.lastComponent;return o&&!u.oneChangePerToken&&o.added===n&&o.removed===r?{oldPos:e.oldPos+s,lastComponent:{count:o.count+1,added:n,removed:r,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+s,lastComponent:{count:1,added:n,removed:r,previousComponent:o}}},"addToPath"),extractCommon:i(function(e,n,r,s,u){for(var o=n.length,a=r.length,l=e.oldPos,c=l-s,m=0;c+1<o&&l+1<a&&this.equals(r[l+1],n[c+1],u);)c++,l++,m++,u.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return m&&!u.oneChangePerToken&&(e.lastComponent={count:m,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=l,c},"extractCommon"),equals:i(function(e,n,r){return r.comparator?r.comparator(e,n):e===n||r.ignoreCase&&e.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);return n},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return Array.from(e)},"tokenize"),join:i(function(e){return e.join("")},"join"),postProcess:i(function(e){return e},"postProcess")};function wd(t,e,n,r,s){for(var u=[],o;e;)u.push(e),o=e.previousComponent,delete e.previousComponent,e=o;u.reverse();for(var a=0,l=u.length,c=0,m=0;a<l;a++){var g=u[a];if(g.removed)g.value=t.join(r.slice(m,m+g.count)),m+=g.count;else{if(!g.added&&s){var _=n.slice(c,c+g.count);_=_.map(function(w,x){var T=r[m+x];return T.length>w.length?T:w}),g.value=t.join(_)}else g.value=t.join(n.slice(c,c+g.count));c+=g.count,g.added||(m+=g.count)}}return u}i(wd,"buildValues");var $w=new bt;function Sd(t,e){var n;for(n=0;n<t.length&&n<e.length;n++)if(t[n]!=e[n])return t.slice(0,n);return t.slice(0,n)}i(Sd,"longestCommonPrefix");function Ed(t,e){var n;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(n=0;n<t.length&&n<e.length;n++)if(t[t.length-(n+1)]!=e[e.length-(n+1)])return t.slice(-n);return t.slice(-n)}i(Ed,"longestCommonSuffix");function Us(t,e,n){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return n+t.slice(e.length)}i(Us,"replacePrefix");function Ws(t,e,n){if(!e)return t+n;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+n}i(Ws,"replaceSuffix");function Cr(t,e){return Us(t,e,"")}i(Cr,"removePrefix");function Ti(t,e){return Ws(t,e,"")}i(Ti,"removeSuffix");function xd(t,e){return e.slice(0,c_(t,e))}i(xd,"maximumOverlap");function c_(t,e){var n=0;t.length>e.length&&(n=t.length-e.length);var r=e.length;t.length<e.length&&(r=t.length);var s=Array(r),u=0;s[0]=0;for(var o=1;o<r;o++){for(e[o]==e[u]?s[o]=s[u]:s[o]=u;u>0&&e[o]!=e[u];)u=s[u];e[o]==e[u]&&u++}u=0;for(var a=n;a<t.length;a++){for(;u>0&&t[a]!=e[u];)u=s[u];t[a]==e[u]&&u++}return u}i(c_,"overlapCount");var ki="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",d_=new RegExp("[".concat(ki,"]+|\\s+|[^").concat(ki,"]"),"ug"),Ii=new bt;Ii.equals=function(t,e,n){return n.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};Ii.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(e.intlSegmenter.segment(t),function(u){return u.segment})}else n=t.match(d_)||[];var r=[],s=null;return n.forEach(function(u){/\s/.test(u)?s==null?r.push(u):r.push(r.pop()+u):/\s/.test(s)?r[r.length-1]==s?r.push(r.pop()+u):r.push(s+u):r.push(u),s=u}),r};Ii.join=function(t){return t.map(function(e,n){return n==0?e:e.replace(/^\s+/,"")}).join("")};Ii.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var n=null,r=null,s=null;return t.forEach(function(u){u.added?r=u:u.removed?s=u:((r||s)&&Td(n,s,r,u),n=u,r=null,s=null)}),(r||s)&&Td(n,s,r,null),t};function Td(t,e,n,r){if(e&&n){var s=e.value.match(/^\s*/)[0],u=e.value.match(/\s*$/)[0],o=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(t){var l=Sd(s,o);t.value=Ws(t.value,o,l),e.value=Cr(e.value,l),n.value=Cr(n.value,l)}if(r){var c=Ed(u,a);r.value=Us(r.value,a,c),e.value=Ti(e.value,c),n.value=Ti(n.value,c)}}else if(n)t&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(t&&r){var m=r.value.match(/^\s*/)[0],g=e.value.match(/^\s*/)[0],_=e.value.match(/\s*$/)[0],w=Sd(m,g);e.value=Cr(e.value,w);var x=Ed(Cr(m,w),_);e.value=Ti(e.value,x),r.value=Us(r.value,m,x),t.value=Ws(t.value,m,m.slice(0,m.length-x.length))}else if(r){var T=r.value.match(/^\s*/)[0],O=e.value.match(/\s*$/)[0],R=xd(O,T);e.value=Ti(e.value,R)}else if(t){var H=t.value.match(/\s*$/)[0],q=e.value.match(/^\s*/)[0],Q=xd(H,q);e.value=Cr(e.value,Q)}}i(Td,"dedupeWhitespaceInChangeObjects");var f_=new bt;f_.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(ki,"]+|[^\\S\\n\\r]+|[^").concat(ki,"]"),"ug");return t.match(e)||[]};var Vs=new bt;Vs.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var n=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var u=r[s];s%2&&!e.newlineIsToken?n[n.length-1]+=u:n.push(u)}return n};Vs.equals=function(t,e,n){return n.ignoreWhitespace?((!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),bt.prototype.equals.call(this,t,e,n)};var m_=new bt;m_.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var p_=new bt;p_.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}i(Bs,"_typeof");var Lr=new bt;Lr.useLongestToken=!0;Lr.tokenize=Vs.tokenize;Lr.castInput=function(t,e){var n=e.undefinedReplacement,r=e.stringifyReplacer,s=r===void 0?function(u,o){return typeof o>"u"?n:o}:r;return typeof t=="string"?t:JSON.stringify(zs(t,null,null,s),s,"  ")};Lr.equals=function(t,e,n){return bt.prototype.equals.call(Lr,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),n)};function zs(t,e,n,r,s){e=e||[],n=n||[],r&&(t=r(s,t));var u;for(u=0;u<e.length;u+=1)if(e[u]===t)return n[u];var o;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),o=new Array(t.length),n.push(o),u=0;u<t.length;u+=1)o[u]=zs(t[u],e,n,r,s);return e.pop(),n.pop(),o}if(t&&t.toJSON&&(t=t.toJSON()),Bs(t)==="object"&&t!==null){e.push(t),o={},n.push(o);var a=[],l;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&a.push(l);for(a.sort(),u=0;u<a.length;u+=1)l=a[u],o[l]=zs(t[l],e,n,r,l);e.pop(),n.pop()}else o=t;return o}i(zs,"canonicalize");var $s=new bt;$s.tokenize=function(t){return t.slice()};$s.join=$s.removeEmpty=function(t){return t};var Id={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},kd={};for(let[t,e]of Object.entries(Id))if(e.markdownLanguageIds)for(let n of e.markdownLanguageIds)kd[n]=t;else kd[t]=t;var __={tokenizerName:"cl100k_base"};function y_(t){return{...__,...t}}i(y_,"cursorContextOptions");function Dn(t,e={}){let n=y_(e),r=yt(n.tokenizerName);if(n.maxLineCount!==void 0&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(n.maxTokenLength!==void 0&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(n.maxLineCount===0||n.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let s=t.source.slice(0,t.offset);return n.maxLineCount!==void 0&&(s=s.split(`
`).slice(-n.maxLineCount).join(`
`)),n.maxTokenLength!==void 0&&(s=r.takeLastLinesTokens(s,n.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:r.tokenLength(s),tokenizerName:n.tokenizerName}}i(Dn,"getCursorContext");var Zs=class Zs{constructor(e){this.keys=[];this.cache={};this.size=e}put(e,n){var r;if(this.cache[e]=n,this.keys.length>this.size){this.keys.push(e);let s=(r=this.keys.shift())!=null?r:"";delete this.cache[s]}}get(e){return this.cache[e]}};i(Zs,"FifoCache");var Hs=Zs;var Qs=class Qs{constructor(e){var n;this.stopsForLanguage=(n=S_.get(e.languageId))!=null?n:w_}tokenize(e){return new Set(b_(e).filter(n=>!this.stopsForLanguage.has(n)))}};i(Qs,"Tokenizer");var Gs=Qs,Pd=new Hs(20),Js=class Js{constructor(e){this.referenceDoc=e,this.tokenizer=new Gs(e)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var e;return(e=this.referenceTokensCache)!=null?e:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,n="descending"){return n=="ascending"?e.sort((r,s)=>r.score>s.score?1:-1):n=="descending"?e.sort((r,s)=>r.score>s.score?-1:1):e}async retrieveAllSnippets(e,n="descending"){var c;let r=[];if(e.source.length===0||(await this.referenceTokens).size===0)return r;let s=e.source.split(`
`),u=this.id()+":"+e.source,o=(c=Pd.get(u))!=null?c:[],a=o.length==0,l=a?s.map(m=>this.tokenizer.tokenize(m),this.tokenizer):[];for(let[m,[g,_]]of this.getWindowsDelineations(s).entries()){if(a){let T=new Set;l.slice(g,_).forEach(O=>O.forEach(R=>T.add(R),T)),o.push(T)}let w=o[m],x=this.similarityScore(w,await this.referenceTokens);if(r.length&&g>0&&r[r.length-1].endLine>g){r[r.length-1].score<x&&(r[r.length-1].score=x,r[r.length-1].startLine=g,r[r.length-1].endLine=_);continue}r.push({score:x,startLine:g,endLine:_})}return a&&Pd.put(u,o),this.sortScoredSnippets(r,n)}findMatches(e,n){return this.findBestMatch(e,n)}async findBestMatch(e,n){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let r=e.source.split(`
`),s=await this.retrieveAllSnippets(e,"descending");if(s.length===0)return[];let u=[];for(let o=0;o<s.length&&o<n;o++)if(s[o].score!==0){let a=r.slice(s[o].startLine,s[o].endLine).join(`
`);u.push({snippet:a,semantics:"snippet",provider:"similar-files",...s[o]})}return u}};i(Js,"WindowedMatcher");var Fn=Js;function b_(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}i(b_,"splitIntoWords");var v_=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),w_=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...v_]),S_=new Map([]);function Pi(t,e){let n=[],r=e.length;if(r==0)return[];if(r<t)return[[0,r]];for(let s=0;s<r-t+1;s++)n.push([s,s+t]);return n}i(Pi,"getBasicWindowDelineations");var Nr=class Nr extends Fn{constructor(e,n){super(e),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return Pi(this.windowLength,e)}_getCursorContextInfo(e){return Dn(e,{maxLineCount:this.windowLength})}similarityScore(e,n){return E_(e,n)}};i(Nr,"FixedWindowSizeJaccardMatcher"),Nr.FACTORY=i(e=>({to:i(n=>new Nr(n,e),"to")}),"FACTORY");var Ri=Nr;function E_(t,e){let n=new Set;return t.forEach(r=>{e.has(r)&&n.add(r)}),n.size/(t.size+e.size-n.size)}i(E_,"computeScore");var Cd=require("fs"),Mi=Dt(require("path")),Ci=Dt(Rd());var Md={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Ld(t){if(!(t in Md))throw new Error(`Unrecognized language: ${t}`);return Md[t]}i(Ld,"languageIdToWasmLanguage");var Ks=new Map;async function x_(t){let e,n=Mi.default.resolve(Mi.default.extname(__filename)!==".ts"?__dirname:Mi.default.resolve(__dirname,"../../dist"),`tree-sitter-${t}.wasm`);try{e=await Cd.promises.readFile(n)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new Ht(`Could not load tree-sitter-${t}.wasm`,r):r}return Ci.default.Language.load(e)}i(x_,"loadWasmLanguage");function T_(t){let e=Ld(t);if(!Ks.has(e)){let n=x_(e);Ks.set(e,n)}return Ks.get(e)}i(T_,"getLanguage");var Ys=class Ys extends Error{constructor(n,r){super(n);this.cause=r}};i(Ys,"WrappedError");var Xs=Ys;async function hn(t,e){await Ci.default.init();let n;try{n=new Ci.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Xs(`Could not init Parse for language <${t}>`,u):u}let r=await T_(t);n.setLanguage(r);let s=n.parse(e);return n.delete(),s}i(hn,"parseTreeSitter");function k_(t,e){let n=[];for(let r of t){if(!r[1]){let s=e.tree.getLanguage();r[1]=s.query(r[0])}n.push(...r[1].matches(e))}return n}i(k_,"innerQuery");var I_=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Nd(t){return k_([I_],t).length==1}i(Nd,"queryPythonIsDocstring");var Zt=class Zt extends Fn{constructor(e,n){super(e),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return Pi(this.windowLength,e)}_getCursorContextInfo(e){return Dn(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=Zt.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var s;let e=(s=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:s.startIndex,n=this.referenceDoc.offset,r=e?this.referenceDoc.source.slice(e,n):Dn(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(r)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,n){return P_(e,n)}async getEnclosingMemberStart(e,n){var s;let r;try{r=await hn(this.referenceDoc.languageId,e);let u=r.rootNode.namedDescendantForIndex(n);for(;u&&!(Zt.isMember(u)||Zt.isBlock(u));)u=(s=u.parent)!=null?s:void 0;return u}finally{r==null||r.delete()}}static isMember(e){switch(e==null?void 0:e.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e==null?void 0:e.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};i(Zt,"BlockTokenSubsetMatcher"),Zt.FACTORY=i(e=>({to:i(n=>new Zt(n,e),"to")}),"FACTORY");var Li=Zt;function P_(t,e){let n=new Set;return e.forEach(r=>{t.has(r)&&n.add(r)}),n.size}i(P_,"computeScore");function R_(t,e){return(e.useSubsetMatching?Li.FACTORY(e.snippetLength):Ri.FACTORY(e.snippetLength)).to(t)}i(R_,"getMatcher");async function Ad(t,e,n){let r=R_(t,n);return n.maxTopSnippets===0?[]:(await e.filter(u=>u.source.length<n.maxCharPerFile&&u.source.length>0).slice(0,n.maxNumberOfFiles).reduce(async(u,o)=>(await u).concat((await r.findMatches(o,n.maxSnippetsPerFile)).map(a=>({relativePath:o.relativePath,...a}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>n.threshold).sort((u,o)=>u.score-o.score).slice(-n.maxTopSnippets)}i(Ad,"getSimilarSnippets");var C_=500,dE=8192-C_;var Ui=Dt(require("path")),Rt=require("worker_threads");function yy(t){return new Promise(e=>{setTimeout(()=>e(`delay: ${t}`),t)})}i(yy,"sleep");var _f=["getSimilarSnippets","sleep"],Ta=class Ta{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Ad;this.sleep=yy;var e;!Rt.isMainThread&&((e=Rt.workerData)!=null&&e.port)&&(hf(),process.cwd=()=>Rt.workerData.cwd,this.configureWorkerResponse(Rt.workerData.port))}initWorker(){let{port1:e,port2:n}=new Rt.MessageChannel;this.port=e,this.worker=new Rt.Worker(Ui.default.resolve(Ui.default.extname(__filename)!==".ts"?__dirname:Ui.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:n,cwd:process.cwd()},transferList:[n]}),this.port.on("message",r=>this.handleMessage(r)),this.port.on("error",r=>this.handleError(r))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let e of _f)this.fns.set(e,this[e]),this.proxy(e)}unproxyFunctions(){for(let e of _f){let n=this.fns.get(e);if(n)this[e]=n;else throw new Error(`Unproxy function not found: ${e}`)}}configureWorkerResponse(e){this.port=e,this.port.on("message",n=>void this.onMessage(n))}async onMessage({id:e,fn:n,args:r}){let s=this[n];if(!s)throw new Error(`Function not found: ${n}`);try{let u=await s.apply(this,r);this.port.postMessage({id:e,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:e,err:u,code:u.code}):this.port.postMessage({id:e,err:u})}}handleMessage({id:e,err:n,code:r,res:s}){let u=this.handlers.get(e);u&&(this.handlers.delete(e),n?(n.code=r,u.reject(n)):u.resolve(s))}handleError(e){var r;let n;if(e instanceof Error){n=e,n.code==="MODULE_NOT_FOUND"&&((r=n.message)!=null&&r.endsWith("workerProxy.js'"))&&(n=new Ht("Failed to load workerProxy.js"));let s=new Error().stack;n.stack&&(s!=null&&s.match(/^Error\n/))&&(n.stack+=s.replace(/^Error/,""))}else e&&typeof e=="object"&&"name"in e&&e.name==="ExitStatus"&&"status"in e&&typeof e.status=="number"?(n=new Error(`workerProxy.js exited with status ${e.status}`),n.code=`CopilotPromptWorkerExit${e.status}`):n=new Error(`Non-error thrown: ${JSON.stringify(e)}`);for(let s of this.handlers.values())s.reject(n);throw n}proxy(e){this[e]=function(...n){let r=this.nextHandlerId++;return new Promise((s,u)=>{var o;this.handlers.set(r,{resolve:s,reject:u}),(o=this.port)==null||o.postMessage({id:r,fn:e,args:n})})}}};i(Ta,"WorkerProxy");var xa=Ta,by=new xa;var ka=class ka{constructor(e,n,r){this.languageId=e;this.nodeMatch=n;this.nodeTypesWithBlockOrStmtChild=r}async getNodeMatchAtPosition(e,n,r){let s=await hn(this.languageId,e);try{let o=s.rootNode.descendantForIndex(n);for(;o;){let a=this.nodeMatch[o.type];if(a){if(!this.nodeTypesWithBlockOrStmtChild.has(o.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(o.type),c=l==""?o.namedChildren[0]:o.childForFieldName(l);if((c==null?void 0:c.type)==a)break}o=o.parent}return o?r(o):void 0}finally{s.delete()}}getNextBlockAtPosition(e,n,r){return this.getNodeMatchAtPosition(e,n,s=>{let u=s.children.reverse().find(o=>o.type==this.nodeMatch[s.type]);if(u){if(this.languageId=="python"&&u.parent){let o=u.parent.type==":"?u.parent.parent:u.parent,a=o==null?void 0:o.nextSibling;for(;a&&a.type=="comment";){let l=a.startPosition.row==u.endPosition.row&&a.startPosition.column>=u.endPosition.column,c=a.startPosition.row>o.endPosition.row&&a.startPosition.column>o.startPosition.column;if(l||c)u=a,a=a.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return r(u)}})}async isBlockBodyFinished(e,n,r){let s=(e+n).trimEnd(),u=await this.getNextBlockAtPosition(s,r,o=>o.endIndex);if(u!==void 0&&u<s.length){let o=u-e.length;return o>0?o:void 0}}getNodeStart(e,n){let r=e.trimEnd();return this.getNodeMatchAtPosition(r,n,s=>s.startIndex)}};i(ka,"BaseBlockParser");var Wi=ka,Ia=class Ia extends Wi{constructor(n,r,s,u,o){super(n,u,o);this.blockEmptyMatch=r;this.lineMatch=s}isBlockStart(n){return this.lineMatch.test(n.trimStart())}async isBlockBodyEmpty(n,r){let s=await this.getNextBlockAtPosition(n,r,u=>{u.startIndex<r&&(r=u.startIndex);let o=n.substring(r,u.endIndex).trim();return o==""||o.replace(/\s/g,"")==this.blockEmptyMatch});return s===void 0||s}async isEmptyBlockStart(n,r){return r=bf(n,r),this.isBlockStart(wy(n,r))&&this.isBlockBodyEmpty(n,r)}};i(Ia,"RegexBasedBlockParser");var Bi=Ia;function wy(t,e){let n=t.lastIndexOf(`
`,e-1),r=t.indexOf(`
`,e);return r<0&&(r=t.length),t.slice(n+1,r)}i(wy,"getLineAtOffset");function bf(t,e){let n=e;for(;n>0&&/\s/.test(t.charAt(n-1));)n--;return n}i(bf,"rewindToNearestNonWs");function yf(t,e){let n=t.startIndex,r=t.startIndex-t.startPosition.column,s=e.substring(r,n);if(/^\s*$/.test(s))return s}i(yf,"indent");function Sy(t,e,n){if(e.startPosition.row<=t.startPosition.row)return!1;let r=yf(t,n),s=yf(e,n);return r!==void 0&&s!==void 0&&r.startsWith(s)}i(Sy,"outdented");var Pa=class Pa extends Wi{constructor(n,r,s,u,o,a,l){super(n,r,s);this.startKeywords=u;this.blockNodeType=o;this.emptyStatementType=a;this.curlyBraceLanguage=l}isBlockEmpty(n,r){var u,o;let s=n.text.trim();return this.curlyBraceLanguage&&(s.startsWith("{")&&(s=s.slice(1)),s.endsWith("}")&&(s=s.slice(0,-1)),s=s.trim()),!!(s.length==0||this.languageId=="python"&&(((u=n.parent)==null?void 0:u.type)=="class_definition"||((o=n.parent)==null?void 0:o.type)=="function_definition")&&n.children.length==1&&Nd(n.parent))}async isEmptyBlockStart(n,r){var u,o,a,l;if(r>n.length)throw new RangeError("Invalid offset");for(let c=r;c<n.length&&n.charAt(c)!=`
`;c++)if(/\S/.test(n.charAt(c)))return!1;r=bf(n,r);let s=await hn(this.languageId,n);try{let c=s.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let x=c;for(;x.parent;){if(x.type=="function_signature"||x.type=="method_signature"){let T=c.nextSibling;return T&&x.hasError()&&Sy(x,T,n)?!0:!x.children.find(R=>R.type==";")&&x.endIndex<=r}x=x.parent}}let m=null,g=null,_=null,w=c;for(;w!=null;){if(w.type==this.blockNodeType){g=w;break}if(this.nodeMatch[w.type]){_=w;break}if(w.type=="ERROR"){m=w;break}w=w.parent}if(g!=null){if(!g.parent||!this.nodeMatch[g.parent.type])return!1;if(this.languageId=="python"){let x=g.previousSibling;if(x!=null&&x.hasError()&&(x.text.startsWith('"""')||x.text.startsWith("'''")))return!0}return this.isBlockEmpty(g,r)}if(m!=null){if(((u=m.previousSibling)==null?void 0:u.type)=="module"||((o=m.previousSibling)==null?void 0:o.type)=="internal_module"||((a=m.previousSibling)==null?void 0:a.type)=="def")return!0;let x=[...m.children].reverse(),T=x.find(R=>this.startKeywords.includes(R.type)),O=x.find(R=>R.type==this.blockNodeType);if(T){switch(this.languageId){case"python":{T.type=="try"&&c.type=="identifier"&&c.text.length>4&&(O=(l=x.find(q=>q.hasError()))==null?void 0:l.children.find(q=>q.type=="block"));let R,H=0;for(let q of m.children){if(q.type==":"&&H==0){R=q;break}q.type=="("&&(H+=1),q.type==")"&&(H-=1)}if(R&&T.endIndex<=R.startIndex&&R.nextSibling){if(T.type=="def"){let q=R.nextSibling;if(q.type=='"'||q.type=="'"||q.type=="ERROR"&&(q.text=='"""'||q.text=="'''"))return!0}return!1}break}case"javascript":{let R=x.find(Q=>Q.type=="formal_parameters");if(T.type=="class"&&R)return!0;let H=x.find(Q=>Q.type=="{");if(H&&H.startIndex>T.endIndex&&H.nextSibling!=null||x.find(Q=>Q.type=="do")&&T.type=="while"||T.type=="=>"&&T.nextSibling&&T.nextSibling.type!="{")return!1;break}case"typescript":{let R=x.find(q=>q.type=="{");if(R&&R.startIndex>T.endIndex&&R.nextSibling!=null||x.find(q=>q.type=="do")&&T.type=="while"||T.type=="=>"&&T.nextSibling&&T.nextSibling.type!="{")return!1;break}}return O&&O.startIndex>T.endIndex?this.isBlockEmpty(O,r):!0}}if(_!=null){let x=this.nodeMatch[_.type],T=_.children.slice().reverse().find(O=>O.type==x);if(T)return this.isBlockEmpty(T,r);if(this.nodeTypesWithBlockOrStmtChild.has(_.type)){let O=this.nodeTypesWithBlockOrStmtChild.get(_.type),R=O==""?_.children[0]:_.childForFieldName(O);if(R&&R.type!=this.blockNodeType&&R.type!=this.emptyStatementType)return!1}return!0}return!1}finally{s.delete()}}};i(Pa,"TreeSitterBasedBlockParser");var Kt=Pa,RT={python:new Kt("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Kt("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Kt("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Kt("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Bi("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Bi("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new Kt("csharp",{},new Map([]),[],"block",null,!0),java:new Kt("java",{},new Map([]),[],"block",null,!0)};function wn(t){switch(t){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}i(wn,"isTypeDefinition");var $n=class $n{constructor(e,n){this.start=e,this.length=n}static fromBounds(e,n){return new $n(e,n-e)}get end(){return this.start+this.length}contains(e){return this.start<=e&&this.end>=e}containsRange(e){return this.start<=e.start&&this.end>=e.end}equals(e){return this.start===e.start&&this.length===e.length}getText(e){return e.slice(this.start,this.end)}getTextWithIndentation(e,n){let r=[],s=this.start;for(s=wf(e,e.length,s),vf(r,n);s<this.end;)e[s]!=="\r"&&e[s]!==`
`?r.push(e[s++]):e[s]==="\r"&&s<e.length&&e[s+1]!==`
`||e[s]===`
`?(r.push(`
`),s=wf(e,e.length,++s),vf(r,n)):s++;return r.join("")}};i($n,"TextRange"),$n.empty=new $n(0,0);var ut=$n;function vf(t,e){for(let n=0;n<e;n++)t.push(" ")}i(vf,"appendIndent");function wf(t,e,n){for(;n<e&&(t[n]===" "||t[n]==="	");)n++;return n}i(wf,"consumeIndent");var Ra=class Ra{constructor(e,n,r,s,u,o,a,l,c){this.fileName=e;this.fullyQualifiedName=n;this.unqualifiedName=r;this.commentRange=s;this.nameRange=u;this.bodyRange=o;this.extentRange=a;this.kind=l;this.refKind=c;if(e.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}equals(e){return this.fileName===e.fileName&&this.fullyQualifiedName===e.fullyQualifiedName&&this.unqualifiedName===e.unqualifiedName&&this.commentRange.equals(e.commentRange)&&this.nameRange.equals(e.nameRange)&&this.bodyRange.equals(e.bodyRange)&&this.extentRange.equals(e.extentRange)&&this.kind===e.kind&&this.refKind===e.refKind}};i(Ra,"SymbolRange");var Vn=Ra,Ur=class Ur{constructor(){this.queriesCache=new Map}async executeQuery(e,n,r){let s;try{s=await hn(this.languageId,n);let u=s.getLanguage(),a=this.getOrCreateQuery(u,r).matches(s.rootNode),l=new mi,c=[];for(let m of a){let g=this.createSymbolRange(l,e,n,m.captures);g&&c.push(g)}return c}finally{s==null||s.delete()}}getOrCreateQuery(e,n){let r=this.queriesCache.get(n);return r||(r=e.query(n),this.queriesCache.set(n,r)),r}createSymbolRange(e,n,r,s){let u=0,o=0,a=0,l=0,c=0,m=0,g=0,_=0,w=null,x=null;for(let R=0;R<s.length;R++){let H=s[R].name;H==="name"?(c=s[R].node.startIndex,m=s[R].node.endIndex):H==="reference"?(c=s[R].node.startIndex,m=s[R].node.endIndex,a=s[R].node.startIndex,l=s[R].node.endIndex,w=H):H==="body"?(g=s[R].node.startIndex,_=s[R].node.endIndex):H==="comment"?(u=u===0?s[R].node.startIndex:Math.min(u,s[R].node.startIndex),o=Math.max(o,s[R].node.endIndex)):H==="receiver"?x=ut.fromBounds(s[R].node.startIndex,s[R].node.endIndex).getText(r):(a=s[R].node.startIndex,l=s[R].node.endIndex,w=H)}w==="definition.module.filescoped"&&(_=r.length,l=_);let T=ut.fromBounds(a,l),O=a>0||l>0||c>0||m>0?new Vn(n,"","",ut.fromBounds(u,o),ut.fromBounds(c,m),ut.fromBounds(g,_),T,Ur.kindFromString(w),0):null;if(O){Ur.updateScopesForSymbol(e,O);let R=O.nameRange.getText(r),H=this.createNameFromScopes(r,e.toArray());return H=x?`${x}.${H}`:H,new Vn(n,H,R.substring(R.lastIndexOf(".")+1),O.commentRange,O.nameRange,O.bodyRange,O.extentRange,O.kind,0)}return null}static updateScopesForSymbol(e,n){var r;for(;e.tryPeek()&&!((r=e.peek())!=null&&r.extentRange.containsRange(n.extentRange));)e.pop();e.push(n)}static kindFromString(e){switch(e){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};i(Ur,"SymbolExtractorBase");var wt=Ur;var Ma=class Ma extends wt{get languageId(){return"go"}extractSymbols(e,n){return this.executeQuery(e,n,Ey)}createNameFromScopes(e,n){return n.map(r=>r.nameRange.getText(e)).join(".")}};i(Ma,"GoSymbolExtractor");var zi=Ma,Ca=class Ca extends wt{get languageId(){return"go"}createNameFromScopes(e,n){return n.length>0?n[n.length-1].nameRange.getText(e):""}extractReferences(e,n){return this.executeQuery(e,n,xy)}async extractLocalReferences(e,n,r){let s=await this.executeQuery(e,n,Ty),u=s.filter(l=>l.kind!==9),o=s.filter(l=>l.kind===9&&l.extentRange.containsRange(r)),a=[];for(let l of o)a.push(...u.filter(c=>l.extentRange.containsRange(c.extentRange)));return a}};i(Ca,"GoReferenceExtractor");var $i=Ca,Ey=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,xy=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,Ty=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;var La=class La extends wt{get languageId(){return"java"}extractSymbols(e,n){return this.executeQuery(e,n,ky)}createNameFromScopes(e,n){return n.map(r=>r.nameRange.getText(e)).join(".")}};i(La,"JavaSymbolExtractor");var Vi=La,Na=class Na extends wt{get languageId(){return"java"}createNameFromScopes(e,n){return n.length>0?n[n.length-1].nameRange.getText(e):""}extractReferences(e,n){return this.executeQuery(e,n,Iy)}async extractLocalReferences(e,n,r){let s=await this.executeQuery(e,n,Py),u=s.filter(l=>l.kind!==9),o=s.filter(l=>l.kind===9&&l.extentRange.containsRange(r)),a=[];for(let l of o)a.push(...u.filter(c=>l.extentRange.containsRange(c.extentRange)));return a}};i(Na,"JavaReferenceExtractor");var Hi=Na,ky=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,Iy=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,Py=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;var Ry=new Set(["int","str","float","bool","list","dict","tuple","set"]),Aa=class Aa extends wt{get languageId(){return"python"}extractSymbols(e,n){return this.executeQuery(e,n,My)}createNameFromScopes(e,n){return n.map(r=>r.nameRange.getText(e)).join(".")}};i(Aa,"PythonSymbolExtractor");var Gi=Aa,Oa=class Oa extends wt{get languageId(){return"python"}createNameFromScopes(e,n){return n.length>0?n[n.length-1].nameRange.getText(e):""}async extractReferences(e,n){return(await this.executeQuery(e,n,Cy)).filter(s=>!Ry.has(s.unqualifiedName))}async extractLocalReferences(e,n,r){let s=await this.executeQuery(e,n,Ly),u=s.filter(l=>l.kind!==9),o=s.filter(l=>l.kind===9&&l.extentRange.containsRange(r)),a=[];for(let l of o)a.push(...u.filter(c=>l.extentRange.containsRange(c.extentRange)));return a}};i(Oa,"PythonReferenceExtractor");var Zi=Oa,My=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,Cy=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,Ly=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var Da=[{symbolExtractor:new Vi,referenceExtractor:new Hi,languageId:"java"},{symbolExtractor:new zi,referenceExtractor:new $i,languageId:"go"},{symbolExtractor:new Gi,referenceExtractor:new Zi,languageId:"python"}];var Ef=Da.map(t=>t.referenceExtractor),xf=Da.map(t=>t.symbolExtractor),Nk=Da.map(t=>ln[t.languageId].extensions).flat();var Tf=require("fs");async function kf(t,e,n,r,s){let u=new Map,o=0;for(let g of t){let _=g.node.fileName.toLowerCase(),w=u.get(_);w?w.symbols.push(g):u.set(_,{symbols:[g],topRank:o}),o++}if(u.delete(n.toLowerCase()),u.size===0)return[];let a=e,l=e/Math.min(4,u.size),c=[],m=Array.from(u.keys());m.sort((g,_)=>{let w=u.get(g).topRank,x=u.get(_).topRank;return w-x});for(let g of m){let _=u.get(g).symbols;if(_.length===0)continue;let w=_[0].node.fileName,x=_.reduce((T,O)=>T+O.node.extentRange.length,0);for(let T of _){if(a<=5)return c;Ft(s);let O=T.node.extentRange.length/x,R=Math.min(a,O*l),H=(await Ny([T])).makePrompt(R);a-=r.tokenLength(H),c.push({uri:w,value:H})}}return c}i(kf,"symbolRangesToCodeSnippets");async function Ny(t){if(t.length===0)return new gn([]);let e=t[0].node.fileName,n=[],r=cn(e).fsPath,s=(await Tf.promises.readFile(r)).toString();for(let u of t)If(u,s).forEach(o=>n.push(o));return new gn(n)}i(Ny,"sameFileSymbolRangeToElidableText");function If(t,e){let r=[],s=t.node,u=e.substring(Fa(e,s.commentRange.start),s.commentRange.end);r.push([ja(u),1-3e-4]);let o=Fa(e,s.bodyRange.start),a=Fa(e,s.extentRange.start),l=s.bodyRange.length===0?e.substring(a,s.extentRange.end):e.substring(s.commentRange.length===0?a:s.commentRange.end,o);if(wn(s.kind)&&(l="BEGIN "+l.trimStart()),r.push([ja(l),1-1e-4]),t.children.length>0)for(let c of t.children)r.push(...If(c,e));else{let c=1-(wn(t.node.kind)?3e-4:4e-4),m=e.substring(o,s.bodyRange.end);r.push([ja(m),c])}return wn(s.kind)&&r.push(["END "+l.substring(6),1-1e-4]),r.filter(c=>c[0].length>0)}i(If,"prepareForElidableText");function Fa(t,e){for(;e-1>=0&&(t[e-1]==="	"||t[e-1]===" ");)e--;return e}i(Fa,"shiftLeftToNearestLineEndingOrAlphanumeric");function ja(t){let e=0;for(;e<t.length&&(t[e]==="\r"||t[e]===`
`);)e++;let n=t.length-1;for(;n>=0&&(t[n]==="\r"||t[n]===`
`||t[n]===" "||t[n]==="	");)n--;return t.substring(e,n+1)}i(ja,"trimLineEndingsAndTrailingWhitespace");var Ua=class Ua{constructor(e,n){this.referenceExtractors=new Map;this.index=e;for(let r of n)this.referenceExtractors.set(r.languageId,r)}};i(Ua,"ContextRetrievalStrategy");var qa=Ua,Wa=class Wa extends qa{constructor(e,n,r,s){super(e,n),this.caseSensitive=r,this.typesOnly=s}async getContextAtPositionAsync(e,n,r,s,u){let o=this.referenceExtractors.get(s);if(!o)return[];Ft(u);let a=await o.extractReferences(e,n);Ft(u);let l=Array.from(a);l.sort((_,w)=>this.compareSymbolRangesByProximityToCaret(_,w,r));let c=[],m=new Set,g=await this.findDefinitionsViaUnqualifiedNames(l,u);this.typesOnly&&(g=g.filter(_=>wn(_.kind)));for(let _ of g)m.has(JSON.stringify(_))||(m.add(JSON.stringify(_)),c.push(await this.makeSymbolRangeNodeFromDefinition(_,u)));return c}async findDefinitionsViaUnqualifiedNames(e,n){var m;let r=Array.from(new Set(e.map(g=>g.unqualifiedName))),s=!this.caseSensitive,u=await this.index.findPotentialDefinitionsAsync(r,s,n),o=i(g=>s?g.toLowerCase():g,"lowercaseIfCaseInsensitive"),a=i(g=>o(g.unqualifiedName),"getSymbolKey"),l=new Map;for(let g of u){let _=a(g),w=(m=l.get(_))!=null?m:[];l.set(_,[...w,g])}let c=[];for(let g of r){let _=l.get(o(g));!_||_.length>20||c.push(..._)}return c}async makeSymbolRangeNodeFromDefinition(e,n){if(Ft(n),wn(e.kind)){let r=await this.index.findSymbolsByFullyQualifiedNamePrefix(e.fileName,e.fullyQualifiedName+".",n),s=await Promise.all(r.map(u=>this.makeSymbolRangeNodeFromDefinition(u,n)));return{node:e,children:s}}else return{node:e,children:[]}}compareSymbolRangesByProximityToCaret(e,n,r){let s=e.extentRange.end<=r,u=n.extentRange.end<=r;if(s&&!u)return-1;if(!s&&u)return 1;let o=Math.abs(e.extentRange.start-r),a=Math.abs(n.extentRange.start-r);return o-a}};i(Wa,"UnqualifiedNameRetrievalStrategy");var Wr=Wa,Ba=class Ba{constructor(e,n){this.strategies=new Map;this.strategies.set("go",new Wr(e,n,!0,!0)),this.strategies.set("java",new Wr(e,n,!0,!0)),this.strategies.set("python",new Wr(e,n,!0,!1))}async getStringifiedContextAtPositionAsync(e,n,r,s,u,o){let a=await this.getContextAtPositionAsync(e,n,r,s,o);Ft(o);let l=yt();return kf(a,u,e,l,o)}async getContextAtPositionAsync(e,n,r,s,u){return this.strategies.has(s)?this.strategies.get(s).getContextAtPositionAsync(e,n,r,s,u):[]}};i(Ba,"SyntaxAwareContextRetrieval");var Qi=Ba;var Sn={Id:"id"},it={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},ae={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};var $a=class $a{constructor(e,n,r){this.tableName=e;this.createOptimizations=n;this.extraCreateDeclarations=r;this.primaryKey=new za(Sn.Id)}createTableQueries(){var e;return(e=this.createTableString)!=null||(this.createTableString=this.generateCreateTableString()),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let e=this.fields.map(n=>n.initColumnString());return this.extraCreateDeclarations&&e.push(this.extraCreateDeclarations),e.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${e.join(`,
`)}`,")"].join(`
`)}insertQuery(e,n){var s;(s=this.cachedInsertQueryStrings)!=null||(this.cachedInsertQueryStrings=this.generateInsertQueryStrings());let r=[this.cachedInsertQueryStrings.prefix,Array(n).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return e&&r.push("ON CONFLICT DO NOTHING"),r.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(e=>e.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}};i($a,"SQLTableQueryGenerator");var Ji=$a,Hn=class Hn extends Ji{constructor(){super(Hn.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${Hn.tableName}' ('${it.FilePath}');`]);this.fields=[new Vr(it.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Ke(it.LastWriteTimeUtc,{notNull:!0})]}};i(Hn,"DocumentQueryGenerator"),Hn.tableName="Document";var Br=Hn,En=class En extends Ji{constructor(){super(En.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${En.tableName}' ('${ae.DocumentId}', '${ae.ExtentStart}', '${ae.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${En.tableName}' ('${ae.UnqualifiedName}');`],`FOREIGN KEY(${ae.DocumentId}) REFERENCES Document(${Sn.Id}) ON DELETE CASCADE`);this.fields=[new Ke(ae.DocumentId),new Vr(ae.FullyQualifiedName,{notNull:!0}),new Vr(ae.UnqualifiedName,{notNull:!0}),new Ke(ae.CommentStart,{notNull:!0}),new Ke(ae.CommentLength,{notNull:!0}),new Ke(ae.NameStart,{notNull:!0}),new Ke(ae.NameLength,{notNull:!0}),new Ke(ae.BodyStart,{notNull:!0}),new Ke(ae.BodyLength,{notNull:!0}),new Ke(ae.ExtentStart,{notNull:!0}),new Ke(ae.ExtentLength,{notNull:!0}),new Ke(ae.SymbolKind,{notNull:!0}),new Ke(ae.RefKind,{notNull:!0})]}};i(En,"SymbolQueryGenerator"),En.tableName="Symbol";var zr=En,Va=class Va{constructor(e,n){this.name=e;var r;this.notNull=(r=n==null?void 0:n.notNull)!=null?r:!1}};i(Va,"SQLField");var $r=Va,Ha=class Ha extends $r{constructor(e,n){var r,s,u;super(e,{notNull:n==null?void 0:n.notNull}),this.collate=(r=n==null?void 0:n.collate)!=null?r:!1,this.noCase=(s=n==null?void 0:n.noCase)!=null?s:!1,this.unique=(u=n==null?void 0:n.unique)!=null?u:!1}initColumnString(){let e=this.collate?"COLLATE":void 0,n=this.noCase?"NOCASE":void 0,r=this.notNull?"NOT NULL":void 0,s=this.unique?"UNIQUE":void 0,u=[e,n,r,s].filter(o=>o).join(" ");return`'${this.name}' VARCHAR(500) ${u}`}};i(Ha,"StringColumn");var Vr=Ha,Ga=class Ga extends $r{initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}};i(Ga,"NumberColumn");var Ke=Ga,Za=class Za extends $r{initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};i(Za,"NumberPrimaryKeyColumn");var za=Za;var Qa=class Qa{constructor(e){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(e)}async doInit(e){let n=await e;return await this.create(n),n}async create(e){let n=i(s=>new Promise((u,o)=>{e.run(s,a=>{a?o(a):u()})}),"runQuery"),r=this.queryGenerator.createTableQueries();for(let s of r)await n(s)}async insert(e,n){let r=await this.init;return new Promise((s,u)=>{let o=this.queryGenerator.insertQuery(n,e.length);r.run(o,e.map(a=>Object.values(a)).flat(),function(a){a?u(a):s(this)})})}async getAllRows(){let e=await this.init;return lt(e,`SELECT * FROM ${this.queryGenerator.tableName}`,[])}async deleteRow(e){let n=await this.init;return lt(n,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${Sn.Id} = ?`,[e])}};i(Qa,"SQLTable");var Ki=Qa,Gn=class Gn extends Ki{createQueryGenerator(){return new Br}async updateTimestamp(e,n){let r=await this.init;await lt(r,`UPDATE ${Gn.tableName} SET ${it.LastWriteTimeUtc} = ? WHERE ${it.FilePath} = ?`,[n,e])}async deleteAllWithPath(e){let n=await this.init;await lt(n,`DELETE FROM ${Gn.tableName} WHERE ${it.FilePath} = ?`,[e])}async getDocumentByFilePath(e){let n=await this.init;return lt(n,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${it.FilePath} = ?`,[e])}};i(Gn,"DocumentTable"),Gn.tableName=Br.tableName;var Ut=Gn,Hr=class Hr extends Ki{createQueryGenerator(){return new zr}async clearAllSymbolsFromDocument(e){let n=await this.init;return lt(n,`DELETE FROM ${Hr.tableName} WHERE ${ae.DocumentId} = ?`,[e])}};i(Hr,"SymbolTable"),Hr.tableName=zr.tableName;var De=Hr;async function lt(t,e,n){return new Promise((r,s)=>t.all(e,n,(u,o)=>{u&&s(u),r(o)}))}i(lt,"runPromisifiedDBQuery");var Wf=Dt(Uf());var eu=class eu{constructor(e){this.databaseFileName=e;this.innerJoinStatement=`INNER JOIN ${Ut.tableName} ON ${De.tableName}.${ae.DocumentId} = ${Ut.tableName}.${Sn.Id}`;this.db=this.initDb(e),this.documentTable=new Ut(this.db),this.symbolTable=new De(this.db)}async initDb(e){let n=await new Promise((r,s)=>{let u=new Wf.Database(e,o=>{o?(console.error("Error opening database",o),s(o)):r(u)})});return await lt(n,"pragma journal_mode=wal",[]),await lt(n,"pragma synchronous=normal",[]),await lt(n,"pragma optimize=0x10002",[]),await lt(n,"pragma foreign_keys = ON",[]),n}async close(){let e=await this.db;return await this.documentTable.init,await this.symbolTable.init,new Promise((n,r)=>{e.close(s=>s?r(s):n())})}async querySymbolsFuzzilyUsingUnqualifiedName(e,n){return await this.query([`SELECT * FROM ${De.tableName}`,this.innerJoinStatement,`WHERE ${ae.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${ae.UnqualifiedName}`,"LIMIT ?"].join(`
`),[e,e,n])}async querySymbolsUsingUnqualifiedNames(e,n){let r=e.map(()=>"?").join(", "),s=n?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${De.tableName}`,this.innerJoinStatement,`WHERE ${ae.UnqualifiedName} ${s}IN (${r})`].join(`
`),e)}async querySymbolsUsingFullyQualifiedName(e){return this.query([`SELECT * FROM ${De.tableName}`,this.innerJoinStatement,`WHERE ${ae.FullyQualifiedName} = ?`].join(`
`),[e])}async querySymbolsContainingPosition(e,n){return this.query([`SELECT * FROM ${De.tableName}`,this.innerJoinStatement,`WHERE ${Ut.tableName}.${it.FilePath} = ? AND ${De.tableName}.${ae.ExtentStart} <= ? AND (${De.tableName}.${ae.ExtentStart} + ${De.tableName}.${ae.ExtentLength}) >= ?`].join(`
`),[e,n,n])}async querySymbolsContainedByRange(e,n,r){return this.query([`SELECT * FROM ${De.tableName}`,this.innerJoinStatement,`WHERE ${Ut.tableName}.${it.FilePath} = ? AND ${De.tableName}.${ae.ExtentStart} >= ? AND (${De.tableName}.${ae.ExtentStart} + ${De.tableName}.${ae.ExtentLength}) <= ?`,`ORDER BY ${De.tableName}.${ae.ExtentStart}`].join(`
`),[e,n,r])}async querySymbolsByQualifiedNamePrefix(e,n){return this.query([`SELECT * FROM ${De.tableName}`,this.innerJoinStatement,`WHERE ${Ut.tableName}.${it.FilePath} = ? AND ${De.tableName}.${ae.FullyQualifiedName} LIKE ?`,`ORDER BY ${De.tableName}.${ae.ExtentStart}`].join(`
`),[e,`${n}%`])}async insertSymbols(e){return await this.symbolTable.insert(e,!1)}async insertDocument(e,n,r=!1){return await this.documentTable.insert([{filePath:e,lastWriteTimeUtc:n}],r)}async clearAllSymbolsFromDocument(e){return this.symbolTable.clearAllSymbolsFromDocument(e)}async updateDocumentTimestamp(e,n){return this.documentTable.updateTimestamp(e,n)}async deleteAllDocumentsWithPath(e){return this.documentTable.deleteAllWithPath(e)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(e){return this.documentTable.getDocumentByFilePath(e)}async query(e,n){let r=await this.db;return await this.documentTable.init,await this.symbolTable.init,lt(r,e,n)}};i(eu,"DocumentSymbolDatabase");var eo=eu;var tu=class tu{constructor(e){this.database=new eo(e)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(e,n,r){let s=await this.getOrCreateDocumentAsync(e,n);await this.database.clearAllSymbolsFromDocument(s.id),r.length>0&&await this.database.insertSymbols(r.map(u=>({documentId:s.id,fullyQualifiedName:u.fullyQualifiedName,unqualifiedName:u.unqualifiedName,commentStart:u.commentRange.start,commentLength:u.commentRange.length,nameStart:u.nameRange.start,nameLength:u.nameRange.length,bodyStart:u.bodyRange.start,bodyLength:u.bodyRange.length,extentStart:u.extentRange.start,extentLength:u.extentRange.length,symbolKind:u.kind,refKind:u.refKind}))),await this.database.updateDocumentTimestamp(e,n)}async addDocumentsAsync(e){for(let n of e)n=n.toLowerCase(),await this.database.insertDocument(n,Date.now(),!0)}async deleteDocumentAsync(e){return await this.database.deleteAllDocumentsWithPath(e.toLowerCase())}async updateDocumentTimestampAsync(e,n){return await this.database.updateDocumentTimestamp(e.toLowerCase(),n)}async fuzzyMatchSymbolsAsync(e,n){return Jn(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(e,n))}async findPotentialDefinitionsAsync(e,n,r){let s=[],o=0;for(;o<e.length;){let a=e.slice(o,o+500);o+=500;let l=await this.database.querySymbolsUsingUnqualifiedNames(a,n);s.push(...l),Ft(r)}return Jn(s)}async getDefinitionsAsync(e){return Jn(await this.database.querySymbolsUsingFullyQualifiedName(e))}async findSymbolsContainingPositionAsync(e,n){let r=await this.database.querySymbolsContainingPosition(e.toLowerCase(),n);return Jn(r)}async findSymbolsContainedByRangeAsync(e,n,r){return Jn(await this.database.querySymbolsContainedByRange(e.toLowerCase(),n,r))}async findSymbolsByFullyQualifiedNamePrefix(e,n){return Jn(await this.database.querySymbolsByQualifiedNamePrefix(e.toLowerCase(),n))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(e){let n=await this.database.getDocument(e);if(n!=null&&n.at(0))return n[0]}async getOrCreateDocumentAsync(e,n){let r=await this.database.getDocument(e);if(r!=null&&r.at(0))return r[0];await this.database.insertDocument(e,n,!0);let s=await this.database.getDocument(e);if(!s)throw Error("Unable to insert document");return s[0]}};i(tu,"SQLStorageReaderWriter");var to=tu;function Jn(t){return t.map(e=>new Vn(e.filePath,e.fullyQualifiedName,e.unqualifiedName,new ut(e.commentStart,e.commentLength),new ut(e.nameStart,e.nameLength),new ut(e.bodyStart,e.bodyLength),new ut(e.extentStart,e.extentLength),e.symbolKind,e.refKind))}i(Jn,"symbolsToSymbolRanges");var ro=Dt(require("fs/promises"));var nu=class nu{constructor(e,n){this.storage=new to(e),this.symbolExtractors=n}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(e,n){let r=Hc(cn(e));if(!r)throw Error(`Cannot resolve a readable file path from ${e}`);let s;try{s=await ro.stat(r)}catch{await this.storage.deleteDocumentAsync(e);return}let u=s.mtimeMs,o=await this.storage.getDocumentAsync(e);if(o&&o.lastWriteTimeUtc>=u)return;let a=this.symbolExtractors.find(m=>m.languageId==n);if(!a)return;let l=(await ro.readFile(r)).toString(),c=await a.extractSymbols(e,l);await this.storage.insertOrReplaceDocumentSymbolsAsync(e,u,c)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(n=>n.filePath)}};i(nu,"Index");var no=nu;function Bf(t){let e=t;return typeof(e==null?void 0:e.cwd)=="string"&&Array.isArray(e==null?void 0:e.indexWorkspaceRoots)&&e.indexWorkspaceRoots.every(n=>Uy(n))}i(Bf,"isIndexWorkerData");var iu=class iu{constructor(e){this.operation=e}};i(iu,"IndexNotification");var ru=iu;var Wt={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"};var ou=class ou extends ru{constructor(n,r,s){super(Wt.Response);this.id=n;this.error=r;this.data=s;r&&"code"in r&&typeof r.code=="string"&&(this.code=r.code)}};i(ou,"ResponseMessage");var dt=ou;function Uy(t){return"databaseFilePath"in t&&"rootPath"in t}i(Uy,"isIndexableWorkspaceFolder");var Rn=Dt(require("path")),bh=Dt(yh()),_r=require("worker_threads");var Ac=class Ac{constructor(e){this.index=new no(e,xf),this.contextRetreival=new Qi(this.index.reader,Ef)}};i(Ac,"IndexInfo");var Qo=Ac,pt=class pt{constructor(e,n){this.indices=new Map;this.cancellationTokens=new Map;for(let r of n)this.indices.set(Rn.default.normalize(r.rootPath),new Qo(r.databaseFilePath));e.on("message",r=>void pt.dispatchMessage(r,this.indices,this.cancellationTokens))}static async dispatchMessage(e,n,r){var s,u;try{let o=new bh.CancellationTokenSource;r.set(e.id,o);let a;switch(e.operation){case Wt.AddOrInvalidated:a=await pt.dispatchAddOrInvalidate(e,n,o.token);break;case Wt.GetContext:a=await pt.dispatchGetContext(e,n,o.token);break;case Wt.Cancel:(s=r.get(e.id))==null||s.cancel(),a=new dt(e.id,void 0,void 0);break;case Wt.Exit:a=await pt.dispatchExit(e,n,o.token);break;case Wt.CreateIndex:a=await pt.dispatchCreateIndex(e,n,o.token);break;case Wt.RemoveIndex:a=await pt.dispatchRemoveIndex(e,n,o.token);break;case Wt.GetAllDocumentsInWorkspace:a=await pt.GetAllDocumentsInWorkspaceRequest(e,n,o.token);break;default:ze==null||ze.postMessage(new Error(`Unknown operation: ${e.operation}`))}a&&(ze==null||ze.postMessage(a)),(u=r.get(e.id))==null||u.dispose(),r.delete(e.id)}catch(o){if(!(o instanceof Error))throw o;ze==null||ze.postMessage(new dt(e.id,o,void 0))}}static async GetAllDocumentsInWorkspaceRequest(e,n,r){let s=Rn.default.normalize(e.baseWorkspaceFolderPath),u,o;return n.has(s)?o=await n.get(s).index.getDocumentFilePaths():u=new Error(`Index not found for ${e.baseWorkspaceFolderPath}`),new dt(e.id,u,o)}static async dispatchAddOrInvalidate(e,n,r){var o;let s=(o=pt.getIndexInfo(e.filePath,n))==null?void 0:o.index,u;return s?await s.indexFile(e.filePath,e.languageId):u=new Error(`Index not found for ${e.filePath}`),new dt(e.id,u,void 0)}static async dispatchGetContext(e,n,r){var a;if(cn(e.filePath).scheme!=="file")return new dt(e.id,void 0,[]);let s=(a=pt.getIndexInfo(e.filePath,n))==null?void 0:a.contextRetreival,u,o;return s?o=await s.getStringifiedContextAtPositionAsync(e.filePath,e.code,e.offset,e.languageId,8e3,r):u=new Error(`ContextRetrieval not found for ${e.filePath}`),new dt(e.id,u,o)}static async dispatchExit(e,n,r){for(let s of n.values())await s.index.dispose();n.clear(),ze==null||ze.postMessage(new dt(e.id,void 0,void 0)),ze==null||ze.close()}static async dispatchCreateIndex(e,n,r){return n.has(Rn.default.normalize(e.baseWorkspaceFolderPath))||n.set(Rn.default.normalize(e.baseWorkspaceFolderPath),new Qo(e.databaseFilePath)),new dt(e.id,void 0,void 0)}static async dispatchRemoveIndex(e,n,r){let s=Rn.default.normalize(e.baseWorkspaceFolderPath);if(n.has(s)){let u=n.get(s);u&&await u.index.dispose(),n.delete(s)}return new dt(e.id,void 0,void 0)}static getIndexInfo(e,n){for(let[r,s]of n)if(Rn.default.normalize(e).startsWith(r))return s}};i(pt,"IndexWorker");var Nc=pt,ze=_r.parentPort;if(!ze)throw new Error("This module should only be used in a worker thread.");if(!Bf(_r.workerData))throw new Error("Worker data must provide a valid database path.");var $b=_r.workerData.cwd;process.cwd=()=>$b;new Nc(ze,_r.workerData.indexWorkspaceRoots);
//# sourceMappingURL=indexWorker.js.map
